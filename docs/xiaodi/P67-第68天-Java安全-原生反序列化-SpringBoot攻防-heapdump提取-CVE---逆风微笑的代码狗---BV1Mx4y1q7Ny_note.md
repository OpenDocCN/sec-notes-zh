![](img/d530a3c126cf1e4ed71a17381936fe47_0.png)

# Javaå®‰å…¨è¯¾ç¨‹ P67ï¼šJavaåŸç”Ÿååºåˆ—åŒ–ä¸SpringBootæ”»é˜²å®æˆ˜ ğŸ›¡ï¸

![](img/d530a3c126cf1e4ed71a17381936fe47_2.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_4.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_6.png)

åœ¨æœ¬èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†è¦å­¦ä¹ Javaå®‰å…¨ä¸­çš„ä¸¤ä¸ªæ ¸å¿ƒä¸»é¢˜ï¼šJavaåŸç”Ÿååºåˆ—åŒ–æ¼æ´çš„ç®€å•åˆ©ç”¨ï¼Œä»¥åŠSpringBootæ¡†æ¶çš„å¸¸è§å®‰å…¨é—®é¢˜ä¸æ”»é˜²ã€‚è¯¾ç¨‹å†…å®¹æ—¨åœ¨è®©åˆå­¦è€…èƒ½å¤Ÿç†è§£åŸºæœ¬æ¦‚å¿µå¹¶æŒæ¡å®ç”¨å·¥å…·ã€‚

![](img/d530a3c126cf1e4ed71a17381936fe47_8.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_10.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_11.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_12.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_14.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_16.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_18.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_20.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_22.png)

## ä¸€ã€JavaåŸç”Ÿååºåˆ—åŒ–æ¼æ´æ¦‚è¿°

![](img/d530a3c126cf1e4ed71a17381936fe47_24.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_26.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_28.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_30.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_32.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_34.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_36.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬ä»‹ç»äº†Javaå®‰å…¨çš„åŸºç¡€çŸ¥è¯†ï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬æ¥çœ‹çœ‹JavaåŸç”Ÿååºåˆ—åŒ–æ¼æ´ã€‚åºåˆ—åŒ–æ˜¯å°†å¯¹è±¡çŠ¶æ€è½¬æ¢ä¸ºå¯å­˜å‚¨æˆ–ä¼ è¾“æ ¼å¼çš„è¿‡ç¨‹ï¼Œååºåˆ—åŒ–åˆ™æ˜¯å…¶é€†è¿‡ç¨‹ã€‚JavaåŸç”Ÿååºåˆ—åŒ–æ¼æ´é€šå¸¸æºäºå¯¹ä¸å¯ä¿¡æ•°æ®çš„ååºåˆ—åŒ–æ“ä½œã€‚

![](img/d530a3c126cf1e4ed71a17381936fe47_38.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_40.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_42.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_44.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_46.png)

### 1.1 æ¼æ´ç‰¹å¾ä¸å‘ç°

![](img/d530a3c126cf1e4ed71a17381936fe47_48.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_50.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_52.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_54.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_56.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_58.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_60.png)

æ­¤ç±»æ¼æ´åœ¨æµé‡ä¸­é€šå¸¸å…·æœ‰æ˜æ˜¾ç‰¹å¾ï¼Œæœ‰åŠ©äºé»‘ç›’æµ‹è¯•ä¸­çš„è¯†åˆ«ã€‚

![](img/d530a3c126cf1e4ed71a17381936fe47_62.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_64.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_66.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_68.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_70.png)

*   **åºåˆ—åŒ–æ•°æ®ç‰¹å¾**ï¼šåŸå§‹åºåˆ—åŒ–æ•°æ®é€šå¸¸ä»¥ `AC ED 00 05` å¼€å¤´ã€‚
*   **Base64ç¼–ç ç‰¹å¾**ï¼šç»è¿‡Base64ç¼–ç åï¼Œç‰¹å¾é€šå¸¸ä¸º `rO0AB` æˆ– `RO0AB`ã€‚
*   **å‘ç°æ–¹å¼**ï¼š
    *   **é»‘ç›’æµ‹è¯•**ï¼šé€šè¿‡æµé‡åˆ†ææ•è·ä¸Šè¿°ç‰¹å¾ã€‚
    *   **ç™½ç›’å®¡è®¡**ï¼šç›´æ¥å®¡æŸ¥ä»£ç ä¸­æ˜¯å¦ä½¿ç”¨äº† `ObjectInputStream.readObject()` ç­‰ååºåˆ—åŒ–æ¥å£ï¼Œä»¥åŠæ˜¯å¦å¼•ç”¨äº†å­˜åœ¨æ¼æ´çš„ç»„ä»¶ã€‚

![](img/d530a3c126cf1e4ed71a17381936fe47_72.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_73.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_75.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_77.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_79.png)

### 1.2 å¸¸è§åˆ©ç”¨é“¾ä¸å·¥å…·

![](img/d530a3c126cf1e4ed71a17381936fe47_81.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_83.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_85.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_87.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_89.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_91.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_93.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_95.png)

JavaåŸç”Ÿååºåˆ—åŒ–æ¼æ´çš„åˆ©ç”¨ä¾èµ–äºç¯å¢ƒä¸­å­˜åœ¨çš„ç‰¹å®šç±»åº“ï¼ˆgadget chainï¼‰ã€‚ä»¥ä¸‹æ˜¯ä¸»æµçš„åˆ©ç”¨å·¥å…·å’Œé¡¹ç›®ã€‚

![](img/d530a3c126cf1e4ed71a17381936fe47_97.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_99.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_101.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_103.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_105.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_107.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_109.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_111.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_113.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_115.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_117.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_119.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_121.png)

ä»¥ä¸‹æ˜¯ä¸‰ä¸ªå¸¸ç”¨çš„Javaååºåˆ—åŒ–åˆ©ç”¨å·¥å…·ï¼š

![](img/d530a3c126cf1e4ed71a17381936fe47_123.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_124.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_125.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_127.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_129.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_131.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_133.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_135.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_137.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_139.png)

1.  **ysoserial**ï¼šç»å…¸çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œéœ€è¦æ ¹æ®ç›®æ ‡ç¯å¢ƒé€‰æ‹©å¯¹åº”çš„gadgetã€‚
    ```bash
    java -jar ysoserial.jar CommonsCollections5 "calc.exe" > payload.ser
    ```
2.  **Yakit**ï¼šé›†æˆäº†å›¾å½¢åŒ–ç•Œé¢çš„å®‰å…¨å·¥å…·ï¼ŒåŒ…å«Javaååºåˆ—åŒ–åˆ©ç”¨æ¨¡å—ï¼Œæ–¹ä¾¿ç”ŸæˆPayloadã€‚
3.  **Javaååºåˆ—åŒ–åˆ©ç”¨åœ¨çº¿å¹³å°**ï¼šä¸€ä¸ªWebé¡¹ç›®ï¼Œæ”¯æŒç”ŸæˆPHPã€.NETã€Pythonå’ŒJavaç­‰å¤šç§è¯­è¨€çš„ååºåˆ—åŒ–Payloadï¼Œå¯¹Javaæ”¯æŒè‰¯å¥½ã€‚

![](img/d530a3c126cf1e4ed71a17381936fe47_141.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_143.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_145.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_147.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_149.png)

**å…³é”®ç‚¹**ï¼šå·¥å…·çš„ä½¿ç”¨æˆåŠŸä¸å¦ï¼Œå–å†³äºç›®æ ‡åº”ç”¨`ClassPath`ä¸­æ˜¯å¦å­˜åœ¨å·¥å…·æ‰€ä¾èµ–çš„ç‰¹å®šåº“ï¼ˆå¦‚`commons-collections`ï¼‰åŠå…¶å…¼å®¹ç‰ˆæœ¬ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™æ— æ³•æˆåŠŸåˆ©ç”¨ã€‚

![](img/d530a3c126cf1e4ed71a17381936fe47_151.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_153.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_155.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_157.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_159.png)

## äºŒã€SpringBootæ¡†æ¶æ”»é˜²å®æˆ˜ ğŸš€

![](img/d530a3c126cf1e4ed71a17381936fe47_161.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_163.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_165.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_167.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬ä»‹ç»äº†JavaåŸç”Ÿååºåˆ—åŒ–çš„åˆ©ç”¨ï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬æ¥çœ‹çœ‹ç›®å‰æœ€æµè¡Œçš„Java Webå¼€å‘æ¡†æ¶â€”â€”SpringBootçš„å®‰å…¨é—®é¢˜ã€‚

![](img/d530a3c126cf1e4ed71a17381936fe47_169.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_171.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_173.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_175.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_177.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_179.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_181.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_183.png)

SpringBootçš„Actuatoræ¨¡å—æ˜¯ä¸€ä¸ªç›‘æ§å’Œç®¡ç†åº”ç”¨çš„å·¥å…·ï¼Œé…ç½®ä¸å½“ä¼šå¯¼è‡´ä¸¥é‡çš„ä¿¡æ¯æ³„éœ²ï¼Œè¿›è€Œå¯èƒ½å¼•å‘è¿œç¨‹ä»£ç æ‰§è¡Œï¼ˆRCEï¼‰ã€‚

![](img/d530a3c126cf1e4ed71a17381936fe47_185.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_187.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_189.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_191.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_193.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_195.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_197.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_199.png)

### 2.1 ä¿¡æ¯æ³„éœ²ä¸åˆ©ç”¨

![](img/d530a3c126cf1e4ed71a17381936fe47_201.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_203.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_205.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_207.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_209.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_211.png)

Actuatoræ¨¡å—æš´éœ²çš„ç«¯ç‚¹ï¼ˆå¦‚`/env`, `/heapdump`ï¼‰å¯èƒ½æ³„éœ²æ•æ„Ÿä¿¡æ¯ã€‚

![](img/d530a3c126cf1e4ed71a17381936fe47_213.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_215.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_217.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_219.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_221.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_223.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_225.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_227.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_229.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_231.png)

ä»¥ä¸‹æ˜¯ä¿¡æ¯æ³„éœ²çš„åˆ©ç”¨æµç¨‹ï¼š

![](img/d530a3c126cf1e4ed71a17381936fe47_233.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_235.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_237.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_238.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_240.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_242.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_244.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_246.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_248.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_250.png)

1.  **æ¢æµ‹ä¸å‘ç°**ï¼šè®¿é—®å¸¸è§çš„Actuatorç«¯ç‚¹ï¼Œå¦‚ `/actuator`ï¼Œ `/env`ï¼Œ `/heapdump`ã€‚
2.  **ä¸‹è½½Heapdumpæ–‡ä»¶**ï¼šå¦‚æœ `/heapdump` ç«¯ç‚¹å¯è®¿é—®ï¼Œå¯ä»¥ä¸‹è½½å†…å­˜è½¬å‚¨æ–‡ä»¶ã€‚
3.  **åˆ†æHeapdumpæ–‡ä»¶**ï¼šä½¿ç”¨å·¥å…·ä»heapdumpæ–‡ä»¶ä¸­æå–æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚æ•°æ®åº“å¯†ç ã€APIå¯†é’¥ï¼‰ã€‚
    *   **å·¥å…·æ¨è**ï¼š
        *   **heapdump_tool**ï¼šè‡ªåŠ¨åŒ–åˆ†æå·¥å…·ï¼Œèƒ½è‡ªåŠ¨æå–å¤šç§æ•æ„Ÿä¿¡æ¯ã€‚
        *   **Eclipse Memory Analyzer (MAT)**ï¼šåŠŸèƒ½å¼ºå¤§çš„å†…å­˜åˆ†æå·¥å…·ï¼Œæ”¯æŒè‡ªå®šä¹‰æœç´¢å’Œåˆ†æã€‚

![](img/d530a3c126cf1e4ed71a17381936fe47_252.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_254.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_256.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_258.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_260.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_262.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_264.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_266.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_268.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_270.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_272.png)

### 2.2 æ¼æ´æ£€æµ‹ä¸åˆ©ç”¨

![](img/d530a3c126cf1e4ed71a17381936fe47_274.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_276.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_278.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_280.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_282.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_284.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_286.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_288.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_290.png)

é™¤äº†ä¿¡æ¯æ³„éœ²ï¼ŒSpringBootæœ¬èº«æˆ–å…¶ç»„ä»¶ä¹Ÿå¯èƒ½å­˜åœ¨è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ã€‚

![](img/d530a3c126cf1e4ed71a17381936fe47_292.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_294.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_296.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_298.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_300.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_302.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_304.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_306.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_308.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_310.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_312.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_314.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_316.png)

ä»¥ä¸‹æ˜¯ä¸¤ä¸ªç”¨äºSpringBootæ¼æ´æ£€æµ‹ä¸åˆ©ç”¨çš„é¡¹ç›®ï¼š

![](img/d530a3c126cf1e4ed71a17381936fe47_318.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_320.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_322.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_324.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_326.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_328.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_330.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_332.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_334.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_336.png)

1.  **SpringBoot Exploit Tools**ï¼šæ­¤ç±»å·¥å…·é€šå¸¸å…ˆé€šè¿‡ä¿¡æ¯æ³„éœ²ç«¯ç‚¹æœé›†ä¿¡æ¯ï¼Œç„¶åæ£€æµ‹å¹¶åˆ©ç”¨å·²çŸ¥çš„RCEæ¼æ´ï¼ˆå¦‚`logback JNDI RCE`ï¼‰ã€‚
2.  **ä¸“é—¨é’ˆå¯¹Spring Cloud Function SpEL RCEç­‰æ¼æ´çš„æ‰«æå™¨**ï¼šç”¨äºæ£€æµ‹SpringBootç‰¹å®šç»„ä»¶çš„CVEæ¼æ´ã€‚

![](img/d530a3c126cf1e4ed71a17381936fe47_338.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_340.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_342.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_344.png)

**å®æˆ˜æŠ€å·§**ï¼š
*   **é»‘ç›’è¯†åˆ«**ï¼šSpringBootåº”ç”¨é€šå¸¸æœ‰ç‹¬ç‰¹çš„é”™è¯¯é¡µé¢å’Œ favicon å›¾æ ‡ï¼Œå¯é€šè¿‡è¿™äº›ç‰¹å¾è¿›è¡Œåˆæ­¥è¯†åˆ«ã€‚
*   **BurpSuiteæ’ä»¶**ï¼šä½¿ç”¨å¦‚ `APIKit` ç­‰Burpæ’ä»¶ï¼Œå¯ä»¥è‡ªåŠ¨åœ¨æµé‡ä¸­æ£€æµ‹å¹¶æ ‡è®°SpringBoot Actuatorç«¯ç‚¹åŠå…¶ä»–APIæ¥å£ï¼Œæå¤§æå‡ä¿¡æ¯æ”¶é›†æ•ˆç‡ã€‚
*   **ç™½ç›’å®¡è®¡**ï¼šåœ¨ä»£ç ä¸­æ£€æŸ¥æ˜¯å¦å¼•å…¥äº†`spring-boot-starter-actuator`ä¾èµ–ï¼Œå¹¶æ£€æŸ¥é…ç½®æ–‡ä»¶ï¼ˆå¦‚`application.yml`ï¼‰ä¸­`management.endpoints.web.exposure.include`çš„é…ç½®å€¼ï¼Œå¦‚æœè®¾ç½®ä¸º`*`æˆ–åŒ…å«`sensitive`ç«¯ç‚¹ï¼ˆå¦‚`env`, `heapdump`ï¼‰ï¼Œåˆ™å­˜åœ¨é£é™©ã€‚

![](img/d530a3c126cf1e4ed71a17381936fe47_346.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_348.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_350.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_352.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_354.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_356.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_358.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_360.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_361.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_363.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_365.png)

## ä¸‰ã€è¯¾ç¨‹æ€»ç»“ä¸å›é¡¾

![](img/d530a3c126cf1e4ed71a17381936fe47_367.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_369.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_371.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_373.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_375.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_377.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_379.png)

æœ¬èŠ‚è¯¾ä¸­æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†Javaå®‰å…¨ä¸­ä¸¤ä¸ªé‡è¦çš„å®æˆ˜æ–¹å‘ã€‚

![](img/d530a3c126cf1e4ed71a17381936fe47_380.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_381.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_383.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_385.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_387.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_389.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_391.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_393.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_395.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_397.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_399.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_400.png)

æˆ‘ä»¬é¦–å…ˆæ¢è®¨äº†**JavaåŸç”Ÿååºåˆ—åŒ–æ¼æ´**ï¼Œäº†è§£äº†å…¶æµé‡ç‰¹å¾ã€å‘ç°æ–¹å¼ï¼Œå¹¶å®è·µäº†å¦‚ä½•ä½¿ç”¨`ysoserial`ã€`Yakit`ç­‰å·¥å…·ç”Ÿæˆå’Œåˆ©ç”¨Payloadï¼Œå…³é”®ç‚¹æ˜¯åˆ©ç”¨æˆåŠŸä¾èµ–äºç›®æ ‡ç¯å¢ƒä¸­çš„ç‰¹å®šç±»åº“ã€‚

![](img/d530a3c126cf1e4ed71a17381936fe47_402.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_404.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_406.png)

æ¥ç€ï¼Œæˆ‘ä»¬æ·±å…¥ç ”ç©¶äº†**SpringBootæ¡†æ¶çš„æ”»é˜²**ã€‚æ ¸å¿ƒåœ¨äºå…¶Actuatorç›‘æ§æ¨¡å—ï¼Œé…ç½®ä¸å½“ä¼šå¯¼è‡´æ•æ„Ÿä¿¡æ¯æ³„éœ²ï¼ˆå¦‚`/env`ã€`/heapdump`ï¼‰ã€‚æˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•æ¢æµ‹è¿™äº›ç«¯ç‚¹ã€ä¸‹è½½å¹¶åˆ†æheapdumpæ–‡ä»¶ä»¥æå–æ•°æ®åº“å¯†ç ç­‰å…³é”®ä¿¡æ¯ï¼Œå¹¶ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨è‡ªåŠ¨åŒ–å·¥å…·æ£€æµ‹å’Œåˆ©ç”¨ç”±æ­¤ä¿¡æ¯æ³„éœ²å¼•å‘çš„æˆ–æ¡†æ¶è‡ªèº«çš„è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ã€‚

![](img/d530a3c126cf1e4ed71a17381936fe47_408.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_410.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_412.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_414.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_415.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_417.png)

![](img/d530a3c126cf1e4ed71a17381936fe47_419.png)

é€šè¿‡æœ¬è¯¾çš„å­¦ä¹ ï¼Œå¸Œæœ›å¤§å®¶åœ¨é‡åˆ°Javaååºåˆ—åŒ–æµé‡æˆ–SpringBootåº”ç”¨æ—¶ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåœ°è¿›è¡Œå®‰å…¨æ€§æµ‹è¯•ä¸è¯„ä¼°ã€‚ä¸‹èŠ‚è¯¾æˆ‘ä»¬å°†ç»§ç»­æ¢è®¨Javaç”Ÿæ€ä¸­å…¶ä»–å¸¸è§ç»„ä»¶çš„å®‰å…¨é—®é¢˜ã€‚