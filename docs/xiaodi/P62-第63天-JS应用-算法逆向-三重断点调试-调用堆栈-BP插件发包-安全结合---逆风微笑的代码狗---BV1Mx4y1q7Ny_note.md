# ğŸš€ JSé€†å‘ä¸å®‰å…¨åº”ç”¨å®æˆ˜æ•™ç¨‹ï¼ˆP62ï¼šç¬¬63å¤©ï¼‰

åœ¨æœ¬èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†è¦å­¦ä¹ JavaScripté€†å‘åˆ†æçš„æ ¸å¿ƒæŠ€æœ¯ï¼Œå¹¶å°†å…¶ä¸Webå®‰å…¨æµ‹è¯•ç›¸ç»“åˆã€‚æˆ‘ä»¬å°†é‡ç‚¹æŒæ¡ä¸‰ç§æ–­ç‚¹è°ƒè¯•æ–¹æ³•ã€è°ƒç”¨å †æ ˆä¸ä½œç”¨åŸŸçš„åˆ†æï¼Œä»¥åŠå¦‚ä½•å°†é€†å‘å‡ºçš„åŠ å¯†ç®—æ³•é›†æˆåˆ°BurpSuiteæ’ä»¶ä¸­è¿›è¡Œè‡ªåŠ¨åŒ–å‘åŒ…æµ‹è¯•ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_1.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_3.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_5.png)

---

## ğŸ“š è¯¾ç¨‹æ¦‚è¿°

ä»æœ¬èŠ‚è¯¾å¼€å§‹ï¼Œæˆ‘ä»¬å°†æ­£å¼è¿›å…¥JavaScriptåº”ç”¨å®‰å…¨çš„å­¦ä¹ é˜¶æ®µã€‚æˆ‘ä»¬å°†æ¢è®¨JSç¯å¢ƒï¼ˆåŒ…æ‹¬Node.jsã€Vueç­‰æ¡†æ¶ï¼‰ä¸­å¸¸è§çš„å®‰å…¨é—®é¢˜ã€‚æœ¬æ¬¡JSè¯¾ç¨‹é¢„è®¡åŒ…å«3-5æ¬¡ç›´æ’­ï¼Œå†…å®¹æ¶µç›–JSé€†å‘åˆ†æã€ç­¾åï¼ˆSIGNï¼‰ç»•è¿‡ç­‰å…³é”®æŠ€æœ¯ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_7.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_9.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_11.png)

å­¦ä¹ JSé€†å‘æŠ€æœ¯å¯¹äºå®‰å…¨æµ‹è¯•è€…è‡³å…³é‡è¦ï¼Œä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å››ä¸ªæ–¹é¢ï¼š
1.  é’ˆå¯¹å‰ç«¯ç½‘ç«™çš„æ¸—é€æµ‹è¯•ï¼Œèƒ½æä¾›æ›´å¤šæ€è·¯ã€‚
2.  åœ¨å¯†ç ç™»å½•çš„ç®—æ³•æšä¸¾/çˆ†ç ´ä¸­èµ·åˆ°å…³é”®ä½œç”¨ã€‚
3.  å½“æµ‹è¯•å‚æ•°è¢«åŠ å¯†æ—¶ï¼Œé€šè¿‡åˆ†ææå–åŠ å¯†æ–¹å¼ï¼Œç»„åˆPayloadè¿›è¡Œæ¼æ´æµ‹è¯•ã€‚
4.  æœ‰åŠ©äºå‘ç°JSæ–‡ä»¶ä¸­æ³„éœ²çš„APIåœ°å€å’Œè¯·æ±‚è·¯å¾„ï¼Œä»è€Œæµ‹è¯•æœªæˆæƒè®¿é—®ç­‰æ¼æ´ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_13.png)

---

![](img/e22f7489b3e59a47de9ad9aed20d4336_15.png)

## ğŸ” å‰ç½®çŸ¥è¯†ï¼šè°ƒè¯•é¢æ¿æ ¸å¿ƒæ¦‚å¿µ

![](img/e22f7489b3e59a47de9ad9aed20d4336_17.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_19.png)

åœ¨å¼€å§‹å®æˆ˜å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­çš„å‡ ä¸ªæ ¸å¿ƒæ¦‚å¿µã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_21.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬ä»‹ç»äº†å­¦ä¹ JSé€†å‘çš„æ„ä¹‰ï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬æ¥çœ‹çœ‹è°ƒè¯•æ—¶å¿…å¤‡çš„å·¥å…·é¢æ¿ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_23.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_25.png)

æ‰“å¼€æµè§ˆå™¨ï¼ˆå¦‚Chrome/Edgeï¼‰çš„å¼€å‘è€…å·¥å…·ï¼ˆæ£€æŸ¥/å®¡æŸ¥å…ƒç´ ï¼‰ï¼Œåˆ‡æ¢åˆ° **æºä»£ç ï¼ˆSourcesï¼‰** æ ‡ç­¾é¡µã€‚ä½ ä¼šçœ‹åˆ°å‡ ä¸ªå…³é”®é¢æ¿ï¼š

*   **ä½œç”¨åŸŸï¼ˆScopeï¼‰**ï¼šè¿™é‡Œæ˜¾ç¤ºçš„æ˜¯ä»£ç **è¿è¡Œåç›¸å…³çš„æ•°æ®å€¼**ã€‚ä½ å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹å˜é‡åœ¨ç‰¹å®šæ–­ç‚¹å¤„çš„å…·ä½“å€¼ã€‚
*   **è°ƒç”¨å †æ ˆï¼ˆCall Stackï¼‰**ï¼šè¿™é‡Œæ˜¾ç¤ºä»£ç çš„**æ‰§è¡Œé€»è¾‘é¡ºåº**ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå®ƒçš„æ˜¾ç¤ºé¡ºåºæ˜¯**ç”±ä¸‹å¾€ä¸Š**çš„ã€‚æœ€ä¸‹é¢çš„æ˜¯èµ·ç‚¹ï¼ˆæœ€æ—©è°ƒç”¨çš„å‡½æ•°ï¼‰ï¼Œæœ€ä¸Šé¢çš„æ˜¯ç»ˆç‚¹ï¼ˆå½“å‰æš‚åœå¤„çš„å‡½æ•°ï¼‰ã€‚åˆ†ææ‰§è¡Œæµç¨‹æ—¶åº”ä»ä¸‹å¾€ä¸Šçœ‹ï¼Œè€Œé€†å‘æº¯æºæ—¶åˆ™ä»ä¸Šå¾€ä¸‹çœ‹ã€‚
*   **XHR/æå–æ–­ç‚¹**ï¼šç”¨äºç›‘æ§ç‰¹å®šçš„ç½‘ç»œè¯·æ±‚ï¼ˆXHRå³`XMLHttpRequest`ï¼‰ã€‚

---

![](img/e22f7489b3e59a47de9ad9aed20d4336_27.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_29.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_31.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_33.png)

## ğŸ› ï¸ ä¸‰é‡æ–­ç‚¹è°ƒè¯•æ³•

![](img/e22f7489b3e59a47de9ad9aed20d4336_35.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_37.png)

æˆ‘ä»¬å°†ä»‹ç»ä¸‰ç§æ ¸å¿ƒçš„è°ƒè¯•æ–¹æ³•ï¼Œä¹Ÿç§°ä¸ºâ€œä¸‰é‡ç«¯ç‚¹â€æ³•ã€‚æ¯ç§æ–¹æ³•é€‚ç”¨äºä¸åŒçš„åœºæ™¯ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_39.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_41.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_43.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_45.png)

ä»¥ä¸‹æ˜¯ä¸‰ç§ä¸»è¦çš„è°ƒè¯•åˆ†ææ–¹æ³•ï¼š

![](img/e22f7489b3e59a47de9ad9aed20d4336_47.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_49.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_51.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_53.png)

1.  **æ–‡ä»¶æµç¨‹æ–­ç‚¹**ï¼šåœ¨â€œç½‘ç»œï¼ˆNetworkï¼‰â€é¢æ¿ä¸­ï¼Œé€šè¿‡è¯·æ±‚çš„â€œå‘èµ·ç¨‹åºï¼ˆInitiatorï¼‰â€æŸ¥çœ‹å‚ä¸è¯¥è¯·æ±‚çš„JSæ–‡ä»¶ï¼Œå¹¶åœ¨å…³é”®æ–‡ä»¶ä¸Šä¸‹æ–­ç‚¹ã€‚
2.  **ä»£ç æ ‡ç­¾æ–­ç‚¹**ï¼šåœ¨â€œå…ƒç´ ï¼ˆElementsï¼‰â€é¢æ¿ä¸­ï¼Œå¯¹ç‰¹å®šçš„HTMLå…ƒç´ ï¼ˆå¦‚æäº¤æŒ‰é’®ï¼‰è®¾ç½®äº‹ä»¶ç›‘å¬æ–­ç‚¹ï¼ˆå¦‚â€œä¸­æ–­äºå±æ€§ä¿®æ”¹â€ï¼‰ã€‚
3.  **XHRæäº¤æ–­ç‚¹**ï¼šåœ¨â€œæºä»£ç ï¼ˆSourcesï¼‰â€é¢æ¿çš„â€œXHR/æå–æ–­ç‚¹â€åŒºåŸŸï¼Œæ·»åŠ éœ€è¦ç›‘æ§çš„è¯·æ±‚URLåœ°å€ï¼Œå½“è¯·æ±‚å‘ç”Ÿæ—¶è‡ªåŠ¨æ–­ä¸‹ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_55.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_57.png)

æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ç§åŸºç¡€çš„**å…¨å±€æœç´¢**æ–¹æ³•ï¼Œå³é€šè¿‡æœç´¢å…³é”®å­—ï¼ˆå¦‚URLã€å‚æ•°åï¼‰æ¥å®šä½ç›¸å…³ä»£ç ï¼Œé€‚åˆå…¥é—¨ï¼Œä½†æ›´ä¸“ä¸šçš„åˆ†æä¾èµ–äºæ–­ç‚¹ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_59.png)

---

![](img/e22f7489b3e59a47de9ad9aed20d4336_61.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_63.png)

## ğŸ§ª å®æˆ˜æ¡ˆä¾‹ä¸€ï¼šç™»å½•åŠ å¯†ç®—æ³•é€†å‘

![](img/e22f7489b3e59a47de9ad9aed20d4336_65.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_67.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_69.png)

ç°åœ¨ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®æˆ˜æ¡ˆä¾‹æ¥æ¼”ç»ƒä¸Šè¿°æ–¹æ³•ã€‚å‡è®¾ç›®æ ‡æ˜¯ä¸€ä¸ªç™»å½•æ¥å£ï¼Œå…¶å¯†ç åœ¨æäº¤å‰è¢«åŠ å¯†ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_71.png)

### ç›®æ ‡åˆ†æ
æŠ“å–ç™»å½•è¯·æ±‚åŒ…ï¼Œå‘ç°`username`å’Œ`password`å‚æ•°å‡ä¸ºåŠ å¯†åçš„å¯†æ–‡ã€‚å¦‚æœç›´æ¥ä½¿ç”¨æ˜æ–‡è¿›è¡Œçˆ†ç ´æˆ–æ¼æ´æµ‹è¯•ï¼Œè¯·æ±‚ä¼šå› ä¸ºä¸ç¬¦åˆæœåŠ¡ç«¯çš„è§£å¯†é€»è¾‘è€Œå¤±è´¥ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾å‡ºåŠ å¯†ç®—æ³•ã€‚

### æ–¹æ³•ä¸€ï¼šå…¨å±€æœç´¢
åœ¨æºä»£ç é¢æ¿ï¼ŒæŒ‰ `Ctrl+Shift+F` å…¨å±€æœç´¢ç™»å½•è¯·æ±‚çš„URLæˆ–å…³é”®å‚æ•°åï¼ˆå¦‚`loginData`ï¼‰ã€‚æ‰¾åˆ°ç›¸å…³ä»£ç æ®µåï¼Œé€æ­¥å‘ä¸Šè¿½æº¯ï¼Œæ‰¾åˆ°åŠ å¯†å‡½æ•°çš„å®šä¹‰å’Œè°ƒç”¨ä½ç½®ã€‚ä¾‹å¦‚ï¼Œå¯èƒ½å‘ç°ç±»ä¼¼ `password = encrypt(plainText)` çš„ä»£ç ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_73.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_75.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_77.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_79.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_81.png)

### æ–¹æ³•äºŒï¼šæ–‡ä»¶æµç¨‹æ–­ç‚¹
1.  åœ¨â€œç½‘ç»œâ€é¢æ¿æ‰¾åˆ°ç™»å½•è¯·æ±‚ã€‚
2.  ç‚¹å‡»â€œå‘èµ·ç¨‹åºâ€ï¼ŒæŸ¥çœ‹è°ƒç”¨å †æ ˆä¸­åˆ—å‡ºçš„JSæ–‡ä»¶ã€‚
3.  é€‰æ‹©å¯èƒ½åŒ…å«åŠ å¯†é€»è¾‘çš„æ–‡ä»¶ï¼ˆå¦‚åç§°ä¸­å«`login`çš„æ–‡ä»¶ï¼‰ï¼Œç‚¹å‡»è¡Œå·è®¾ç½®æ–­ç‚¹ã€‚
4.  é‡æ–°è§¦å‘ç™»å½•ï¼Œä»£ç ä¼šåœ¨æ–­ç‚¹å¤„æš‚åœã€‚
5.  ç»“åˆ**ä½œç”¨åŸŸ**é¢æ¿è§‚å¯Ÿå˜é‡å€¼çš„å˜åŒ–ï¼Œåœ¨`password`ä»æ˜æ–‡å˜ä¸ºå¯†æ–‡çš„é‚£ä¸€æ­¥å‰åä»”ç»†åˆ†æï¼Œä»è€Œå®šä½åŠ å¯†å‡½æ•°ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_83.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_85.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_87.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_89.png)

### æ–¹æ³•ä¸‰ï¼šXHRæäº¤æ–­ç‚¹
1.  åœ¨â€œæºä»£ç â€é¢æ¿çš„â€œXHR/æå–æ–­ç‚¹â€å¤„ï¼Œæ·»åŠ ç™»å½•è¯·æ±‚çš„URLã€‚
2.  è§¦å‘ç™»å½•ï¼Œè¯·æ±‚å‘å‡ºå‰ä¼šè‡ªåŠ¨æ–­ä¸‹ã€‚
3.  æ­¤æ—¶åœ¨**è°ƒç”¨å †æ ˆ**ä¸­ï¼Œä½ æ­£å¤„äºè¯·æ±‚å‘é€çš„æœ€åä¸€ç¯ã€‚éœ€è¦**å‘ä¸‹ï¼ˆæŸ¥çœ‹æ›´æ—©çš„è°ƒç”¨ï¼‰** åˆ†æï¼Œå¯»æ‰¾åœ¨å‘é€å‰å¯¹æ•°æ®è¿›è¡Œå¤„ç†çš„ä»£ç ï¼Œå³åŠ å¯†å‘ç”Ÿçš„ä½ç½®ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_91.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_93.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_95.png)

**æ ¸å¿ƒé€»è¾‘**ï¼šæ— è®ºç”¨å“ªç§æ–¹æ³•ï¼Œç›®æ ‡éƒ½æ˜¯å®šä½åˆ° `æ˜æ–‡ -> åŠ å¯†å‡½æ•° -> å¯†æ–‡` è¿™ä¸ªè½¬æ¢è¿‡ç¨‹å‘ç”Ÿçš„ä»£ç ä½ç½®ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_97.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_99.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_101.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_102.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_104.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_106.png)

---

![](img/e22f7489b3e59a47de9ad9aed20d4336_108.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_110.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_111.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_113.png)

## ğŸ§ª å®æˆ˜æ¡ˆä¾‹äºŒï¼šç®—æ³•æå–ä¸æœ¬åœ°è°ƒç”¨

![](img/e22f7489b3e59a47de9ad9aed20d4336_115.png)

æ‰¾åˆ°åŠ å¯†ç®—æ³•åï¼Œæˆ‘ä»¬éœ€è¦å°†å…¶æå–å‡ºæ¥ï¼Œä»¥ä¾¿åœ¨æœ¬åœ°æˆ–æµ‹è¯•å·¥å…·ä¸­è°ƒç”¨ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_117.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_119.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_121.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_123.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬ä»‹ç»äº†å¦‚ä½•å®šä½åŠ å¯†ä»£ç ï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•æå–å¹¶éªŒè¯å®ƒã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_125.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_127.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_129.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_131.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_133.png)

1.  **å®šä½ç®—æ³•æ–‡ä»¶**ï¼šåœ¨è°ƒè¯•å™¨ä¸­ï¼Œç‚¹å‡»åŠ å¯†å‡½æ•°ï¼Œè·³è½¬åˆ°å…¶å®šä¹‰æ‰€åœ¨çš„JSæ–‡ä»¶ã€‚
2.  **æå–å…³é”®ä»£ç **ï¼šå°†è¯¥JSæ–‡ä»¶ä¿å­˜åˆ°æœ¬åœ°ï¼Œæˆ–ç›´æ¥å¤åˆ¶å…³é”®çš„åŠ å¯†å‡½æ•°ä»£ç æ®µã€‚ä¾‹å¦‚ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„`encrypt()`å‡½æ•°ï¼Œæˆ–æ˜¯å¯¹`CryptoJS`ç­‰åº“çš„è°ƒç”¨ã€‚
3.  **æœ¬åœ°éªŒè¯**ï¼š
    *   å¯ä»¥åœ¨å¼€å‘è€…å·¥å…·çš„**æ§åˆ¶å°ï¼ˆConsoleï¼‰** ä¸­ï¼Œå°è¯•è°ƒç”¨æå–å‡ºçš„å‡½æ•°ï¼Œä¼ å…¥æ˜æ–‡ï¼Œçœ‹æ˜¯å¦è¾“å‡ºä¸æŠ“åŒ…ä¸€è‡´çš„å¯†æ–‡ã€‚
    *   ä¹Ÿå¯ä»¥ä½¿ç”¨åœ¨çº¿çš„JSè¿è¡Œç¯å¢ƒæˆ–Node.jsè¿›è¡ŒéªŒè¯ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_135.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_137.png)

**ç¤ºä¾‹ä»£ç ç»“æ„**ï¼š
```javascript
// å‡è®¾æå–å‡ºçš„åŠ å¯†å‡½æ•°
function customEncrypt(plainText) {
    // å…·ä½“çš„åŠ å¯†é€»è¾‘ï¼Œå¯èƒ½æ˜¯AESã€RSAæˆ–è‡ªå®šä¹‰ç®—æ³•
    let key = "å›ºå®šçš„å¯†é’¥æˆ–ä»ä»£ç ä¸­åˆ†æå¾—å‡º";
    let encrypted = ... // åŠ å¯†è¿‡ç¨‹
    return encrypted;
}
// æµ‹è¯•
console.log(customEncrypt("123456"));
```

![](img/e22f7489b3e59a47de9ad9aed20d4336_139.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_141.png)

---

![](img/e22f7489b3e59a47de9ad9aed20d4336_143.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_145.png)

## ğŸ”— ä¸å®‰å…¨æµ‹è¯•ç»“åˆï¼šBurpSuiteæ’ä»¶é›†æˆ

![](img/e22f7489b3e59a47de9ad9aed20d4336_147.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_149.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_151.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_153.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_155.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_157.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_159.png)

é€†å‘å‡ºç®—æ³•çš„æœ€ç»ˆç›®çš„æ˜¯ä¸ºäº†è‡ªåŠ¨åŒ–å®‰å…¨æµ‹è¯•ã€‚æˆ‘ä»¬å°†åŠ å¯†ç®—æ³•é›†æˆåˆ°BurpSuiteä¸­ï¼Œå®ç°è‡ªåŠ¨åŒ–åŠ å¯†å‘åŒ…ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_161.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_163.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_165.png)

ä»¥ä¸‹æ˜¯ä½¿ç”¨ `BurpSuite` æ’ä»¶ `JSRunner` é›†æˆè‡ªå®šä¹‰ç®—æ³•çš„æ­¥éª¤ï¼š

![](img/e22f7489b3e59a47de9ad9aed20d4336_167.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_169.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_170.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_172.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_174.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_176.png)

1.  **ç¯å¢ƒå‡†å¤‡**ï¼š
    *   å®‰è£… `JSRunner` æ’ä»¶ï¼ˆå°† `JSRunner.jar` æ”¾å…¥Burpçš„æ‰©å±•ç›®å½•ï¼‰ã€‚
    *   å®‰è£… `Node.js` ç¯å¢ƒï¼Œç”¨äºæœ¬åœ°æ‰§è¡ŒJSä»£ç ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_178.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_180.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_182.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_184.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_186.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_188.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_190.png)

2.  **ä¿®æ”¹æ’ä»¶è„šæœ¬**ï¼š
    *   æ‰“å¼€ `JSRunner` çš„ç¤ºä¾‹è„šæœ¬ï¼ˆå¦‚ `example.js`ï¼‰ã€‚
    *   åœ¨è„šæœ¬ä¸­ï¼Œå°†æˆ‘ä»¬é€†å‘å‡ºæ¥çš„åŠ å¯†ç®—æ³•å‡½æ•°ä½“ï¼Œèµ‹å€¼ç»™ `processPayload` å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°æ¥æ”¶Burpä¼ å…¥çš„åŸå§‹Payloadï¼ˆæ˜æ–‡ï¼‰ï¼Œè¿”å›åŠ å¯†åçš„ç»“æœã€‚
    ```javascript
    // example.js ä¿®æ”¹ç¤ºä¾‹
    function processPayload(payload) {
        // è¿™é‡Œè°ƒç”¨æˆ‘ä»¬é€†å‘å‡ºæ¥çš„åŠ å¯†å‡½æ•°
        return customEncrypt(payload);
    }
    ```

![](img/e22f7489b3e59a47de9ad9aed20d4336_192.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_194.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_196.png)

3.  **å¯åŠ¨å¹¶è¿æ¥**ï¼š
    *   åœ¨å‘½ä»¤è¡Œä½¿ç”¨ `node` è¿è¡Œä¿®æ”¹åçš„JSè„šæœ¬ï¼Œå®ƒä¼šå¯åŠ¨ä¸€ä¸ªæœ¬åœ°æœåŠ¡ã€‚
    *   åœ¨Burpçš„ `JSRunner` æ ‡ç­¾é¡µä¸­ï¼Œé…ç½®è¿æ¥åˆ°æ­¤æœ¬åœ°æœåŠ¡çš„åœ°å€å’Œç«¯å£ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_198.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_200.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_202.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_204.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_206.png)

4.  **å®æˆ˜æµ‹è¯•**ï¼š
    *   åœ¨Burpçš„ `Intruder` æ¨¡å—ï¼Œå°†éœ€è¦çˆ†ç ´çš„å¯†ç å‚æ•°å€¼è®¾ä¸º `Â§æ˜æ–‡Â§`ã€‚
    *   åœ¨ `Payload Processing` è§„åˆ™ä¸­ï¼Œæ·»åŠ  `Invoke Burp extension` å¤„ç†é¡¹ï¼Œé€‰æ‹©é…ç½®å¥½çš„ `JSRunner`ã€‚
    *   è¿™æ ·ï¼ŒIntruderåœ¨å‘åŒ…æ—¶ï¼Œä¼šè‡ªåŠ¨å°†æ¯ä¸ªPayloadæ˜æ–‡é€šè¿‡æˆ‘ä»¬çš„JSè„šæœ¬åŠ å¯†ï¼Œå†å‘é€å‡ºå»ï¼Œä»è€Œç»•è¿‡å‰ç«¯åŠ å¯†ï¼Œå®ç°æœ‰æ•ˆçš„çˆ†ç ´æˆ–æ¼æ´æµ‹è¯•ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_208.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_210.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_212.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_214.png)

---

![](img/e22f7489b3e59a47de9ad9aed20d4336_216.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_218.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_220.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_222.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_224.png)

## ğŸ’¡ è¯¾ç¨‹æ€»ç»“ä¸ä¸‹èŠ‚é¢„å‘Š

![](img/e22f7489b3e59a47de9ad9aed20d4336_226.png)

æœ¬èŠ‚è¯¾ä¸­æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†ï¼š
1.  **JSé€†å‘çš„æ„ä¹‰**ï¼šèµ‹èƒ½å®‰å…¨æµ‹è¯•ï¼Œè§£å†³åŠ å¯†å‚æ•°ä¸‹çš„çˆ†ç ´ã€æ¼æ´æ¢æµ‹ç­‰é—®é¢˜ã€‚
2.  **è°ƒè¯•åŸºç¡€**ï¼šç†è§£äº†**ä½œç”¨åŸŸ**ï¼ˆçœ‹æ•°æ®å€¼ï¼‰å’Œ**è°ƒç”¨å †æ ˆ**ï¼ˆçœ‹æ‰§è¡Œé¡ºåºï¼‰çš„æ ¸å¿ƒä½œç”¨ã€‚
3.  **ä¸‰é‡æ–­ç‚¹æ³•**ï¼šæŒæ¡äº†**æ–‡ä»¶æµç¨‹æ–­ç‚¹**ã€**ä»£ç æ ‡ç­¾æ–­ç‚¹**å’Œ**XHRæäº¤æ–­ç‚¹**çš„ä½¿ç”¨åœºæ™¯ä¸æ–¹æ³•ã€‚
4.  **å®æˆ˜æµç¨‹**ï¼šä»å®šä½åŠ å¯†ç®—æ³•ã€æå–ä»£ç åˆ°æœ¬åœ°éªŒè¯çš„å®Œæ•´é€†å‘æµç¨‹ã€‚
5.  **å®‰å…¨é›†æˆ**ï¼šå­¦ä¼šäº†å°†é€†å‘ç®—æ³•é›†æˆåˆ°BurpSuiteæ’ä»¶ä¸­ï¼Œå®ç°è‡ªåŠ¨åŒ–åŠ å¯†æµ‹è¯•ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_228.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_230.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_232.png)

ä¸‹èŠ‚è¯¾ï¼Œæˆ‘ä»¬å°†é¢å¯¹æ›´å¤æ‚çš„æŒ‘æˆ˜ï¼š**ç­¾åï¼ˆSIGNï¼‰ç»•è¿‡**ã€‚åœ¨è®¸å¤šåº”ç”¨ï¼ˆå°¤å…¶æ˜¯APPå’Œå°ç¨‹åºï¼‰çš„è¯·æ±‚ä¸­ï¼Œä¼šæºå¸¦ä¸€ä¸ªåŠ¨æ€å˜åŒ–çš„`sign`å‚æ•°ï¼Œç”¨äºé˜²æ­¢è¯·æ±‚é‡æ”¾å’Œç¯¡æ”¹ã€‚æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•åˆ†æå’Œé€†å‘è¿™ç§ç­¾åç®—æ³•ï¼Œè®©æˆ‘ä»¬çš„è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·èƒ½å¤ŸåŠ¨æ€ç”Ÿæˆæœ‰æ•ˆçš„ç­¾åï¼Œä»è€Œå®Œæˆæ›´æ·±å±‚æ¬¡çš„å®‰å…¨æµ‹è¯•ã€‚

![](img/e22f7489b3e59a47de9ad9aed20d4336_234.png)

---

![](img/e22f7489b3e59a47de9ad9aed20d4336_236.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_237.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_239.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_241.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_243.png)

![](img/e22f7489b3e59a47de9ad9aed20d4336_244.png)

**è®°ä½**ï¼šJSé€†å‘çš„æ ¸å¿ƒåœ¨äºè€å¿ƒåˆ†æä»£ç æ‰§è¡Œæµå’Œæ•°æ®æµã€‚æŒæ¡è¿™äº›æŠ€èƒ½ï¼Œèƒ½è®©ä½ åœ¨Webå®‰å…¨æµ‹è¯•ä¸­çªç ´å‰ç«¯åŠ å¯†çš„å£å’ï¼Œå‘ç°æ›´å¤šæ½œåœ¨çš„å®‰å…¨é£é™©ã€‚