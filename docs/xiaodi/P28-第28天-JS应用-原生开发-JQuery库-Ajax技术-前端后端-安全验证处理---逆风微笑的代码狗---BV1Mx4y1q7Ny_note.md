![](img/30502ce54eee49ebdbc99a336334433f_0.png)

# ğŸš€ è¯¾ç¨‹28ï¼šJSåº”ç”¨å¼€å‘ä¸å®‰å…¨éªŒè¯å¤„ç†

![](img/30502ce54eee49ebdbc99a336334433f_2.png)

![](img/30502ce54eee49ebdbc99a336334433f_4.png)

![](img/30502ce54eee49ebdbc99a336334433f_6.png)

åœ¨æœ¬èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ JavaScriptçš„åŸç”Ÿå¼€å‘ã€JQueryåº“çš„ä½¿ç”¨ä»¥åŠAjaxæŠ€æœ¯ã€‚æˆ‘ä»¬å°†é€šè¿‡æ„å»ºæ–‡ä»¶ä¸Šä¼ ã€ç™»å½•éªŒè¯å’Œå•†å“è´­ä¹°ä¸‰ä¸ªåŠŸèƒ½æ¨¡å—ï¼Œæ¥ç†è§£å‰ç«¯ä¸åç«¯å¦‚ä½•åä½œï¼Œå¹¶åˆ†æå…¶ä¸­å¯èƒ½å­˜åœ¨çš„å®‰å…¨éªŒè¯é—®é¢˜ã€‚

![](img/30502ce54eee49ebdbc99a336334433f_8.png)

![](img/30502ce54eee49ebdbc99a336334433f_10.png)

![](img/30502ce54eee49ebdbc99a336334433f_12.png)

![](img/30502ce54eee49ebdbc99a336334433f_14.png)

---

![](img/30502ce54eee49ebdbc99a336334433f_16.png)

![](img/30502ce54eee49ebdbc99a336334433f_18.png)

![](img/30502ce54eee49ebdbc99a336334433f_20.png)

![](img/30502ce54eee49ebdbc99a336334433f_22.png)

## ğŸ“ åŸç”ŸJSå¼€å‘ï¼šæ–‡ä»¶ä¸Šä¼ åŠŸèƒ½

![](img/30502ce54eee49ebdbc99a336334433f_24.png)

![](img/30502ce54eee49ebdbc99a336334433f_26.png)

![](img/30502ce54eee49ebdbc99a336334433f_28.png)

![](img/30502ce54eee49ebdbc99a336334433f_30.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬ä»‹ç»äº†è¯¾ç¨‹çš„æ•´ä½“å®‰æ’ï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨åŸç”ŸJavaScriptå¼€å‘ä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ã€‚

è¿™ä¸ªåŠŸèƒ½çš„æ ¸å¿ƒæµç¨‹åˆ†ä¸ºå››æ­¥ï¼š
1.  ç¼–å†™å‰ç«¯æ–‡ä»¶ä¸Šä¼ é¡µé¢ã€‚
2.  ä½¿ç”¨JavaScriptè·å–æäº¤çš„æ–‡ä»¶æ•°æ®ã€‚
3.  å¯¹æ–‡ä»¶æ•°æ®è¿›è¡Œæ ¼å¼ï¼ˆåç¼€åï¼‰åˆ¤æ–­ã€‚
4.  åˆ¤æ–­æˆåŠŸåï¼Œäº¤ç”±åç«¯PHPå¤„ç†ä¸Šä¼ æ•°æ®ã€‚

![](img/30502ce54eee49ebdbc99a336334433f_32.png)

![](img/30502ce54eee49ebdbc99a336334433f_34.png)

å› æ­¤ï¼Œæœ¬é¡¹ç›®å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š**å‰ç«¯JSè¿›è¡Œæ–‡ä»¶æ ¼å¼ï¼ˆåç¼€ï¼‰è¿‡æ»¤ï¼Œåç«¯PHPè¿›è¡Œæ–‡ä»¶å¤„ç†**ã€‚

![](img/30502ce54eee49ebdbc99a336334433f_36.png)

![](img/30502ce54eee49ebdbc99a336334433f_38.png)

![](img/30502ce54eee49ebdbc99a336334433f_40.png)

### ä»£ç å®ç°æ­¥éª¤

![](img/30502ce54eee49ebdbc99a336334433f_42.png)

![](img/30502ce54eee49ebdbc99a336334433f_44.png)

![](img/30502ce54eee49ebdbc99a336334433f_46.png)

![](img/30502ce54eee49ebdbc99a336334433f_48.png)

![](img/30502ce54eee49ebdbc99a336334433f_50.png)

ä»¥ä¸‹æ˜¯å®ç°è¯¥åŠŸèƒ½çš„å…·ä½“æ­¥éª¤ï¼š

![](img/30502ce54eee49ebdbc99a336334433f_52.png)

![](img/30502ce54eee49ebdbc99a336334433f_54.png)

![](img/30502ce54eee49ebdbc99a336334433f_56.png)

![](img/30502ce54eee49ebdbc99a336334433f_58.png)

![](img/30502ce54eee49ebdbc99a336334433f_60.png)

![](img/30502ce54eee49ebdbc99a336334433f_62.png)

![](img/30502ce54eee49ebdbc99a336334433f_64.png)

1.  **åˆ›å»ºé¡¹ç›®ç›®å½•ä¸æ–‡ä»¶**
    é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªåä¸º `js` çš„ç›®å½•ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶ï¼š
    *   `upload.html`ï¼šå‰ç«¯ä¸Šä¼ é¡µé¢ã€‚
    *   `upload.php`ï¼šåç«¯å¤„ç†æ–‡ä»¶ã€‚

![](img/30502ce54eee49ebdbc99a336334433f_66.png)

![](img/30502ce54eee49ebdbc99a336334433f_68.png)

2.  **ç¼–å†™å‰ç«¯é¡µé¢ (`upload.html`)**
    é¡µé¢åŒ…å«ä¸€ä¸ªè¡¨å•ï¼Œç”¨äºé€‰æ‹©å¹¶æäº¤æ–‡ä»¶ã€‚
    ```html
    <form action="upload.php" method="post" enctype="multipart/form-data">
        é€‰æ‹©æ–‡ä»¶ï¼š<input type="file" name="f" id="fileInput">
        <input type="submit" value="ä¸Šä¼ ">
    </form>
    ```

![](img/30502ce54eee49ebdbc99a336334433f_70.png)

![](img/30502ce54eee49ebdbc99a336334433f_72.png)

![](img/30502ce54eee49ebdbc99a336334433f_74.png)

![](img/30502ce54eee49ebdbc99a336334433f_76.png)

![](img/30502ce54eee49ebdbc99a336334433f_78.png)

![](img/30502ce54eee49ebdbc99a336334433f_80.png)

3.  **æ·»åŠ JSéªŒè¯é€»è¾‘**
    åœ¨ `upload.html` çš„ `<script>` æ ‡ç­¾å†…ï¼Œç¼–å†™JavaScriptä»£ç æ¥éªŒè¯æ–‡ä»¶åç¼€ã€‚
    *   **å®šä¹‰å…è®¸ä¸Šä¼ çš„ç™½åå•åç¼€**ï¼š
        ```javascript
        var exts = [â€˜pngâ€˜, â€˜gifâ€˜, â€˜jpgâ€˜];
        ```
    *   **ç›‘å¬æ–‡ä»¶é€‰æ‹©äº‹ä»¶**ï¼šå½“ç”¨æˆ·é€‰æ‹©æ–‡ä»¶æ—¶ï¼Œè§¦å‘éªŒè¯å‡½æ•°ã€‚
        ```javascript
        document.getElementById(â€˜fileInputâ€˜).onchange = function() {
            var fileName = this.value; // è·å–æ–‡ä»¶å
            checkFileExt(fileName);
        };
        ```
    *   **å®ç°éªŒè¯å‡½æ•°**ï¼šæå–æ–‡ä»¶åç¼€ï¼Œå¹¶ä¸ç™½åå•å¯¹æ¯”ã€‚
        ```javascript
        function checkFileExt(fileName) {
            // è·å–æ–‡ä»¶åç¼€ï¼ˆæœ€åä¸€ä¸ªç‚¹ä¹‹åçš„éƒ¨åˆ†ï¼‰
            var ext = fileName.substring(fileName.lastIndexOf(â€˜.â€˜) + 1).toLowerCase();
            var flag = false; // éªŒè¯çŠ¶æ€ï¼Œåˆå§‹ä¸ºfalse

            // éå†ç™½åå•è¿›è¡Œæ¯”å¯¹
            for(var i=0; i<exts.length; i++) {
                if(exts[i] == ext) {
                    flag = true; // åŒ¹é…æˆåŠŸï¼ŒçŠ¶æ€è®¾ä¸ºtrue
                    alert(â€˜æ–‡ä»¶åç¼€æ­£ç¡®â€˜);
                    break;
                }
            }

            // æ ¹æ®éªŒè¯çŠ¶æ€å†³å®šåç»­æ“ä½œ
            if(!flag) {
                alert(â€˜æ–‡ä»¶åç¼€é”™è¯¯â€˜);
                location.reload(); // åˆ·æ–°é¡µé¢
            }
        }
        ```

![](img/30502ce54eee49ebdbc99a336334433f_82.png)

![](img/30502ce54eee49ebdbc99a336334433f_84.png)

![](img/30502ce54eee49ebdbc99a336334433f_86.png)

![](img/30502ce54eee49ebdbc99a336334433f_88.png)

![](img/30502ce54eee49ebdbc99a336334433f_90.png)

![](img/30502ce54eee49ebdbc99a336334433f_92.png)

![](img/30502ce54eee49ebdbc99a336334433f_94.png)

![](img/30502ce54eee49ebdbc99a336334433f_96.png)

![](img/30502ce54eee49ebdbc99a336334433f_98.png)

![](img/30502ce54eee49ebdbc99a336334433f_100.png)

4.  **ç¼–å†™åç«¯å¤„ç† (`upload.php`)**
    åç«¯PHPæ¥æ”¶æ–‡ä»¶å¹¶ä¿å­˜åˆ°æœåŠ¡å™¨ã€‚
    ```php
    <?php
    if ($_FILES[â€˜fâ€˜][â€˜errorâ€˜] == 0) {
        $tmp_name = $_FILES[â€˜fâ€˜][â€˜tmp_nameâ€˜];
        $name = $_FILES[â€˜fâ€˜][â€˜nameâ€˜];
        move_uploaded_file($tmp_name, â€˜upload/â€˜ . $name);
        echo â€˜<script>alert("ä¸Šä¼ æˆåŠŸ");</script>â€˜;
    }
    ?>
    ```

![](img/30502ce54eee49ebdbc99a336334433f_102.png)

![](img/30502ce54eee49ebdbc99a336334433f_104.png)

![](img/30502ce54eee49ebdbc99a336334433f_106.png)

![](img/30502ce54eee49ebdbc99a336334433f_108.png)

![](img/30502ce54eee49ebdbc99a336334433f_110.png)

![](img/30502ce54eee49ebdbc99a336334433f_112.png)

![](img/30502ce54eee49ebdbc99a336334433f_114.png)

![](img/30502ce54eee49ebdbc99a336334433f_116.png)

![](img/30502ce54eee49ebdbc99a336334433f_118.png)

![](img/30502ce54eee49ebdbc99a336334433f_120.png)

### ğŸ” å®‰å…¨é£é™©åˆ†æ

![](img/30502ce54eee49ebdbc99a336334433f_122.png)

![](img/30502ce54eee49ebdbc99a336334433f_124.png)

![](img/30502ce54eee49ebdbc99a336334433f_126.png)

![](img/30502ce54eee49ebdbc99a336334433f_128.png)

![](img/30502ce54eee49ebdbc99a336334433f_130.png)

![](img/30502ce54eee49ebdbc99a336334433f_132.png)

![](img/30502ce54eee49ebdbc99a336334433f_134.png)

![](img/30502ce54eee49ebdbc99a336334433f_136.png)

![](img/30502ce54eee49ebdbc99a336334433f_138.png)

è¿™ç§å®ç°æ¨¡å¼å­˜åœ¨æ˜æ˜¾çš„å®‰å…¨éšæ‚£ï¼š
1.  **è¿‡æ»¤ä»£ç å¯è§**ï¼šæ‰€æœ‰éªŒè¯é€»è¾‘ï¼ˆç™½åå•ã€åˆ¤æ–­å‡½æ•°ï¼‰éƒ½ç›´æ¥æš´éœ²åœ¨æµè§ˆå™¨çš„å‰ç«¯ä»£ç ä¸­ã€‚
2.  **éªŒè¯å¯è¢«ç»•è¿‡**ï¼šæ”»å‡»è€…å¯ä»¥é€šè¿‡ç¦ç”¨æµè§ˆå™¨JavaScriptã€åˆ é™¤æˆ–ä¿®æ”¹å‰ç«¯éªŒè¯ä»£ç ã€æˆ–ç›´æ¥ä¼ªé€ HTTPè¯·æ±‚åŒ…ç­‰æ–¹å¼ï¼Œè½»æ¾ç»•è¿‡å‰ç«¯éªŒè¯ï¼Œä¸Šä¼ ä»»æ„ç±»å‹çš„æ–‡ä»¶ã€‚

![](img/30502ce54eee49ebdbc99a336334433f_140.png)

![](img/30502ce54eee49ebdbc99a336334433f_142.png)

![](img/30502ce54eee49ebdbc99a336334433f_144.png)

**æ ¸å¿ƒé—®é¢˜åœ¨äºï¼šå‰ç«¯éªŒè¯ä»…æœåŠ¡äºç”¨æˆ·ä½“éªŒå’Œåˆæ­¥ç­›é€‰ï¼ŒçœŸæ­£çš„å®‰å…¨æ ¡éªŒå¿…é¡»ä¾èµ–åç«¯ä¸å¯ç¯¡æ”¹çš„é€»è¾‘ã€‚**

![](img/30502ce54eee49ebdbc99a336334433f_146.png)

![](img/30502ce54eee49ebdbc99a336334433f_148.png)

![](img/30502ce54eee49ebdbc99a336334433f_150.png)

![](img/30502ce54eee49ebdbc99a336334433f_152.png)

![](img/30502ce54eee49ebdbc99a336334433f_154.png)

![](img/30502ce54eee49ebdbc99a336334433f_156.png)

![](img/30502ce54eee49ebdbc99a336334433f_158.png)

---

![](img/30502ce54eee49ebdbc99a336334433f_160.png)

![](img/30502ce54eee49ebdbc99a336334433f_162.png)

![](img/30502ce54eee49ebdbc99a336334433f_164.png)

## ğŸ” ä½¿ç”¨JQueryä¸Ajaxï¼šç™»å½•éªŒè¯åŠŸèƒ½

![](img/30502ce54eee49ebdbc99a336334433f_166.png)

![](img/30502ce54eee49ebdbc99a336334433f_168.png)

![](img/30502ce54eee49ebdbc99a336334433f_170.png)

![](img/30502ce54eee49ebdbc99a336334433f_172.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬å®ç°äº†åŸç”ŸJSçš„æ–‡ä»¶ä¸Šä¼ ï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨JQueryåº“å’ŒAjaxæŠ€æœ¯æ„å»ºä¸€ä¸ªç™»å½•éªŒè¯åŠŸèƒ½ã€‚

![](img/30502ce54eee49ebdbc99a336334433f_174.png)

![](img/30502ce54eee49ebdbc99a336334433f_176.png)

![](img/30502ce54eee49ebdbc99a336334433f_178.png)

![](img/30502ce54eee49ebdbc99a336334433f_180.png)

![](img/30502ce54eee49ebdbc99a336334433f_182.png)

![](img/30502ce54eee49ebdbc99a336334433f_184.png)

![](img/30502ce54eee49ebdbc99a336334433f_186.png)

![](img/30502ce54eee49ebdbc99a336334433f_188.png)

æœ¬åŠŸèƒ½çš„æ¶æ„è®¾è®¡ä¸ºï¼š**å‰ç«¯JSï¼ˆä½¿ç”¨JQueryï¼‰å¤„ç†ç™»å½•äº‹ä»¶å’Œå‘é€æ•°æ®ï¼Œåç«¯PHPè¿›è¡Œè´¦å·å¯†ç çš„å®è´¨æ€§æ ¡éªŒ**ã€‚

![](img/30502ce54eee49ebdbc99a336334433f_190.png)

![](img/30502ce54eee49ebdbc99a336334433f_192.png)

![](img/30502ce54eee49ebdbc99a336334433f_194.png)

![](img/30502ce54eee49ebdbc99a336334433f_196.png)

![](img/30502ce54eee49ebdbc99a336334433f_198.png)

### ä»£ç å®ç°æ­¥éª¤

![](img/30502ce54eee49ebdbc99a336334433f_200.png)

![](img/30502ce54eee49ebdbc99a336334433f_202.png)

![](img/30502ce54eee49ebdbc99a336334433f_204.png)

![](img/30502ce54eee49ebdbc99a336334433f_206.png)

![](img/30502ce54eee49ebdbc99a336334433f_208.png)

ä»¥ä¸‹æ˜¯å®ç°ç™»å½•éªŒè¯çš„å…·ä½“æ­¥éª¤ï¼š

![](img/30502ce54eee49ebdbc99a336334433f_210.png)

![](img/30502ce54eee49ebdbc99a336334433f_212.png)

1.  **åˆ›å»ºé¡¹ç›®æ–‡ä»¶**
    åˆ›å»º `login.html`ï¼ˆå‰ç«¯é¡µé¢ï¼‰å’Œ `login_check.php`ï¼ˆåç«¯éªŒè¯ï¼‰ã€‚

![](img/30502ce54eee49ebdbc99a336334433f_214.png)

![](img/30502ce54eee49ebdbc99a336334433f_216.png)

![](img/30502ce54eee49ebdbc99a336334433f_218.png)

2.  **å¼•å…¥JQueryåº“**
    åœ¨ `login.html` ä¸­å¼•å…¥JQueryåº“æ–‡ä»¶ï¼Œè¿™æ˜¯ä½¿ç”¨å…¶Ajaxç­‰åŠŸèƒ½çš„å‰æã€‚
    ```html
    <script src=â€œjs/jquery-1.12.4.min.jsâ€œ></script>
    ```

3.  **ç¼–å†™å‰ç«¯ç™»å½•é¡µé¢ä¸é€»è¾‘ (`login.html`)**
    *   æ„å»ºä¸€ä¸ªç®€å•çš„ç™»å½•è¡¨å•ï¼ˆæ³¨æ„ï¼Œè¿™é‡Œå»æ‰äº†ä¼ ç»Ÿçš„ `<form>` æ ‡ç­¾ï¼Œæ”¹ä¸ºç”±JSæ§åˆ¶æäº¤ï¼‰ã€‚
    *   ä½¿ç”¨JQueryä¸ºç™»å½•æŒ‰é’®ç»‘å®šç‚¹å‡»äº‹ä»¶ã€‚
    *   åœ¨äº‹ä»¶å¤„ç†å‡½æ•°ä¸­ï¼Œä½¿ç”¨ `$.ajax` æ–¹æ³•å°†ç”¨æˆ·åå’Œå¯†ç å‘é€ç»™åç«¯ã€‚
    ```html
    <input type=â€œtextâ€œ class=â€œuserâ€œ placeholder=â€œç”¨æˆ·åâ€œ>
    <input type=â€œpasswordâ€œ class=â€œpassâ€œ placeholder=â€œå¯†ç â€œ>
    <button id=â€œloginBtnâ€œ>ç™»å½•</button>

    <script>
    $(â€˜#loginBtnâ€˜).click(function(){
        var my_user = $(â€˜.userâ€˜).val(); // è·å–ç”¨æˆ·åè¾“å…¥æ¡†çš„å€¼
        var my_pass = $(â€˜.passâ€˜).val(); // è·å–å¯†ç è¾“å…¥æ¡†çš„å€¼

        $.ajax({
            type: â€˜POSTâ€˜,
            url: â€˜login_check.phpâ€˜,
            data: {â€˜my_userâ€˜: my_user, â€˜my_passâ€˜: my_pass}, // å‘é€çš„æ•°æ®
            dataType: â€˜jsonâ€˜, // æœŸæœ›è¿”å›çš„æ•°æ®ç±»å‹
            success: function(res){ // è¯·æ±‚æˆåŠŸåçš„å›è°ƒå‡½æ•°
                // res æ˜¯åç«¯è¿”å›çš„JSONæ•°æ®
                if(res.info_code == 1){
                    alert(â€˜ç™»å½•æˆåŠŸâ€˜);
                    location.href = â€˜index.phpâ€˜; // è·³è½¬åˆ°é¦–é¡µ
                } else {
                    alert(â€˜ç™»å½•å¤±è´¥â€˜);
                }
            }
        });
    });
    </script>
    ```

![](img/30502ce54eee49ebdbc99a336334433f_220.png)

4.  **ç¼–å†™åç«¯éªŒè¯é€»è¾‘ (`login_check.php`)**
    åç«¯æ¥æ”¶æ•°æ®ï¼Œè¿›è¡ŒéªŒè¯ï¼Œå¹¶è¿”å›ä¸€ä¸ªJSONæ ¼å¼çš„ç»“æœç»™å‰ç«¯ã€‚
    ```php
    <?php
    $user = $_POST[â€˜my_userâ€˜];
    $pass = $_POST[â€˜my_passâ€˜];

    // æ¨¡æ‹Ÿæ•°æ®åº“éªŒè¯ï¼ˆå®é™…åº”ä»æ•°æ®åº“æŸ¥è¯¢ï¼‰
    if($user == â€˜adminâ€˜ && $pass == â€˜123456â€˜){
        $result = array(â€˜info_codeâ€˜=>1, â€˜msgâ€˜=>â€˜okâ€˜);
    } else {
        $result = array(â€˜info_codeâ€˜=>0, â€˜msgâ€˜=>â€˜okâ€˜);
    }
    echo json_encode($result); // å¿…é¡»è¾“å‡ºJSONæ•°æ®ï¼Œå‰ç«¯ajaxæ‰èƒ½æ¥æ”¶åˆ°
    ?>
    ```

![](img/30502ce54eee49ebdbc99a336334433f_222.png)

![](img/30502ce54eee49ebdbc99a336334433f_224.png)

![](img/30502ce54eee49ebdbc99a336334433f_226.png)

### âš ï¸ å…³é”®å®‰å…¨å¯ç¤º

![](img/30502ce54eee49ebdbc99a336334433f_228.png)

![](img/30502ce54eee49ebdbc99a336334433f_230.png)

![](img/30502ce54eee49ebdbc99a336334433f_232.png)

![](img/30502ce54eee49ebdbc99a336334433f_234.png)

è¿™ä¸ªæ¡ˆä¾‹æ­ç¤ºäº†å‰ç«¯éªŒè¯çš„å¦ä¸€ä¸ªé‡è¦å®‰å…¨è¾¹ç•Œï¼š
*   **ä¸å®‰å…¨çš„å†™æ³•**ï¼šå¦‚ä¸Šä¾‹æ‰€ç¤ºï¼Œ**ç™»å½•æˆåŠŸåçš„å…³é”®é€»è¾‘ï¼ˆå¦‚ `location.href` è·³è½¬ï¼‰å®Œå…¨ç”±å‰ç«¯æ ¹æ®è¿”å›å€¼ `res.info_code` æ¥å†³å®š**ã€‚æ”»å‡»è€…å¯ä»¥é€šè¿‡æŠ“åŒ…å·¥å…·ï¼Œåœ¨HTTPå“åº”ä¸­å°† `info_code` çš„å€¼ä» `0`ï¼ˆå¤±è´¥ï¼‰ä¿®æ”¹ä¸º `1`ï¼ˆæˆåŠŸï¼‰ï¼Œä»è€Œç»•è¿‡å¯†ç éªŒè¯ï¼Œç›´æ¥è§¦å‘å‰ç«¯çš„â€œç™»å½•æˆåŠŸâ€æµç¨‹ã€‚
*   **å®‰å…¨çš„å†™æ³•**ï¼šåº”å°†**æ ¸å¿ƒçš„ä¸šåŠ¡é€»è¾‘å¤„ç†æ”¾åœ¨åç«¯**ã€‚å‰ç«¯Ajaxä»…ç”¨äºäº¤äº’å’Œæç¤ºï¼Œä¾‹å¦‚ï¼Œç™»å½•æˆåŠŸåï¼Œåç«¯ç›´æ¥è¿”å›ä¸€ä¸ªé‡å®šå‘æŒ‡ä»¤æˆ–ç”Ÿæˆæ–°çš„æˆæƒä»¤ç‰Œï¼Œè€Œä¸æ˜¯è®©å‰ç«¯JSæ ¹æ®ä¸€ä¸ªå¯è¢«ç¯¡æ”¹çš„æ ‡å¿—ä½æ¥å†³å®šåç»­æ“ä½œã€‚

![](img/30502ce54eee49ebdbc99a336334433f_236.png)

![](img/30502ce54eee49ebdbc99a336334433f_238.png)

![](img/30502ce54eee49ebdbc99a336334433f_240.png)

![](img/30502ce54eee49ebdbc99a336334433f_242.png)

![](img/30502ce54eee49ebdbc99a336334433f_244.png)

![](img/30502ce54eee49ebdbc99a336334433f_246.png)

**æ ¸å¿ƒåŸåˆ™ï¼šå‰ç«¯è´Ÿè´£äº¤äº’å’Œå±•ç¤ºï¼Œåç«¯è´Ÿè´£å†³ç­–å’Œæ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€‚ä»»ä½•é‡è¦çš„çŠ¶æ€æ”¹å˜æˆ–æƒé™æˆäºˆï¼Œå…¶åˆ¤æ–­å’Œæ‰§è¡Œéƒ½å¿…é¡»å‘ç”Ÿåœ¨åç«¯æœåŠ¡å™¨ã€‚**

![](img/30502ce54eee49ebdbc99a336334433f_248.png)

![](img/30502ce54eee49ebdbc99a336334433f_250.png)

![](img/30502ce54eee49ebdbc99a336334433f_252.png)

![](img/30502ce54eee49ebdbc99a336334433f_254.png)

---

![](img/30502ce54eee49ebdbc99a336334433f_256.png)

![](img/30502ce54eee49ebdbc99a336334433f_258.png)

![](img/30502ce54eee49ebdbc99a336334433f_260.png)

![](img/30502ce54eee49ebdbc99a336334433f_262.png)

![](img/30502ce54eee49ebdbc99a336334433f_264.png)

![](img/30502ce54eee49ebdbc99a336334433f_266.png)

![](img/30502ce54eee49ebdbc99a336334433f_268.png)

## ğŸ›’ ä¸šåŠ¡é€»è¾‘æ¡ˆä¾‹ï¼šå•†å“è´­ä¹°åŠŸèƒ½

![](img/30502ce54eee49ebdbc99a336334433f_270.png)

![](img/30502ce54eee49ebdbc99a336334433f_272.png)

![](img/30502ce54eee49ebdbc99a336334433f_274.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬æ¢è®¨äº†ç™»å½•éªŒè¯ä¸­çš„å®‰å…¨é€»è¾‘ï¼Œæœ¬èŠ‚æˆ‘ä»¬å°†å…¶åŸç†åº”ç”¨äºä¸€ä¸ªå•†å“è´­ä¹°åœºæ™¯ã€‚

![](img/30502ce54eee49ebdbc99a336334433f_276.png)

![](img/30502ce54eee49ebdbc99a336334433f_278.png)

![](img/30502ce54eee49ebdbc99a336334433f_280.png)

![](img/30502ce54eee49ebdbc99a336334433f_282.png)

![](img/30502ce54eee49ebdbc99a336334433f_284.png)

![](img/30502ce54eee49ebdbc99a336334433f_286.png)

æˆ‘ä»¬è®¾è®¡ä¸€ä¸ªç®€å•åŠŸèƒ½ï¼šå‰ç«¯å±•ç¤ºå•†å“å’Œè´­ä¹°æ•°é‡è¾“å…¥æ¡†ï¼Œç”¨æˆ·ç‚¹å‡»è´­ä¹°åï¼ŒJSå‘é€æ•°é‡ç»™åç«¯ï¼Œåç«¯åˆ¤æ–­æ€»ä»·æ˜¯å¦è¶…è¿‡ç”¨æˆ·ä½™é¢ï¼Œå¹¶è¿”å›ç»“æœã€‚

![](img/30502ce54eee49ebdbc99a336334433f_288.png)

![](img/30502ce54eee49ebdbc99a336334433f_290.png)

![](img/30502ce54eee49ebdbc99a336334433f_292.png)

![](img/30502ce54eee49ebdbc99a336334433f_294.png)

![](img/30502ce54eee49ebdbc99a336334433f_296.png)

### ä»£ç å®ç°ç®€è¿°

![](img/30502ce54eee49ebdbc99a336334433f_298.png)

![](img/30502ce54eee49ebdbc99a336334433f_300.png)

![](img/30502ce54eee49ebdbc99a336334433f_302.png)

![](img/30502ce54eee49ebdbc99a336334433f_304.png)

![](img/30502ce54eee49ebdbc99a336334433f_306.png)

![](img/30502ce54eee49ebdbc99a336334433f_308.png)

1.  **å‰ç«¯é¡µé¢ (`shop.html`)**ï¼šå±•ç¤ºå•†å“ï¼Œæä¾›æ•°é‡è¾“å…¥æ¡†å’Œè´­ä¹°æŒ‰é’®ã€‚ä½¿ç”¨JQuery Ajaxå°†è´­ä¹°æ•°é‡ `num` å‘é€åˆ° `shop.php`ã€‚
2.  **åç«¯é€»è¾‘ (`shop.php`)**ï¼šå‡è®¾å•†å“å•ä»·ä¸º888ï¼Œç”¨æˆ·ä½™é¢ä¸º10000ã€‚åç«¯è®¡ç®— `æ€»ä»· = 888 * num`ï¼Œåˆ¤æ–­æ˜¯å¦ `<=10000`ã€‚
    ```php
    <?php
    $num = $_POST[â€˜numâ€˜];
    $total = 888 * $num;
    if($total <= 10000){
        echo json_encode(array(â€˜info_codeâ€˜=>1, â€˜msgâ€˜=>â€˜è´­ä¹°æˆåŠŸâ€˜));
    } else {
        echo json_encode(array(â€˜info_codeâ€˜=>0, â€˜msgâ€˜=>â€˜ä½™é¢ä¸è¶³â€˜));
    }
    ?>
    ```
3.  **å‰ç«¯å›è°ƒ**ï¼šæ ¹æ®è¿”å›çš„ `info_code`ï¼Œæç¤ºç”¨æˆ·è´­ä¹°æˆåŠŸæˆ–å¤±è´¥ã€‚

![](img/30502ce54eee49ebdbc99a336334433f_310.png)

![](img/30502ce54eee49ebdbc99a336334433f_312.png)

![](img/30502ce54eee49ebdbc99a336334433f_314.png)

![](img/30502ce54eee49ebdbc99a336334433f_316.png)

### ğŸ’¡ ä¸šåŠ¡é€»è¾‘å®‰å…¨å‰–æ

![](img/30502ce54eee49ebdbc99a336334433f_318.png)

![](img/30502ce54eee49ebdbc99a336334433f_320.png)

æ­¤æ¡ˆä¾‹ä¸ç™»å½•éªŒè¯åŒç†ï¼š
*   å¦‚æœâ€œæ‰£é™¤ä½™é¢â€ã€â€œç”Ÿæˆè®¢å•â€ç­‰å…³é”®è´­ä¹°æˆåŠŸåçš„é€»è¾‘ï¼Œæ˜¯ç”±å‰ç«¯åœ¨æ”¶åˆ° `info_code=1` åæ‰§è¡Œçš„ï¼Œé‚£ä¹ˆè¯¥é€»è¾‘å­˜åœ¨è¢«ç»•è¿‡çš„é£é™©ã€‚æ”»å‡»è€…å¯é€šè¿‡ä¿®æ”¹è¿”å›åŒ…ä¼ªé€ è´­ä¹°æˆåŠŸã€‚
*   å®‰å…¨çš„åšæ³•æ˜¯ï¼šåç«¯åœ¨éªŒè¯é€šè¿‡åï¼ˆ`æ€»ä»·<=ä½™é¢`ï¼‰ï¼Œ**åŒæ­¥åœ°ã€åŸå­åŒ–åœ°**æ‰§è¡Œâ€œæ‰£é™¤ä½™é¢â€å’Œâ€œåˆ›å»ºè®¢å•â€çš„æ•°æ®åº“æ“ä½œï¼Œç„¶åä»…å°†æˆåŠŸçš„ç»“æœé€šçŸ¥å‰ç«¯ã€‚å‰ç«¯åªè´Ÿè´£å±•ç¤ºâ€œè´­ä¹°æˆåŠŸâ€çš„æç¤ºï¼Œè€Œä¸è´Ÿè´£è§¦å‘æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€‚

![](img/30502ce54eee49ebdbc99a336334433f_322.png)

![](img/30502ce54eee49ebdbc99a336334433f_324.png)

![](img/30502ce54eee49ebdbc99a336334433f_326.png)

![](img/30502ce54eee49ebdbc99a336334433f_328.png)

**åœ¨å®¡è®¡ç±»ä¼¼ä¸šåŠ¡ï¼ˆå¦‚æ”¯ä»˜ã€å……å€¼ã€ä¿®æ”¹ä¿¡æ¯ã€é¢†å–ä¼˜æƒ åˆ¸ï¼‰æ—¶ï¼ŒåŠ¡å¿…å…³æ³¨ï¼šæˆåŠŸåçš„â€œå…³é”®åŠ¨ä½œâ€æ˜¯åœ¨å‰ç«¯è§¦å‘è¿˜æ˜¯åœ¨åç«¯åŒæ­¥å®Œæˆã€‚**

![](img/30502ce54eee49ebdbc99a336334433f_330.png)

![](img/30502ce54eee49ebdbc99a336334433f_332.png)

![](img/30502ce54eee49ebdbc99a336334433f_334.png)

![](img/30502ce54eee49ebdbc99a336334433f_336.png)

---

## ğŸ“ è¯¾ç¨‹æ€»ç»“

![](img/30502ce54eee49ebdbc99a336334433f_338.png)

![](img/30502ce54eee49ebdbc99a336334433f_340.png)

![](img/30502ce54eee49ebdbc99a336334433f_342.png)

æœ¬èŠ‚è¯¾ä¸­æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†ï¼š
1.  **åŸç”ŸJavaScriptå¼€å‘**ï¼šé€šè¿‡æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œç†è§£äº†åŸç”ŸJSæ“ä½œDOMå’Œäº‹ä»¶çš„åŸºæœ¬æµç¨‹ï¼Œå¹¶è®¤è¯†åˆ°**å‰ç«¯éªŒè¯æ˜“è¢«ç»•è¿‡**çš„æœ¬è´¨ã€‚
2.  **JQueryåº“ä¸AjaxæŠ€æœ¯**ï¼šå­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨JQueryç®€åŒ–JSä»£ç ï¼Œå¹¶ä½¿ç”¨Ajaxå®ç°å‰ç«¯ä¸åç«¯çš„æ•°æ®å¼‚æ­¥äº¤äº’ã€‚è¿™æ˜¯ç°ä»£Webåº”ç”¨å¸¸è§çš„é€šä¿¡æ¨¡å¼ã€‚
3.  **å‰åç«¯å®‰å…¨è¾¹ç•Œ**ï¼šé€šè¿‡ç™»å½•å’Œè´­ä¹°ä¸¤ä¸ªæ¡ˆä¾‹ï¼Œæˆ‘ä»¬æ·±åˆ»ç†è§£äº†**â€œå‰ç«¯æ§åˆ¶äº¤äº’ï¼Œåç«¯æ§åˆ¶é€»è¾‘â€** çš„å®‰å…¨åŸåˆ™ã€‚å°†æ ¸å¿ƒçš„ä¸šåŠ¡çŠ¶æ€åˆ¤æ–­å’Œå˜æ›´é€»è¾‘ç½®äºåç«¯ï¼Œæ˜¯ä¿è¯åº”ç”¨å®‰å…¨çš„åŸºç¡€ã€‚
4.  **å®‰å…¨æ¼æ´æ¨¡å¼**ï¼šè¯†åˆ«äº†ä¸€ç§å¸¸è§æ¼æ´æ¨¡å¼â€”â€”**â€œåŸºäºå‰ç«¯è¿”å›å€¼çš„é€»è¾‘å†³ç­–â€**ã€‚åœ¨å®‰å…¨æµ‹è¯•ä¸­ï¼Œåº”é‡ç‚¹å…³æ³¨é‚£äº›æ ¹æ®HTTPå“åº”å†…å®¹ï¼ˆå¦‚æŸä¸ª`code`æˆ–`flag`ï¼‰æ¥å†³å®šåç»­å…³é”®æµç¨‹çš„å‰ç«¯ä»£ç ã€‚

![](img/30502ce54eee49ebdbc99a336334433f_344.png)

![](img/30502ce54eee49ebdbc99a336334433f_346.png)

![](img/30502ce54eee49ebdbc99a336334433f_348.png)

![](img/30502ce54eee49ebdbc99a336334433f_350.png)

![](img/30502ce54eee49ebdbc99a336334433f_352.png)

é€šè¿‡ä»Šå¤©çš„è¯¾ç¨‹ï¼Œå¸Œæœ›å¤§å®¶ä¸ä»…èƒ½æŒæ¡ä¸€äº›JSå¼€å‘æŠ€å·§ï¼Œæ›´èƒ½å»ºç«‹èµ·å¯¹Webåº”ç”¨å‰åç«¯åˆ†å·¥ä¸å®‰å…¨è¾¹ç•Œçš„åŸºæœ¬è®¤çŸ¥ï¼Œä¸ºåç»­åˆ†ææ›´å¤æ‚çš„å®‰å…¨é—®é¢˜æ‰“ä¸‹åŸºç¡€ã€‚