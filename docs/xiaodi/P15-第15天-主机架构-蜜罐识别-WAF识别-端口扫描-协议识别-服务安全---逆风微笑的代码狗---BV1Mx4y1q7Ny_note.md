![](img/ee062da7355ca7b7bea8e059b19ff28e_1.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_3.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_5.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_6.png)

# ç¬¬15å¤©è¯¾ç¨‹ï¼šä¸»æœºæ¶æ„åˆ†æã€èœœç½è¯†åˆ«ã€WAFè¯†åˆ«ã€ç«¯å£æ‰«æã€åè®®è¯†åˆ«ä¸æœåŠ¡å®‰å…¨ ğŸ”

![](img/ee062da7355ca7b7bea8e059b19ff28e_8.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_10.png)

åœ¨æœ¬èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•åˆ†æç›®æ ‡ä¸»æœºçš„æ¶æ„ï¼Œè¯†åˆ«å…¶æ˜¯å¦éƒ¨ç½²äº†èœœç½æˆ–WAFï¼Œå¹¶é€šè¿‡ç«¯å£æ‰«ææ¥è¯†åˆ«å¼€æ”¾çš„åè®®ä¸æœåŠ¡ï¼Œä»è€Œè¯„ä¼°å…¶å®‰å…¨çŠ¶å†µã€‚è¿™äº›æŠ€èƒ½æ˜¯æ¸—é€æµ‹è¯•ä¸å®‰å…¨è¯„ä¼°ä¸­ä¿¡æ¯æ”¶é›†é˜¶æ®µçš„å…³é”®ç¯èŠ‚ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_12.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_14.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_16.png)

## æ¦‚è¿°ï¼šä¸»æœºæ¶æ„åˆ†ææŠ€æœ¯

![](img/ee062da7355ca7b7bea8e059b19ff28e_18.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_20.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_22.png)

ä¸»æœºæ¶æ„åˆ†æä¸»è¦å›´ç»•ä¸‰ä¸ªæŠ€æœ¯ç‚¹å±•å¼€ï¼šç«¯å£è¯†åˆ«ã€èœœç½è¯†åˆ«å’ŒWAFè¯†åˆ«ã€‚ä¸ŠèŠ‚è¯¾æˆ‘ä»¬ä»‹ç»äº†WebæœåŠ¡å™¨ã€åº”ç”¨æœåŠ¡å™¨ã€æ•°æ®åº“ç±»å‹ã€æ“ä½œç³»ç»Ÿä»¥åŠå„ç§æœåŠ¡ï¼ˆå¦‚FTPã€S7ç­‰ï¼‰çš„è¯†åˆ«ã€‚æœ¬èŠ‚è¯¾æˆ‘ä»¬å°†é‡ç‚¹å­¦ä¹ å¦‚ä½•è¯†åˆ«WAFä¿¡æ¯ã€èœœç½ä¿¡æ¯ï¼Œå¹¶é€šè¿‡ç«¯å£æ‰«ææ¥å‘ç°ä¸»æœºä¸Šè¿è¡Œçš„å„ç§æœåŠ¡ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_24.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_26.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_28.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_30.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_32.png)

ç®€å•æ¥è¯´ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•é€šè¿‡æŠ€æœ¯æ‰‹æ®µï¼Œåˆ¤æ–­ç›®æ ‡ä¸»æœºä¸Šè¿è¡Œäº†å“ªäº›æœåŠ¡ã€æ˜¯å¦å­˜åœ¨é˜²æŠ¤è®¾å¤‡ï¼ˆå¦‚WAFï¼‰ï¼Œä»¥åŠç›®æ ‡æ˜¯å¦æ˜¯ä¸€ä¸ªç”¨äºè¯±æ•æ”»å‡»è€…çš„é™·é˜±ï¼ˆèœœç½ï¼‰ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_34.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_36.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_38.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_40.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_42.png)

---

![](img/ee062da7355ca7b7bea8e059b19ff28e_44.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_46.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_48.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_50.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_52.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_54.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_56.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_58.png)

## WebæœåŠ¡å™¨ä¸åº”ç”¨æœåŠ¡å™¨è¯†åˆ« ğŸ–¥ï¸

![](img/ee062da7355ca7b7bea8e059b19ff28e_60.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_62.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_64.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_66.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬ä»‹ç»äº†ä¸»æœºæ¶æ„åˆ†æçš„æ•´ä½“æ¡†æ¶ï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•è¯†åˆ«WebæœåŠ¡å™¨å’Œåº”ç”¨æœåŠ¡å™¨ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_68.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_70.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_72.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_74.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_76.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_78.png)

### WebæœåŠ¡å™¨è¯†åˆ«

![](img/ee062da7355ca7b7bea8e059b19ff28e_80.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_82.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_84.png)

è¯†åˆ«WebæœåŠ¡å™¨é€šå¸¸æ¯”è¾ƒç®€å•ã€‚å½“æˆ‘ä»¬è®¿é—®ä¸€ä¸ªç½‘ç«™æ—¶ï¼Œå¯ä»¥æŸ¥çœ‹HTTPå“åº”å¤´ä¸­çš„ `Server` å­—æ®µï¼Œè¯¥å­—æ®µé€šå¸¸ä¼šæ ‡æ˜æœåŠ¡å™¨ç±»å‹å’Œç‰ˆæœ¬ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_86.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_88.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_90.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_92.png)

ä¾‹å¦‚ï¼Œè®¿é—®ä¸€ä¸ªç½‘ç«™åï¼Œåœ¨è¿”å›çš„HTTPæ•°æ®åŒ…ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šçœ‹åˆ°å¦‚ä¸‹ä¿¡æ¯ï¼š
```http
Server: Apache/2.4.41 (Ubuntu)
```
è¿™è¡¨ç¤ºè¯¥ç½‘ç«™è¿è¡Œåœ¨ApacheæœåŠ¡å™¨ä¸Šã€‚

### åº”ç”¨æœåŠ¡å™¨è¯†åˆ«

![](img/ee062da7355ca7b7bea8e059b19ff28e_94.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_96.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_98.png)

åº”ç”¨æœåŠ¡å™¨ï¼ˆå¦‚Tomcatã€JBossã€WebLogicï¼‰ä¸WebæœåŠ¡å™¨ï¼ˆå¦‚Apacheã€Nginxã€IISï¼‰æœ‰æ‰€ä¸åŒã€‚åº”ç”¨æœåŠ¡å™¨çš„ä¸€ä¸ªæ˜¾è‘—ç‰¹ç‚¹æ˜¯ä¼šå¼€æ”¾ç‰¹å®šçš„æœåŠ¡ç«¯å£ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_100.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_102.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_104.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_106.png)

ä¾‹å¦‚ï¼š
*   Tomcat é»˜è®¤å¼€æ”¾ **8080** ç«¯å£ã€‚
*   WebLogic é»˜è®¤å¼€æ”¾ **7001** ç«¯å£ã€‚
*   JBoss é»˜è®¤å¼€æ”¾ **8080** æˆ– **9990** ç«¯å£ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_108.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_110.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_112.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_114.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_116.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_118.png)

å› æ­¤ï¼Œè¯†åˆ«åº”ç”¨æœåŠ¡å™¨ä¸èƒ½ä»…é HTTPå“åº”å¤´ï¼Œè€Œéœ€è¦å€ŸåŠ©ç«¯å£æ‰«ææŠ€æœ¯ï¼Œæ£€æŸ¥è¿™äº›ç‰¹å®šç«¯å£æ˜¯å¦å¼€æ”¾ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_120.png)

---

![](img/ee062da7355ca7b7bea8e059b19ff28e_122.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_124.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_126.png)

## ç«¯å£æ‰«æï¼šå‘ç°ä¸»æœºæœåŠ¡ ğŸšª

![](img/ee062da7355ca7b7bea8e059b19ff28e_128.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_130.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_132.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_134.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_136.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬äº†è§£äº†å¦‚ä½•é€šè¿‡ç‰¹å®šç«¯å£è¯†åˆ«åº”ç”¨æœåŠ¡å™¨ï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬å°†ç³»ç»Ÿå­¦ä¹ ç«¯å£æ‰«ææŠ€æœ¯ã€‚

ç«¯å£æ‰«ææ˜¯åˆ¤æ–­ç›®æ ‡ä¸»æœºå¼€æ”¾äº†å“ªäº›ç½‘ç»œç«¯å£ï¼Œä»è€Œæ¨æ–­å…¶è¿è¡Œäº†å“ªäº›æœåŠ¡ï¼ˆå¦‚ç½‘ç«™ã€æ•°æ®åº“ã€è¿œç¨‹è¿æ¥æœåŠ¡ç­‰ï¼‰çš„æ ¸å¿ƒæŠ€æœ¯ã€‚

### å¸¸ç”¨ç«¯å£æ‰«æå·¥å…·

![](img/ee062da7355ca7b7bea8e059b19ff28e_138.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_140.png)

ä»¥ä¸‹æ˜¯ä¸‰ç§å¸¸ç”¨çš„ç«¯å£æ‰«æå·¥å…·ï¼Œå„æœ‰ä¼˜åŠ¿ï¼š

1.  **ç½‘ç»œç©ºé—´æœç´¢å¼•æ“ï¼ˆå¦‚Fofaã€Quakeï¼‰**ï¼šå±äºè¢«åŠ¨ä¿¡æ¯æ”¶é›†ã€‚æ— éœ€ä¸»åŠ¨å‘ç›®æ ‡å‘é€æ¢æµ‹åŒ…ï¼Œç›´æ¥é€šè¿‡æœç´¢å¼•æ“æŸ¥è¯¢ç›®æ ‡IPçš„å¼€æ”¾ç«¯å£å’Œå†å²è®°å½•ã€‚ä¼˜ç‚¹æ˜¯å¿«é€Ÿã€éšè”½ï¼Œä½†æ•°æ®å¯èƒ½ä¸å…¨æˆ–è¿‡æ—¶ã€‚
2.  **Nmap**ï¼šè€ç‰Œä¸”åŠŸèƒ½å¼ºå¤§çš„ä¸»åŠ¨æ‰«æå·¥å…·ã€‚æ‰«æå‡†ç¡®ã€ä¿¡æ¯è¯¦ç»†ï¼ˆå¯æ¢æµ‹æœåŠ¡ç‰ˆæœ¬ã€æ“ä½œç³»ç»Ÿç­‰ï¼‰ï¼Œä½†é€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢ã€‚
3.  **Masscan**ï¼šé«˜é€Ÿçš„ä¸»åŠ¨æ‰«æå·¥å…·ã€‚æ‰«æé€Ÿåº¦æå¿«ï¼Œé€‚åˆå¤§èŒƒå›´IPçš„ç«¯å£æ¢æµ‹ï¼Œä½†åœ¨å‡†ç¡®æ€§ä¸Šå¯èƒ½ç•¥é€ŠäºNmapã€‚

**ä¸»åŠ¨æ‰«æ**ä¸**è¢«åŠ¨æ‰«æ**çš„åŒºåˆ«ï¼š
*   **ä¸»åŠ¨æ‰«æ**ï¼šä»ä½ çš„ä¸»æœºä¸»åŠ¨å‘ç›®æ ‡å‘é€æ¢æµ‹æ•°æ®åŒ…ï¼Œæ ¹æ®ç›®æ ‡çš„å›åº”è¿›è¡Œåˆ†æã€‚
*   **è¢«åŠ¨æ‰«æ**ï¼šé€šè¿‡ç¬¬ä¸‰æ–¹å¹³å°æˆ–æœç´¢å¼•æ“æŸ¥è¯¢ç›®æ ‡ä¿¡æ¯ï¼Œè‡ªèº«ä¸äº§ç”Ÿç›´æ¥æµé‡ã€‚

### ç«¯å£æ‰«æçš„æ„ä¹‰

ç«¯å£æ‰«æä¸ä»…ç”¨äºè¯†åˆ«ä¸­é—´ä»¶ï¼Œè¿˜èƒ½å‘ç°æ•°æ®åº“ã€æ–‡ä»¶ä¼ è¾“ã€é‚®ä»¶ç­‰å„ç§æœåŠ¡ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_142.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_144.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_146.png)

ä»¥ä¸‹æ˜¯å¸¸è§ç«¯å£ã€åè®®åŠå…¶å¯èƒ½å­˜åœ¨çš„å®‰å…¨é—®é¢˜ç¤ºä¾‹ï¼š

![](img/ee062da7355ca7b7bea8e059b19ff28e_148.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_150.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_152.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_154.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_156.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_158.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_160.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_162.png)

| ç«¯å£å· | åè®®/æœåŠ¡ | å¯èƒ½å­˜åœ¨çš„å®‰å…¨é—®é¢˜ |
| :--- | :--- | :--- |
| 21 | FTP | åŒ¿åä¸Šä¼ ä¸‹è½½ã€å¼±å£ä»¤çˆ†ç ´ã€è½¯ä»¶åé—¨ |
| 22 | SSH | å¼±å£ä»¤çˆ†ç ´ã€ç‰ˆæœ¬æ¼æ´ |
| 80/443 | HTTP/HTTPS | Webåº”ç”¨æ¼æ´ï¼ˆå¦‚SQLæ³¨å…¥ã€XSSï¼‰ |
| 3306 | MySQL | SQLæ³¨å…¥ã€å¼±å£ä»¤ã€æƒé™æå‡æ¼æ´ |
| 3389 | RDP (Windowsè¿œç¨‹æ¡Œé¢) | å¼±å£ä»¤çˆ†ç ´ã€æ¼æ´ï¼ˆå¦‚BlueKeepï¼‰ |
| 6379 | Redis | æœªæˆæƒè®¿é—®ã€å¼±å£ä»¤ |

![](img/ee062da7355ca7b7bea8e059b19ff28e_164.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_166.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_168.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_170.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_172.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_174.png)

é€šè¿‡ç«¯å£æ‰«æï¼Œæˆ‘ä»¬å¯ä»¥ï¼š
*   **äº†è§£æœåŠ¡å™¨è§’è‰²**ï¼šå®ƒæ˜¯WebæœåŠ¡å™¨ã€æ•°æ®åº“æœåŠ¡å™¨è¿˜æ˜¯æ–‡ä»¶æœåŠ¡å™¨ï¼Ÿ
*   **æ‹“å®½æ”»å‡»é¢**ï¼šé™¤äº†Webæ¼æ´ï¼Œè¿˜å¯ä»¥å°è¯•FTPã€æ•°æ®åº“ã€è¿œç¨‹æ¡Œé¢ç­‰å…¶ä»–æœåŠ¡çš„æ¼æ´ã€‚
*   **åˆ¶å®šæµ‹è¯•ç­–ç•¥**ï¼šé’ˆå¯¹ä¸åŒçš„å¼€æ”¾æœåŠ¡ï¼Œé‡‡ç”¨ç›¸åº”çš„å®‰å…¨æµ‹è¯•æ–¹æ³•ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_175.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_177.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_179.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_181.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_183.png)

### æ‰«æä¸­çš„ç‰¹æ®Šæƒ…å†µ

![](img/ee062da7355ca7b7bea8e059b19ff28e_185.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_187.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_189.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_191.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_193.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_195.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_197.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_199.png)

è¿›è¡Œç«¯å£æ‰«ææ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸¤ç§ç‰¹æ®Šæƒ…å†µï¼š

![](img/ee062da7355ca7b7bea8e059b19ff28e_201.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_203.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_205.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_207.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_209.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_211.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_213.png)

1.  **é˜²ç«å¢™å¹²æ‰°**ï¼šç›®æ ‡æœåŠ¡å™¨çš„é˜²ç«å¢™å¯èƒ½é˜»æ­¢äº†æˆ‘ä»¬çš„æ‰«æè¯·æ±‚ã€‚åœ¨Nmapç»“æœä¸­ï¼Œç«¯å£çŠ¶æ€å¯èƒ½æ˜¾ç¤ºä¸º **filtered**ï¼Œè¡¨ç¤ºè¯¥ç«¯å£å¯èƒ½è¢«é˜²ç«å¢™è¿‡æ»¤ï¼Œæ— æ³•ç¡®å®šå…¶çœŸå®çŠ¶æ€ï¼ˆå¼€æ”¾æˆ–å…³é—­ï¼‰ã€‚
2.  **å†…ç½‘ç¯å¢ƒ**ï¼šç›®æ ‡çœŸå®ä¸šåŠ¡å¯èƒ½éƒ¨ç½²åœ¨å†…ç½‘ï¼Œé€šè¿‡åå‘ä»£ç†æˆ–NATæ˜ å°„åˆ°å…¬ç½‘IPã€‚æ­¤æ—¶ï¼Œä½ æ‰«æå…¬ç½‘IPåªèƒ½å‘ç°è¢«æ˜ å°„å‡ºæ¥çš„æœåŠ¡ï¼ˆå¦‚Webç«¯å£ï¼‰ï¼Œè€Œå†…ç½‘ä¸­å…¶ä»–æœåŠ¡ï¼ˆå¦‚æ•°æ®åº“ï¼‰çš„ç«¯å£åˆ™æ— æ³•æ‰«æåˆ°ã€‚è¿™ä¼šå¯¼è‡´æ‰«æç»“æœä¸å®é™…æƒ…å†µå­˜åœ¨å·®å¼‚ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_215.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_217.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_219.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_221.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_223.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_225.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_226.png)

---

![](img/ee062da7355ca7b7bea8e059b19ff28e_228.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_230.png)

## WAFï¼ˆWebåº”ç”¨é˜²ç«å¢™ï¼‰è¯†åˆ« ğŸ›¡ï¸

ä¸Šä¸€èŠ‚æˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•å‘ç°ä¸»æœºæœåŠ¡ï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•è¯†åˆ«ä¿æŠ¤Webåº”ç”¨çš„é˜²ç«å¢™â€”â€”WAFã€‚

WAFï¼ˆWeb Application Firewallï¼‰ç”¨äºä¿æŠ¤Webåº”ç”¨ï¼Œé˜²å¾¡å¸¸è§çš„Webæ”»å‡»ï¼ˆå¦‚SQLæ³¨å…¥ã€XSSï¼‰ã€‚è¯†åˆ«WAFçš„ä¸»è¦æ„ä¹‰åœ¨äºï¼šå¦‚æœç›®æ ‡å­˜åœ¨å¼ºå¤§çš„WAFï¼Œé‚£ä¹ˆç»å¤§å¤šæ•°å¸¸è§„Webæ”»å‡»æ‰‹æ®µéƒ½ä¼šå¤±æ•ˆï¼Œæˆ‘ä»¬éœ€è¦æ®æ­¤è°ƒæ•´æµ‹è¯•ç­–ç•¥æˆ–è€ƒè™‘æ”¾å¼ƒå¯¹è¯¥ç›®æ ‡çš„Webå±‚é¢æµ‹è¯•ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_232.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_234.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_236.png)

### WAFçš„ç±»å‹

![](img/ee062da7355ca7b7bea8e059b19ff28e_238.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_240.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_242.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_244.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_246.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_248.png)

*   **äº‘WAF**ï¼šç”±äº‘æœåŠ¡å•†ï¼ˆå¦‚é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ã€AWSï¼‰æä¾›ï¼Œé›†æˆåœ¨å…¶äº‘äº§å“ä¸­ï¼ŒæŠ€æœ¯é€šå¸¸è¾ƒå…ˆè¿›ã€‚
*   **ç¡¬ä»¶WAF**ï¼šç‹¬ç«‹çš„ç¡¬ä»¶è®¾å¤‡ï¼Œéƒ¨ç½²åœ¨æœºæˆ¿ç½‘ç»œå…¥å£ï¼Œå¸¸è§äºä¸­å¤§å‹ä¼ä¸šæˆ–æœºæ„ã€‚
*   **è½¯ä»¶WAF**ï¼šå®‰è£…åœ¨æœåŠ¡å™¨ä¸Šçš„è½¯ä»¶ï¼Œå¦‚å®‰å…¨ç‹—ã€äº‘é”ã€å®å¡”é˜²ç«å¢™ç­‰ï¼Œå¸¸è§äºä¸ªäººæˆ–ä¸­å°å‹ä¼ä¸šã€‚
*   **ä»£ç çº§WAF**ï¼šåœ¨ç½‘ç«™åº”ç”¨ä»£ç ä¸­å®ç°çš„é˜²æŠ¤è§„åˆ™ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_250.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_252.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_254.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_256.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_258.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_260.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_262.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_264.png)

### å¦‚ä½•è¯†åˆ«WAF

![](img/ee062da7355ca7b7bea8e059b19ff28e_266.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_268.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_270.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_272.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_274.png)

1.  **äººå·¥è¯†åˆ«**ï¼šä¸»åŠ¨å‘é€ä¸€äº›æ¶æ„è¯·æ±‚ï¼ˆå¦‚ç®€å•çš„SQLæ³¨å…¥è¯­å¥ï¼‰ï¼Œè§‚å¯Ÿè¿”å›çš„é¡µé¢ã€‚å¦‚æœè¯·æ±‚è¢«æ‹¦æˆªï¼Œé€šå¸¸ä¼šè¿”å›ç‰¹å®šçš„æ‹¦æˆªé¡µé¢ï¼Œé¡µé¢ä¸Šå¯èƒ½åŒ…å«WAFå‚å•†çš„åç§°æˆ–ç‰¹å¾å›¾æ ‡ã€‚
2.  **å·¥å…·è¯†åˆ«**ï¼šä½¿ç”¨è‡ªåŠ¨åŒ–å·¥å…·è¿›è¡Œè¯†åˆ«ã€‚
    *   **WAFW00F**ï¼šä¸€æ¬¾ç»å…¸çš„WAFè¯†åˆ«å·¥å…·ã€‚
    *   **è¯†åˆ«é¡¹ç›®**ï¼šä¸€äº›å¼€æºé¡¹ç›®å†…ç½®äº†WAFæŒ‡çº¹åº“ï¼Œå¯ä»¥è‡ªåŠ¨åŒ¹é…ã€‚
3.  **ç½‘ç»œç©ºé—´æœç´¢å¼•æ“**ï¼šåœ¨Fofaã€Quakeä¸­æœç´¢ç›®æ ‡IPæˆ–åŸŸåï¼Œæœ‰æ—¶ä¼šåœ¨èµ„äº§ä¿¡æ¯ä¸­ç›´æ¥æ ‡æ³¨WAFç±»å‹ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_276.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_278.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_280.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_282.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_284.png)

**æ ¸å¿ƒå»ºè®®**ï¼šè¯†åˆ«å‡ºWAFï¼ˆå°¤å…¶æ˜¯äº‘WAFæˆ–çŸ¥åç¡¬ä»¶WAFï¼‰åï¼Œéœ€è¦ç†æ€§è¯„ä¼°ç»•è¿‡éš¾åº¦ã€‚å¯¹äºå¤§å¤šæ•°å¼ºWAFï¼Œå¸¸è§„Webæ”»å‡»æ‰‹æ®µæˆåŠŸç‡æä½ï¼Œåº”åŠæ—¶è°ƒæ•´æµ‹è¯•é‡ç‚¹ï¼Œè½¬å‘å…¶ä»–æœåŠ¡æˆ–å…¥å£ç‚¹ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_286.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_288.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_290.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_292.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_294.png)

---

![](img/ee062da7355ca7b7bea8e059b19ff28e_296.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_298.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_300.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_302.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_304.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_306.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_308.png)

## èœœç½è¯†åˆ« ğŸ¯

![](img/ee062da7355ca7b7bea8e059b19ff28e_310.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_312.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_314.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬è®¨è®ºäº†å¦‚ä½•è¯†åˆ«é˜²å¾¡ç³»ç»Ÿï¼ˆWAFï¼‰ï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•è¯†åˆ«æ”»å‡»é™·é˜±â€”â€”èœœç½ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_316.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_318.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_320.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_322.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_324.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_326.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_327.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_329.png)

èœœç½ï¼ˆHoneypotï¼‰æ˜¯ä¸€ç§å®‰å…¨å¨èƒæ£€æµ‹æŠ€æœ¯ï¼Œå…¶æœ¬è´¨æ˜¯éƒ¨ç½²ä¸€ä¸ªå……æ»¡â€œæ¼æ´â€å’Œâ€œæ•æ„Ÿä¿¡æ¯â€çš„è™šå‡ç³»ç»Ÿï¼Œç”¨äºè¯±éª—ã€è®°å½•æ”»å‡»è€…çš„è¡Œä¸ºï¼Œå¹¶æ¶ˆè€—å…¶æ—¶é—´ã€‚ä½œä¸ºæ”»å‡»æ–¹ï¼ˆçº¢é˜Ÿï¼‰ï¼Œè¯†åˆ«èœœç½è‡³å…³é‡è¦ï¼Œä»¥é¿å…åœ¨è™šå‡ç›®æ ‡ä¸Šæµªè´¹ç²¾åŠ›å¹¶æš´éœ²è‡ªèº«æ‰‹æ³•ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_331.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_333.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_335.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_337.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_339.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_341.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_343.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_345.png)

### èœœç½çš„ç±»å‹

![](img/ee062da7355ca7b7bea8e059b19ff28e_347.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_349.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_351.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_353.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_355.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_357.png)

æ ¹æ®äº¤äº’ç¨‹åº¦åˆ†ä¸ºï¼š
*   **ä½äº¤äº’èœœç½**ï¼šæ¨¡æ‹Ÿç®€å•æœåŠ¡ï¼Œäº¤äº’æœ‰é™ã€‚
*   **ä¸­äº¤äº’èœœç½**ï¼šæ¨¡æ‹Ÿéƒ¨åˆ†æœåŠ¡é€»è¾‘ï¼Œäº¤äº’æ€§æ›´å¼ºã€‚
*   **é«˜äº¤äº’èœœç½**ï¼šæ¨¡æ‹Ÿä¸€ä¸ªæ¥è¿‘çœŸå®çš„å®Œæ•´ç³»ç»Ÿï¼Œäº¤äº’ç¨‹åº¦æœ€æ·±ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_359.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_361.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_363.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_365.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_367.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_369.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_371.png)

### å¦‚ä½•è¯†åˆ«èœœç½

![](img/ee062da7355ca7b7bea8e059b19ff28e_373.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_375.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_377.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_379.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_381.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_383.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_385.png)

1.  **å·¥å…·è¯†åˆ«**ï¼š
    *   **Hermitï¼ˆå¤¸å…‹èœœç½è¯†åˆ«å·¥å…·ï¼‰**ï¼šåˆ©ç”¨360å¤¸å…‹ç½‘ç»œç©ºé—´å¼•æ“çš„æ•°æ®è¿›è¡Œè¯†åˆ«ï¼Œç›¸å¯¹å‡†ç¡®ã€‚
    *   **æµè§ˆå™¨æ’ä»¶**ï¼šä¸€äº›æ’ä»¶å¯ä»¥æ£€æµ‹é¡µé¢ç‰¹å¾ï¼Œæç¤ºå¯èƒ½ä¸ºèœœç½ï¼Œä½†è¯¯æŠ¥ç‡å¯èƒ½è¾ƒé«˜ã€‚
2.  **äººå·¥åˆ†æ**ï¼š
    *   **ç«¯å£ç‰¹å¾**ï¼šèœœç½é€šå¸¸ä¼šå¼€æ”¾å¤§é‡ç«¯å£ï¼ˆæ•°åç”šè‡³ä¸Šç™¾ä¸ªï¼‰ï¼Œä¸”ç«¯å£å·å¯èƒ½å‘ˆç°æœ‰è§„å¾‹çš„åºåˆ—ï¼ˆå¦‚8001, 8002, 8003...ï¼‰ï¼Œè¿™ä¸çœŸå®ä¸šåŠ¡æœåŠ¡å™¨é€šå¸¸åªå¼€æ”¾å¿…è¦ç«¯å£çš„ç‰¹ç‚¹ä¸åŒã€‚
    *   **åè®®è®¿é—®å¼‚å¸¸**ï¼šå°è¯•ç”¨æµè§ˆå™¨ï¼ˆHTTPåè®®ï¼‰è®¿é—®éWebæœåŠ¡ç«¯å£ï¼ˆå¦‚æ•°æ®åº“ç«¯å£3306ï¼‰ã€‚çœŸå®ç³»ç»Ÿé€šå¸¸ä¼šè¿æ¥å¤±è´¥æˆ–æ— å“åº”ï¼Œè€ŒæŸäº›èœœç½ä¸ºäº†å®ç°æ”»å‡»è®°å½•ï¼Œå¯èƒ½ä¼šè¿”å›ä¸€ä¸ªæ–‡ä»¶ä¸‹è½½ï¼Œè¿™æ˜¯å…¶è®¾è®¡æ¶æ„å¯¼è‡´çš„ç‰¹å¾ã€‚
    *   **æŒ‡çº¹æ¯”å¯¹**ï¼šæ”¶é›†å„ç±»èœœç½äº§å“çš„é»˜è®¤é¡µé¢ã€é”™è¯¯ä¿¡æ¯ç­‰æŒ‡çº¹ï¼Œä¸ç›®æ ‡è¿”å›çš„ä¿¡æ¯è¿›è¡Œæ¯”å¯¹ã€‚
3.  **ç½‘ç»œç©ºé—´æœç´¢å¼•æ“**ï¼šåœ¨Fofaã€Quakeä¸­æœç´¢ç›®æ ‡IPï¼Œèµ„äº§æ ‡ç­¾æœ‰æ—¶ä¼šç›´æ¥æ ‡è®°ä¸ºâ€œèœœç½â€ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_387.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_389.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_391.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_393.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_394.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_396.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_398.png)

**æ ¸å¿ƒå»ºè®®**ï¼šç»¼åˆè¿ç”¨å·¥å…·ã€äººå·¥åˆ†æå’Œç½‘ç»œç©ºé—´æƒ…æŠ¥è¿›è¡Œåˆ¤æ–­ã€‚ä¸€æ—¦é«˜åº¦æ€€ç–‘ç›®æ ‡æ˜¯èœœç½ï¼Œæœ€æ˜æ™ºçš„åšæ³•æ˜¯ç«‹å³åœæ­¢æ”»å‡»ï¼Œæ›´æ¢ç›®æ ‡ï¼Œä»¥å…å¾’åŠ³æ— åŠŸå¹¶æ³„éœ²è‡ªèº«ä¿¡æ¯ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_400.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_402.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_404.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_406.png)

---

![](img/ee062da7355ca7b7bea8e059b19ff28e_408.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_410.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_412.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_414.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_416.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_418.png)

## æ€»ç»“ ğŸ“

![](img/ee062da7355ca7b7bea8e059b19ff28e_420.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_422.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_424.png)

æœ¬èŠ‚è¯¾ä¸­æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†ä¸»æœºæ¶æ„åˆ†æçš„å…³é”®æŠ€æœ¯ï¼š

![](img/ee062da7355ca7b7bea8e059b19ff28e_426.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_428.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_430.png)

1.  **ç«¯å£æ‰«æ**ï¼šä½¿ç”¨Nmapã€Masscanç­‰å·¥å…·æˆ–ç½‘ç»œç©ºé—´å¼•æ“ï¼Œå‘ç°ç›®æ ‡å¼€æ”¾çš„æœåŠ¡ç«¯å£ï¼Œä»è€Œæ¨æ–­å…¶è¿è¡Œçš„åº”ç”¨ï¼ˆWebæœåŠ¡å™¨ã€æ•°æ®åº“ã€è¿œç¨‹ç®¡ç†ç­‰ï¼‰ï¼Œå¹¶æ®æ­¤æ‹“å®½å®‰å…¨æµ‹è¯•çš„èŒƒå›´ã€‚
2.  **WAFè¯†åˆ«**ï¼šé€šè¿‡äººå·¥æµ‹è¯•ã€å·¥å…·ï¼ˆå¦‚WAFW00Fï¼‰æˆ–ç½‘ç»œç©ºé—´å¼•æ“ï¼Œåˆ¤æ–­ç›®æ ‡Webåº”ç”¨å‰æ˜¯å¦éƒ¨ç½²äº†é˜²ç«å¢™ã€‚è¯†åˆ«WAFæœ‰åŠ©äºæˆ‘ä»¬è¯„ä¼°Webå±‚é¢æ”»å‡»çš„éš¾åº¦ï¼ŒåŠæ—¶è°ƒæ•´æµ‹è¯•ç­–ç•¥ã€‚
3.  **èœœç½è¯†åˆ«**ï¼šåˆ©ç”¨ä¸“ç”¨å·¥å…·ï¼ˆå¦‚Hermitï¼‰ã€åˆ†æç«¯å£ç‰¹å¾ã€åè®®å“åº”å¼‚å¸¸ä»¥åŠç½‘ç»œç©ºé—´æƒ…æŠ¥ï¼Œåˆ¤æ–­ç›®æ ‡æ˜¯å¦æ˜¯ä¸€ä¸ªç”¨äºè¯±æ•æ”»å‡»è€…çš„é™·é˜±ã€‚è¯†åˆ«èœœç½èƒ½æœ‰æ•ˆé¿å…æ—¶é—´æµªè´¹å’Œä¿¡æ¯æš´éœ²ã€‚

![](img/ee062da7355ca7b7bea8e059b19ff28e_432.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_434.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_436.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_438.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_440.png)

![](img/ee062da7355ca7b7bea8e059b19ff28e_441.png)

æŒæ¡è¿™äº›æŠ€èƒ½ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬åœ¨æ¸—é€æµ‹è¯•å’Œä¿¡æ¯æ”¶é›†é˜¶æ®µæ›´æ¸…æ™°åœ°è®¤è¯†ç›®æ ‡ï¼Œåšå‡ºæ›´æ˜æ™ºçš„å†³ç­–ï¼Œä»è€Œæé«˜æµ‹è¯•æ•ˆç‡å’ŒæˆåŠŸç‡ã€‚ä¸‹èŠ‚è¯¾æˆ‘ä»¬å°†ç»§ç»­å­¦ä¹ CDNè¯†åˆ«å’Œç»„ä»¶è¯†åˆ«ç­‰ç›¸å…³å†…å®¹ã€‚