# è¯¾ç¨‹P14ï¼šç¬¬14å¤© - JSæ¶æ„&æ¡†æ¶è¯†åˆ«&æ³„æ¼æå–&APIæ¥å£æšä¸¾&FUZZçˆ¬è™«&æ’ä»¶é¡¹ç›® ğŸ”

åœ¨æœ¬èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†è¦å­¦ä¹ å‰ç«¯JavaScriptï¼ˆJSï¼‰æ¶æ„çš„æ¸—é€æµ‹è¯•æ–¹æ³•ã€‚è¿™å¯¹äºæŒ–æ˜SRCï¼ˆå®‰å…¨åº”æ€¥å“åº”ä¸­å¿ƒï¼‰æ¼æ´éå¸¸æœ‰å¸®åŠ©ã€‚æˆ‘ä»¬å°†é‡ç‚¹ä»‹ç»å¦‚ä½•è¯†åˆ«JSæ¡†æ¶ã€ä»JSæ–‡ä»¶ä¸­æå–æ•æ„Ÿä¿¡æ¯ã€æšä¸¾APIæ¥å£ï¼Œä»¥åŠä½¿ç”¨FUZZçˆ¬è™«å’Œå„ç±»æ’ä»¶é¡¹ç›®è¿›è¡Œè‡ªåŠ¨åŒ–ä¿¡æ¯æ”¶é›†ã€‚

## æ¦‚è¿° ğŸ“‹

![](img/4f33ebdc4faf5af1d4597311e1389f68_1.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_3.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_5.png)

æœ¬èŠ‚è¯¾çš„æ ¸å¿ƒæ˜¯ç†è§£åŸºäºJavaScriptå¼€å‘çš„Webåº”ç”¨ä¸åç«¯è¯­è¨€ï¼ˆå¦‚PHPã€Javaï¼‰å¼€å‘çš„åº”ç”¨ä¹‹é—´çš„å…³é”®å·®å¼‚ï¼Œå¹¶æŒæ¡é’ˆå¯¹JSåº”ç”¨çš„ç‰¹æœ‰æ¸—é€æµ‹è¯•æ–¹æ³•ã€‚æˆ‘ä»¬å°†å­¦ä¹ ä¸‰ç§æµ‹è¯•æ¨¡å¼ï¼šæ‰‹å·¥åˆ†æã€åŠè‡ªåŠ¨å·¥å…·è¾…åŠ©å’Œå…¨è‡ªåŠ¨å·¥å…·æ‰«æã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_7.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_9.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_11.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬ä»‹ç»äº†é’ˆå¯¹åç«¯æŠ€æœ¯ï¼ˆå¦‚CMSï¼‰çš„è¯†åˆ«å’Œæºç æå–ã€‚æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹é’ˆå¯¹å‰ç«¯JavaScriptæŠ€æœ¯å¼€å‘çš„Webåº”ç”¨å¦‚ä½•è¿›è¡Œæ¸—é€æµ‹è¯•ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_13.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_15.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_17.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_19.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_21.png)

## JSåº”ç”¨çš„æ ¸å¿ƒæ¦‚å¿µä¸å·®å¼‚ ğŸ”‘

![](img/4f33ebdc4faf5af1d4597311e1389f68_23.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_25.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_27.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_29.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_31.png)

é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ç†è§£ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼š**JSå¼€å‘çš„ç½‘ç«™ï¼Œä½ åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°çš„ä»£ç ä¸å…¶æœåŠ¡å™¨ä¸Šå­˜å‚¨çš„ä»£ç åŸºæœ¬ä¸€è‡´**ã€‚è¿™ä¸åç«¯å¼€å‘è¯­è¨€ï¼ˆå¦‚PHPã€Javaã€.NETï¼‰æœ‰æœ¬è´¨åŒºåˆ«ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_33.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_35.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_37.png)

**åç«¯è¯­è¨€å¼€å‘çš„Webåº”ç”¨**ï¼š
*   æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ä»£ç è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯ã€‚
*   æµè§ˆå™¨æ— æ³•ç›´æ¥çœ‹åˆ°çœŸå®çš„æºä»£ç ï¼Œåªèƒ½çœ‹åˆ°æœåŠ¡å™¨å¤„ç†åçš„è¾“å‡ºç»“æœï¼ˆHTMLã€CSSã€JSï¼‰ã€‚
*   ä¸ŠèŠ‚è¯¾çš„CMSè¯†åˆ«å’Œæºç æ³„éœ²åˆ©ç”¨å°±æ˜¯é’ˆå¯¹è¿™ç±»åç«¯åº”ç”¨ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_39.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_41.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_43.png)

**å‰ç«¯JavaScriptå¼€å‘çš„Webåº”ç”¨**ï¼š
*   å¤§é‡ä¸šåŠ¡é€»è¾‘ã€æ•°æ®éªŒè¯ã€APIè°ƒç”¨ç­‰ä»£ç ä»¥JavaScriptå½¢å¼ç›´æ¥å‘é€åˆ°æµè§ˆå™¨æ‰§è¡Œã€‚
*   æˆ‘ä»¬å¯ä»¥åœ¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·ä¸­ç›´æ¥æŸ¥çœ‹å’Œåˆ†æè¿™äº›JSæºä»£ç ã€‚
*   å…¬å¼è¡¨ç¤ºï¼š`æµè§ˆå™¨ç«¯å¯è§ä»£ç  â‰ˆ æœåŠ¡å™¨ç«¯ä¸šåŠ¡é€»è¾‘ä»£ç `

![](img/4f33ebdc4faf5af1d4597311e1389f68_45.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_47.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_48.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_50.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_52.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_54.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_56.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_58.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_60.png)

ç”±äºå¯ä»¥ç›´æ¥çœ‹åˆ°æºä»£ç ï¼Œæˆ‘ä»¬æ— éœ€åƒå¯¹å¾…åç«¯åº”ç”¨é‚£æ ·å»â€œè·å–â€æºç ã€‚æˆ‘ä»¬çš„ç›®æ ‡è½¬å˜ä¸ºï¼š**ä»è¿™äº›å¯è§çš„JSä»£ç ä¸­ï¼Œåˆ†æå‡ºæ›´å¤šæœ‰ä»·å€¼çš„ä¿¡æ¯**ï¼Œä¾‹å¦‚ï¼š
*   æ›´å¤šçš„URLåœ°å€ï¼ˆæ¥å£ã€ç®¡ç†åå°è·¯å¾„ç­‰ï¼‰ã€‚
*   ä»£ç ä¸­çš„ä¸šåŠ¡é€»è¾‘å’ŒéªŒè¯æœºåˆ¶ã€‚
*   å¯èƒ½æ³„éœ²çš„æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚APIå¯†é’¥ã€åŠ å¯†ç®—æ³•ã€ç¡¬ç¼–ç å‡­è¯ç­‰ï¼‰ã€‚
*   æ•°æ®ä¼ è¾“å’ŒåŠ å¯†æ–¹å¼ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_62.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_64.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_66.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_68.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_70.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_72.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_74.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_76.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_78.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_80.png)

## å¦‚ä½•è¯†åˆ«JSåº”ç”¨ ğŸ¯

![](img/4f33ebdc4faf5af1d4597311e1389f68_82.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_84.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_86.png)

åœ¨å¼€å§‹æµ‹è¯•å‰ï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­ç›®æ ‡ç½‘ç«™æ˜¯å¦å¤§é‡ä½¿ç”¨äº†JSæ¡†æ¶è¿›è¡Œå¼€å‘ã€‚ä»¥ä¸‹æ˜¯åˆ¤æ–­æ–¹æ³•ï¼š

![](img/4f33ebdc4faf5af1d4597311e1389f68_88.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_90.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_92.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_93.png)

1.  **ä½¿ç”¨æµè§ˆå™¨æ’ä»¶è¯†åˆ«**ï¼šå®‰è£…å¦‚`Wappalyzer`è¿™ç±»æŒ‡çº¹è¯†åˆ«æ’ä»¶ã€‚è®¿é—®ç›®æ ‡ç½‘ç«™æ—¶ï¼Œæ’ä»¶ä¼šæ˜¾ç¤ºæ£€æµ‹åˆ°çš„æŠ€æœ¯æ ˆã€‚å¦‚æœæ£€æµ‹åˆ°`Vue.js`ã€`React`ã€`Angular`ç­‰JSæ¡†æ¶ä½œä¸ºä¸»è¦æŠ€æœ¯ï¼Œåˆ™å¾ˆå¯èƒ½æ˜¯ä¸€ä¸ªJSåº”ç”¨ã€‚
2.  **æŸ¥çœ‹æºä»£ç **ï¼šåœ¨ç½‘ç«™é¡µé¢å³é”®ç‚¹å‡»â€œæŸ¥çœ‹ç½‘é¡µæºä»£ç â€æˆ–ä½¿ç”¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰ã€‚è§‚å¯ŸåŠ è½½çš„JSæ–‡ä»¶æ•°é‡å’Œåç§°ã€‚å…¸å‹çš„JSåº”ç”¨ä¼šåŠ è½½å¤§é‡ä»¥æ¡†æ¶åï¼ˆå¦‚`vue`ã€`react`ï¼‰æˆ–ä¸šåŠ¡æ¨¡å—ï¼ˆå¦‚`login`ã€`admin`ï¼‰å‘½åçš„JSæ–‡ä»¶ã€‚
3.  **å¯¹æ¯”ç¤ºä¾‹**ï¼š
    *   **PHPåšå®¢**ï¼šæ’ä»¶å¯èƒ½æ˜¾ç¤ºä¸»è¦æŠ€æœ¯ä¸º`PHP`ï¼Œ`JavaScript`ä»…ä½œä¸ºè¾…åŠ©åº“å­˜åœ¨ã€‚JSæ–‡ä»¶å¯èƒ½è¾ƒå°‘ï¼Œä¸”åŠŸèƒ½å•ä¸€ï¼ˆå¦‚è¡¨å•éªŒè¯ï¼‰ã€‚
    *   **Vue.jsç½‘ç«™**ï¼šæ’ä»¶ä¼šæ˜ç¡®æ˜¾ç¤º`Vue.js`æ¡†æ¶ã€‚å¼€å‘è€…å·¥å…·çš„â€œSourcesâ€æˆ–â€œNetworkâ€æ ‡ç­¾é¡µä¸­ä¼šçœ‹åˆ°å¤§é‡`.js`ã€`.vue`æ–‡ä»¶ï¼Œå…¶ä¸­å¯èƒ½åŒ…å«`login.js`ã€`api.js`ç­‰åŒ…å«æ˜ç¡®ä¸šåŠ¡é€»è¾‘çš„æ–‡ä»¶ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_95.png)

## JSä¿¡æ¯æ”¶é›†çš„ä¸‰ç§æ¨¡å¼ ğŸ› ï¸

![](img/4f33ebdc4faf5af1d4597311e1389f68_97.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_99.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_101.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_103.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_105.png)

é’ˆå¯¹JSåº”ç”¨çš„ä¿¡æ¯æ”¶é›†ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†ä¸ºä¸‰ç§æ¨¡å¼ï¼šæ‰‹å·¥åˆ†æã€åŠè‡ªåŠ¨å·¥å…·è¾…åŠ©å’Œå…¨è‡ªåŠ¨å·¥å…·æ‰«æã€‚æ¯ç§æ¨¡å¼å„æœ‰ä¼˜åŠ£ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_107.png)

### æ¨¡å¼ä¸€ï¼šæ‰‹å·¥åˆ†ææ¨¡å¼

![](img/4f33ebdc4faf5af1d4597311e1389f68_109.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_111.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_113.png)

æ‰‹å·¥åˆ†æç²¾åº¦é«˜ï¼Œä½†è€—æ—¶è¾ƒé•¿ï¼Œéœ€è¦å¯¹JSä»£ç æœ‰ä¸€å®šç†è§£ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_115.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_117.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_119.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_121.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_123.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_125.png)

ä»¥ä¸‹æ˜¯æ‰‹å·¥åˆ†æçš„æ ¸å¿ƒæ­¥éª¤ï¼š

![](img/4f33ebdc4faf5af1d4597311e1389f68_127.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_128.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_130.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_132.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_134.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_136.png)

**ç¬¬ä¸€æ­¥ï¼šç­›é€‰å…³é”®JSæ–‡ä»¶**
åœ¨å¼€å‘è€…å·¥å…·çš„â€œNetworkâ€é¢æ¿ä¸­ï¼Œè¿‡æ»¤å‡ºæ‰€æœ‰`.js`æ–‡ä»¶ã€‚æ ¹æ®æ–‡ä»¶åçŒœæµ‹å…¶åŠŸèƒ½ï¼Œä¼˜å…ˆåˆ†æä¸å½“å‰æµ‹è¯•åŠŸèƒ½ç›¸å…³çš„æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œæµ‹è¯•ç™»å½•åŠŸèƒ½æ—¶ï¼Œåº”ä¼˜å…ˆæŸ¥çœ‹åä¸º`login.js`ã€`auth.js`çš„æ–‡ä»¶ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_138.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_140.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_142.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_144.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_146.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_148.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_150.png)

**ç¬¬äºŒæ­¥ï¼šå…¨å±€æœç´¢å…³é”®å­—**
åœ¨â€œSourcesâ€é¢æ¿ä¸­ï¼Œä½¿ç”¨`Ctrl+Shift+F`è¿›è¡Œå…¨å±€æœç´¢ã€‚æœç´¢çš„ç›®æ ‡æ˜¯å‘ç°éšè—çš„URLè·¯å¾„ã€æ¥å£åœ°å€å’Œæ•æ„Ÿä¿¡æ¯ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_152.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_154.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_156.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_158.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_160.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_162.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_164.png)

ä»¥ä¸‹æ˜¯éœ€è¦é‡ç‚¹æœç´¢çš„å…³é”®å­—åˆ—è¡¨ï¼š
*   **URL/è·¯å¾„ç›¸å…³**ï¼š`src=`ã€`href=`ã€`path=`ã€`/api/`ã€`/admin/`ã€`url:`
*   **HTTPæ–¹æ³•ç›¸å…³**ï¼š`get(`ã€`post(`ã€`fetch(`ã€`ajax`ã€`.then(`
*   **æ•æ„Ÿä¿¡æ¯ç›¸å…³**ï¼š`password`ã€`key`ã€`secret`ã€`token`ã€`access`ã€`config`ã€`admin`
*   **APIç«¯ç‚¹ç›¸å…³**ï¼šå¸¸è§çš„RESTful APIè·¯å¾„æ¨¡å¼ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_166.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_168.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_170.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_172.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_174.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_176.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_178.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_180.png)

æœç´¢åˆ°ç›¸å…³ä»£ç åï¼Œéœ€è¦è·Ÿè¸ªä»£ç é€»è¾‘ï¼Œå°†å¯èƒ½ç»è¿‡æ‹¼æ¥æˆ–å˜é‡æ›¿æ¢çš„è·¯å¾„è¿˜åŸæˆå®Œæ•´çš„URLåœ°å€ï¼Œç„¶åå°è¯•è®¿é—®ï¼Œæµ‹è¯•æ˜¯å¦å­˜åœ¨æœªæˆæƒè®¿é—®ç­‰æ¼æ´ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_182.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_183.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_185.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_187.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_189.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_191.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_193.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_195.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_197.png)

### æ¨¡å¼äºŒï¼šåŠè‡ªåŠ¨å·¥å…·è¾…åŠ©æ¨¡å¼ï¼ˆä»¥Burp Suiteä¸ºä¾‹ï¼‰

![](img/4f33ebdc4faf5af1d4597311e1389f68_199.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_201.png)

åŠè‡ªåŠ¨æ¨¡å¼åˆ©ç”¨å·¥å…·æ’ä»¶æé«˜æ•ˆç‡ï¼Œå¹³è¡¡äº†é€Ÿåº¦ä¸ç²¾åº¦ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_203.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_205.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_207.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_209.png)

**Burp Suite è‡ªå¸¦åŠŸèƒ½**ï¼š
åœ¨`Target`æ ‡ç­¾é¡µï¼Œå³é”®ç‚¹å‡»ç›®æ ‡ç«™ç‚¹ï¼Œé€‰æ‹©`Engagement tools` -> `Find scripts`ã€‚Burpä¼šå°è¯•åˆ—å‡ºæ‰€æœ‰å‘ç°çš„JSæ–‡ä»¶ï¼Œä½†åŠŸèƒ½ç›¸å¯¹åŸºç¡€ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_211.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_213.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_215.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_217.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_219.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_221.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_223.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_225.png)

**æ¨èä½¿ç”¨çš„Burpæ’ä»¶**ï¼š
ä»¥ä¸‹æ˜¯å‡ ä¸ªèƒ½æå¤§æå‡JSåˆ†ææ•ˆç‡çš„æ’ä»¶ï¼š

![](img/4f33ebdc4faf5af1d4597311e1389f68_227.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_229.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_231.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_233.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_235.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_237.png)

1.  **`JS Link Finder` & `JS Miner` (Burpå®˜æ–¹å•†åº—)**ï¼šç”¨äºä»JSæ–‡ä»¶ä¸­è‡ªåŠ¨å‘ç°å’Œæå–é“¾æ¥ï¼ˆURLï¼‰ã€‚
2.  **`HaE` (ç¬¬ä¸‰æ–¹æ’ä»¶)**ï¼šåŸºäºè‡ªå®šä¹‰è§„åˆ™å¯¹æ•°æ®åŒ…è¿›è¡Œé«˜äº®æ ‡è®°ã€‚å¯ä»¥é…ç½®è§„åˆ™æ¥æ ‡è®°JSå“åº”ä¸­çš„é‚®ç®±ã€æ‰‹æœºå·ã€APIå¯†é’¥ã€è·¯å¾„ç­‰æ•æ„Ÿä¿¡æ¯ï¼Œè®©ä½ å¿«é€Ÿå®šä½å…³é”®æ•°æ®åŒ…ã€‚
    *   é…ç½®æ–‡ä»¶(`HaE.yml`)éœ€è¦å•ç‹¬ä¸‹è½½å¹¶æ›¿æ¢ï¼Œä»¥åŠ è½½ä¸°å¯Œçš„é¢„å®šä¹‰è§„åˆ™ã€‚
3.  **`Find Something` (ç¬¬ä¸‰æ–¹æ’ä»¶)**ï¼šä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ä¿¡æ¯æå–æ’ä»¶ï¼Œèƒ½è‡ªåŠ¨ä»JSæ–‡ä»¶ä¸­æå–URLã€å­åŸŸåã€æ•æ„Ÿå…³é”®å­—ï¼ˆå¦‚`password`ï¼‰ã€æ¥å£è·¯å¾„ç­‰ï¼Œå¹¶ä»¥æ¸…æ™°çš„æ–¹å¼å±•ç¤ºã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_239.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_241.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_243.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_245.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_247.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_249.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_251.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_253.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_254.png)

å®‰è£…å¹¶é…ç½®å¥½è¿™äº›æ’ä»¶åï¼Œä½ åªéœ€æ­£å¸¸æµè§ˆç›®æ ‡ç½‘ç«™ï¼ŒBurp Suiteå°±ä¼šè‡ªåŠ¨æ•è·æµé‡ï¼Œæ’ä»¶åˆ™ä¼šè‡ªåŠ¨åˆ†æJSå“åº”ï¼Œå¹¶å°†æ½œåœ¨çš„é£é™©ç‚¹é«˜äº®æˆ–æå–å‡ºæ¥ï¼Œå¤§å¤§å‡å°‘äº†äººå·¥æœç´¢çš„å·¥ä½œé‡ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_256.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_258.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_260.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_262.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_264.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_266.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_268.png)

### æ¨¡å¼ä¸‰ï¼šå…¨è‡ªåŠ¨å·¥å…·æ‰«ææ¨¡å¼

![](img/4f33ebdc4faf5af1d4597311e1389f68_270.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_272.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_274.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_276.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_278.png)

å…¨è‡ªåŠ¨æ¨¡å¼ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·æˆ–ä¸“ç”¨æ‰«æå™¨ï¼Œæ— éœ€äººå·¥å¹²é¢„å³å¯å®ŒæˆJSæ–‡ä»¶çš„åˆ†æå’Œä¿¡æ¯æå–ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_280.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_282.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_284.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_286.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_287.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_288.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_290.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_292.png)

ä»¥ä¸‹æ˜¯å‡ æ¬¾æ¨èçš„å…¨è‡ªåŠ¨å·¥å…·ï¼š

![](img/4f33ebdc4faf5af1d4597311e1389f68_294.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_296.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_298.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_300.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_301.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_302.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_304.png)

1.  **`JSFinder`**ï¼šä¸€æ¬¾è€ç‰Œçš„JSä¿¡æ¯æå–å·¥å…·ã€‚
    *   å‘½ä»¤ç¤ºä¾‹ï¼š`python JSFinder.py -u http://example.com`
    *   å®ƒä¼šä»ç›®æ ‡ç½‘é¡µçš„JSä¸­æå–URLã€å­åŸŸåç­‰ä¿¡æ¯ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_306.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_307.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_309.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_311.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_313.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_315.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_317.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_319.png)

2.  **`URLFinder` (JSFinderçš„å¢å¼ºç‰ˆ)**ï¼šåŠŸèƒ½æ›´å¼ºå¤§ï¼Œæ¨èä½¿ç”¨ã€‚å®ƒæä¾›äº†Windowså¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ— éœ€Pythonç¯å¢ƒã€‚
    *   å‘½ä»¤ç¤ºä¾‹ï¼š`URLFinder.exe -u http://example.com -s all`
    *   å®ƒèƒ½æ·±åº¦åˆ†æJSï¼Œæå–URLã€æ•æ„Ÿä¿¡æ¯ï¼ˆé‚®ç®±ã€æ‰‹æœºå·ï¼‰ã€æ¥å£è·¯å¾„ï¼Œå¹¶å°è¯•è®¿é—®ä»¥éªŒè¯æœ‰æ•ˆæ€§ï¼Œç”Ÿæˆè¯¦ç»†æŠ¥å‘Šã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_321.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_323.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_325.png)

3.  **`FUFF` (Web Fuzzer)**ï¼šè¿™ä¸æ˜¯ä¸€ä¸ªJSåˆ†æå™¨ï¼Œè€Œæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„æ¨¡ç³Šæµ‹è¯•å·¥å…·ã€‚åœ¨JSä¿¡æ¯æ”¶é›†ä¸­ï¼Œå®ƒç”¨äº**çˆ†ç ´æ½œåœ¨çš„ã€æœªåœ¨é¡µé¢ä¸­æ˜¾å¼å¼•ç”¨çš„JSæ–‡ä»¶è·¯å¾„**ã€‚
    *   **åŸç†**ï¼šé¡µé¢åŠ è½½çš„JSæ–‡ä»¶æ˜¯æœ‰é™çš„ã€‚é€šè¿‡ä½¿ç”¨åºå¤§çš„JSæ–‡ä»¶åå­—å…¸è¿›è¡Œçˆ†ç ´ï¼Œå¯ä»¥å‘ç°æ›´å¤šéšè—çš„JSæ–‡ä»¶ï¼Œä»è€Œæ‰©å¤§ä¿¡æ¯æ”¶é›†èŒƒå›´ã€‚
    *   **å‘½ä»¤ç¤ºä¾‹**ï¼š`ffuf -w js_filenames.txt -u http://example.com/FUZZ -t 200`
        *   `-w`ï¼šæŒ‡å®šå­—å…¸æ–‡ä»¶ï¼ˆå¦‚åŒ…å«`admin.js`ã€`config.js`ç­‰å¸¸è§JSæ–‡ä»¶åçš„å­—å…¸ï¼‰ã€‚
        *   `-u`ï¼šç›®æ ‡URLï¼Œ`FUZZ`æ˜¯å ä½ç¬¦ï¼Œä¼šè¢«å­—å…¸ä¸­çš„è¯æ›¿æ¢ã€‚
        *   `-t`ï¼šè®¾ç½®çº¿ç¨‹æ•°ã€‚
    *   å°†çˆ†ç ´å¾—åˆ°çš„æœ‰æ•ˆJSæ–‡ä»¶åˆ—è¡¨ï¼Œå†äº¤ç»™`URLFinder`ç­‰å·¥å…·è¿›è¡Œæ·±åº¦åˆ†æã€‚

4.  **`packj` (åˆå `packj-audit`)**ï¼šè¿™æ˜¯ä¸€æ¬¾ä¸“é—¨é’ˆå¯¹ä½¿ç”¨`Webpack`ç­‰æ‰“åŒ…å·¥å…·çš„JSåº”ç”¨è¿›è¡Œå®‰å…¨æ£€æµ‹çš„å·¥å…·ã€‚è®¸å¤šç°ä»£JSæ¡†æ¶ä¼šä½¿ç”¨Webpackæ‰“åŒ…ä»£ç ã€‚
    *   **å‘½ä»¤ç¤ºä¾‹**ï¼š`python3 main.py audit --url http://example.com`
    *   å®ƒä¼šè‡ªåŠ¨è¯†åˆ«Webpackæ‰“åŒ…æ–‡ä»¶ï¼Œä»ä¸­æå–å¹¶åˆ†ææºä»£ç ï¼Œæ£€æµ‹æ•æ„Ÿä¿¡æ¯æ³„éœ²ã€ä¾èµ–æ¼æ´ç­‰é—®é¢˜ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_327.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_329.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_331.png)

## å®æˆ˜æ€è·¯ä¸æ€»ç»“ ğŸ“

![](img/4f33ebdc4faf5af1d4597311e1389f68_333.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_335.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_337.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_339.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_341.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_343.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_345.png)

æœ¬èŠ‚è¯¾æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†é’ˆå¯¹å‰ç«¯JavaScriptåº”ç”¨çš„æ¸—é€æµ‹è¯•ä¿¡æ¯æ”¶é›†æ–¹æ³•ã€‚æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹æ ¸å¿ƒæ€è·¯å’Œæµç¨‹ï¼š

![](img/4f33ebdc4faf5af1d4597311e1389f68_347.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_349.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_351.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_353.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_355.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_357.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_359.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_361.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_362.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_364.png)

1.  **è¯†åˆ«**ï¼šé¦–å…ˆä½¿ç”¨æ’ä»¶æˆ–è§‚å¯Ÿæ³•ï¼Œåˆ¤æ–­ç›®æ ‡æ˜¯å¦ä¸ºJSå¯†é›†å‹åº”ç”¨ã€‚
2.  **æå–å·²çŸ¥ä¿¡æ¯**ï¼šåˆ©ç”¨æ‰‹å·¥æœç´¢æˆ–`URLFinder`ã€`JSFinder`ã€Burpæ’ä»¶ç­‰å·¥å…·ï¼Œä»å½“å‰é¡µé¢åŠ è½½çš„JSæ–‡ä»¶ä¸­æå–URLã€æ¥å£ã€æ•æ„Ÿæ•°æ®ã€‚
3.  **æ‰©å¤§æ”»å‡»é¢**ï¼šä½¿ç”¨`FUFF`ç­‰æ¨¡ç³Šæµ‹è¯•å·¥å…·ï¼Œä»¥å­—å…¸çˆ†ç ´çš„æ–¹å¼å¯»æ‰¾æœªç›´æ¥å¼•ç”¨çš„éšè—JSæ–‡ä»¶ã€‚
4.  **æ·±åº¦åˆ†æ**ï¼šå°†æ–°å‘ç°çš„JSæ–‡ä»¶å†æ¬¡é€å…¥æå–å·¥å…·è¿›è¡Œåˆ†æï¼Œå½¢æˆå¾ªç¯ï¼Œä¸æ–­å‘ç°æ–°ä¿¡æ¯ã€‚
5.  **ä¸“é¡¹æ£€æµ‹**ï¼šå¯¹äºä½¿ç”¨Webpackæ‰“åŒ…çš„åº”ç”¨ï¼Œä½¿ç”¨`packj`è¿›è¡Œä¸“é¡¹å®¡è®¡ã€‚
6.  **éªŒè¯ä¸åˆ©ç”¨**ï¼šå¯¹æ‰€æœ‰æå–å‡ºçš„URLè·¯å¾„ã€APIæ¥å£è¿›è¡Œè®¿é—®æµ‹è¯•ï¼Œå¯»æ‰¾æœªæˆæƒè®¿é—®ã€ä¿¡æ¯æ³„éœ²ç­‰æ¼æ´ï¼›åˆ†ææå–å‡ºçš„æ•æ„Ÿä¿¡æ¯ï¼ˆå¦‚å¯†é’¥ã€é€»è¾‘ï¼‰çš„åˆ©ç”¨å¯èƒ½æ€§ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_366.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_368.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_370.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_372.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_374.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_375.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_377.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_379.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_381.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_383.png)

**ä¸ºä»€ä¹ˆè¦è¿›è¡ŒJSä¿¡æ¯æ”¶é›†ï¼ˆæ‰“ç‚¹ï¼‰ï¼Ÿ**
*   **å‘ç°æ›´å¤šå…¥å£ç‚¹**ï¼šæ‰¾åˆ°åå°è·¯å¾„ã€APIæ¥å£ï¼Œæµ‹è¯•æœªæˆæƒè®¿é—®ã€‚
*   **æºç æ³„éœ²åˆ†æ**ï¼šç›´æ¥åˆ†æä¸šåŠ¡é€»è¾‘ã€åŠ å¯†ç®—æ³•ã€éªŒè¯æœºåˆ¶ï¼Œä¸ºç»•è¿‡é˜²æŠ¤æä¾›æ€è·¯ã€‚
*   **æ•æ„Ÿä¿¡æ¯æ³„éœ²**ï¼šåœ¨JSä»£ç ä¸­å¯èƒ½ç›´æ¥æ‰¾åˆ°APIå¯†é’¥ã€æ•°æ®åº“é…ç½®ã€ç¡¬ç¼–ç è´¦å·å¯†ç ç­‰ã€‚
*   **ç†è§£åº”ç”¨æ¶æ„**ï¼šæ¸…æ™°äº†è§£æ•°æ®æµå’ŒåŠŸèƒ½æ¨¡å—ï¼ŒæŒ‡å¯¼åç»­æ›´ç²¾å‡†çš„æ¸—é€æµ‹è¯•ã€‚

![](img/4f33ebdc4faf5af1d4597311e1389f68_385.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_387.png)

![](img/4f33ebdc4faf5af1d4597311e1389f68_389.png)

é€šè¿‡æœ¬èŠ‚è¯¾çš„å­¦ä¹ ï¼Œä½ åº”è¯¥æŒæ¡äº†ä»å‰ç«¯JSè§’åº¦å¯¹Webåº”ç”¨è¿›è¡Œä¿¡æ¯æ”¶é›†çš„å®Œæ•´æ–¹æ³•è®ºå’Œå·¥å…·é“¾ã€‚è¿™å°†ä½¿ä½ åœ¨é¢å¯¹æ—¥ç›Šæµè¡Œçš„å‰åç«¯åˆ†ç¦»æ¶æ„åº”ç”¨æ—¶ï¼Œå…·å¤‡æ›´å¼ºçš„æ¸—é€æµ‹è¯•èƒ½åŠ›ã€‚