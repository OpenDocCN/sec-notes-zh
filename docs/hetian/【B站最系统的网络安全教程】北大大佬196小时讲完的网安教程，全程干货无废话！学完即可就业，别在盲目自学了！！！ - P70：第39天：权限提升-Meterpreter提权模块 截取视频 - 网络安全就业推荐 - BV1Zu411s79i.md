# 【B站最系统的网络安全教程】北大大佬196小时讲完的网安教程，全程干货无废话！学完即可就业，别在盲目自学了！！！ - P70：第39天：权限提升-Meterpreter提权模块 截取视频 - 网络安全就业推荐 - BV1Zu411s79i

然后能能听到我声音的，以及画面能够看得清楚的，在讨论区扣个一，请两位同学吗，其他同学呢在的话呃，声音没有问题的话，再讨论去扣个一啊，大家晚上又到了，两天好不好，一天1度的学习时间，啊应该没有什么问题啊。

好吧好，没问题的话，那么我们正式开始我们今天的一个课程内容，今天的话主要给大家介绍的是msf，以及cs下面的呃一些模块的一个使用，然后它的一个使用的话，主要的话就是一些集权模块啊。

上节课的话给大家介绍就是windows系统下面的一些，提前的一个方法及技巧对吧，以及呃比较详细的一些操作是吧，而在本节课的话，会就是说会有涉及到上面一节课的一个内容，主要就是在msf这一块。

就说在上上面我们所讲的上一节课所讲到的，windows下面的一个，windows系统下面的一些提前的一些漏洞，包括内核漏洞，还有服务漏洞的话，在msf下面还有对应的这样子的一个呃。

能够可以去直接去利用的这样子的一些模块，所以的话在本节课会一直给大家，就是说呃实际的操作演示一下，然后呃本节课的主要内容就是这两块，第一块的话就是啊mask的一些提取模块的使用。

以及呃就是说给大家做一个介绍，第二个的话就是cop rike，就是cs这个甚至说是框架的一些提全模块，以及它相应的一些啊，就是说我们如何在cs上面去进行相应的一些，提前的一个操作啊，大家都知道。

就是说在前面也已经给大家讲过了对吧，就是msf跟cs的话，这两个渗透测试的一个提取，不渗透测试的一个框架是吧，然后我们大多数的一个时候的话，就说在得到一个shell之后，反弹shell的话。

我们就是会去尝试去把我们那个shell，反弹到这样子的两个m，两个深度测试的一个框架当中对吧，因为它的这个框架的话，我们再去使用的时候，它有很多的已经集成的，已经进程已经写好的。

这样子的一些功能模块是吧，我们可以能够去直接的去进行相应的一个，渗透的一个测试，就说在测试的一个过程当中的话，我们能够去更方便的去进行一个啊使用，然后第第一部分的话就是给大家介绍一下啊。

max sp的一个提全模块，首先第一个就是我们常用的，也是常见的这样子的一个mac prater的一个提取，在这边的话magic的一个自动提取的一个命令。

我们通常的话会去使用这样子的一个get system，对这个的话大家应该有去用过吧，就前面在呃前面讲max的时候有用过吗。



![](img/1c282b348d9e2063f3ceead4e0d8de6d_1.png)

有用过的在讨论去qq。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_3.png)

没用过，嗯没有用过吗，啊没用过的话。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_5.png)

那么我们在本节课的话会给大家介绍好吧，呃这边的话我的环境稍等一下。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_7.png)

呃等会三张吧，我们先来讲一下，而在这边的话嗯我会给大家就是说呃，我们先来看一下这边的这两张图吧，首先第一个第一个的这张截图的话，就是我这边已经得到了一个筛选绘画，然后的话我得到了这个绘画的话。

我们可以看一下，我这边的话是一个普通的一个m n g y的，这样子的一个用户，对吧啊，在这在这个时候的话，我们就说我们是一个普通用户，我们想要去做做一个提前的话。

也就是说要把我当前的一个用户的一个权限作，为，就是提升了我们的一个admin，或者说system的这样的一个权限对吧，然后在msf的这样子的一个matt creator下面的话。

有这样子的一个自动提取命令，就这一个get system，然后这个gc什么的话，它我们可以直接执行之后，然后的话我们就能够去得到这样子的一个，生存的权限，当然的话这是第一种情况，而且就说再去进行去啊。

使用这个命令的一个前提条件，大家要注意，就是说你的得到这样子的一个用户的话，它是啊在一个这样子的一个管理员组，当然的话你你的这个用户，你在管理员组里面的话，也不一定能够直接的提前成功。

这个话就是我们下面的这个例子，我这边的话同样的是得到了这样的一个绘画设，计，这样子的一个筛选绘画的，然后的话我的一个用户的话，同样是一个普通用户是吧，这样子的一个win 7的一个用户，然后我在这边的话。

通过gala system来去进行一个提前的话，你会发现，而且就说这样子的一个报错的话，也是我们通常会去看到的对吧，就说你要直接啊，要能够或者说大多数情况下的话，我们可能直接get system的话。

是得不到这样子的一个system的权限的，所以的话你这样执行之后的话，他会报这样子的一个错误，就是说你的这个操作的话，它是失败的，也就是他的这个提群的一个操作的话，是啊无法去进行一个提前的。

然后呃针对这样子的第二种情况，第一种的话我们是能够直接的去直接gc什么，然后得到这样的一个system的权限对吧，这个的话，那么我们就等于就是说我们的一个提前的一，个操作就已经成功了是吧。

那么在碰到下面的这种呢，我们怎么去进行一个解操作呢对吧，关于上面的这一种好吧，关于下面的这种我们直接去执行啊，提取命令操作失败对吧，我们可以通过这样子的啊一个方法，在这边的话会介绍这样子的两个模块。

就是这样的一个by pass uac，也就是绕过uac的一个方法，在这边的话呃，就大家啊能大概跟有了解过uc吗，这个，这个名这个就是术语，大家有去了解过，或者说有去碰到过uac的，这样子的一个这种情况。

不知道，很了解是吧，好啊，在这边的话我给大家做一个大概的一个介绍，就是在预习内容当中的话，已经呃给了这样子的一个印记，有点卡，网络有点慢，而在这边的话，大家可以看一下那个预习内容啊。

预习内容这边的这个框架齐全的，这个就是，呃这个用户账户用户账户控制的一个原理，就是这边这边这个链接，这个链接的话是啊微软的一个官方的一个文档，然后这边的话它你详细的介绍的，就是说用户账户控制。

它是一个什么样的一个东西，也就是说我们这边所提到的这个uvc，其实就是这边的一个用户账户控制，然后这个uac的话，它是就是说就是微软的这样子的一个组件，它的一个作用就是来缓解，缓解ae软件的一个影响。

也就是说它是一个就是说呃安全的一个，就是说一种安全策略对吧，然后的话这边的这个uvc的话呃，关于他的一个详细的这种东西的话，大家只要了解一下就ok了好吧，因为这种东西的话。

这边的话大家可以看一下这一篇令集，然后更多的这些东西的话呃我不会去多讲，然后的话主要的话就是带大家了解一下，这样子的一个东西是什么，就其实uac这个东西的话，我们通常我们经常也会去碰到对吧。

就是这个啊user account control，也就是用户账户控制啊，其实这个u a c的话就是像这样子，我们就是实际的一个使用的话，就会碰到这样子的一个弹簧是吧，就这一个user control。

可能大家看英文的话不算不算很很很清楚。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_9.png)

我们来看一下，这边瞧这个，8g怎么卡死了。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_11.png)

我这边虚拟机卡死了，有点卡啊，呃这边的话我就在我自己电脑上面那个吧，但是在这边的话，大家就是听我说，然后那个吧，就比如我们在这边对吧，我们输入一个方法，就你输入用完之后的话，不是会有这样的一个运行框吗。

对吧，我们比如说打开一个注册表的一个编辑器对吧，就这个ig edit我们直接点确定，点确定之后的话呃，不知道大家能不能看得到，就是会有一个这样子的一个，截不了图啊，就是啊大家是在自己电脑上面去操作吧。

就是会有这样子的一个注册表编辑器的，这样子的一个用户账户控制的一个弹框对吧，好的话你需要点一个确定，或者说呃是点一个四对吧，好点一个四周的话，你就进入到了这样子的一个，你就你就能够去进入到这样子的一个。

注册表的一个编辑器对吧，然后还有的话就是说我们的一个sam b，比如说我当前的是一个普通用户对吧，我要以管理员的一个身份去运行，这样子的一个用户，是这样子的一个cmd的一个，命令行的一个处理程序啊。

那么他同样的也会谈这样的一个用户账户控制，他说你要允许此应用，对你的设备进行更改了对吧。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_13.png)

然后的话我们点四的话，我们就能够去得到这样子的一个管理员的一个，命令提示符对吧，也就是我当前的这样子的一个，当前这样子的一个权限的话，就是一个管理员的权限对吧，那么中间的这样子的一个要我们去。



![](img/1c282b348d9e2063f3ceead4e0d8de6d_15.png)

就说有这样子的一个弹簧，要让我们去选择，yes或者no的这样子的一个东西啊，这个东西的话就是我们的一个uc，然后这个uac的话就是，我们靠前面的这样的一个操作对吧。

就以我们的这样子的一个sam d为例对吧，我通过这样子的一个，就是说以管理员的权限去执行对吧。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_17.png)

然后的话它会弹这样子一个v a c，我只要验证通过，或者说我只要通过了他的这样子的一个，uv c的一个策略的一个认证，那么我就能够去得到这样的一个，管理员的权限是吧，好的话，同理的话。

我们在这边我们想要去进行一个提权对吧。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_19.png)

然后在这边的话。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_21.png)

就我们就可以利用他的这样子的uv c的，这样子的一个这这一个组件，我们只要能够去by pass，也就是能够去绕过他的这个u a c的，这样子的一个啊这样子的一个策略。

那么我就能够去啊一个普通用户的一个权限，去得到一个管理员的权限对吧，好在这边的话就是说在msf当中的话，有集成了这样子的一些模块，就说大家可以直接在msf当中去设计一下，这样的一个by pass c。

然后的话它我们在这边能够去看到，有呃十多个是这样子的，一个by pass uac的一个模块，这边虚拟机还没起来啊。



![](img/1c282b348d9e2063f3ceead4e0d8de6d_23.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_24.png)

有点卡，我这，然后这边的话先让它起着吧，我们先把内容先介绍一遍。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_26.png)

介绍一遍，然后的话在后面的话再操作给大家好吧，再给大家再给大家操作看，然而这边的话就是它的这个模块的一个十啊啊，这边的话先不心不虚记啊，先不细说，然后等会在操作的时候的话，再给大家一个去介绍，好吧好。

我们先来看一下它的一个效果，就是我们通过这样子的一个模块对吧，通过这一个bpc的一个模块，我们执行之后，执行之后的话，在这边我们可以看一下，就能够去得到这样的一个筛选，呃。

前面这边的话我们是基于一个筛选一，然而在这边的话大家要注意啊，就是我们的这样子的一些集权的这一些模块，就是说我们要提前的一个前提条件，就是有这样子的一个绘画，也就是有一个基本的一个。

有一个基本的一个用户权限对吧，所以的话我们再去使用这样子的一个，提取模块的话，同样的也是需要有一个筛选，也就是我们前面的话，已经得到了这个机器的一个shell是吧，有一个普通的这样的一个用户权限。

然后的话我们在基于这个普通用户权限，以及具体的来说的话，就是这样子的这个三选一对吧，好的话，我们在这边需要通过set session来去指定，我们呃得得到的这样子的一个，普通用户的这个筛选的一个刻画。

然后的话再去执行这一个模块，然后这个模块的话，它就会以当前的这个筛选绘画的一个权限，来去进行一个by pass的一个uc的一个操作，然后的话呃就是fpx成功之后的话，那么他就能够去进行一个提前。

提前之后的话就能够去得到这样子的一个筛选，然后得到这个筛选，我们可以看一下，在这边的话有筛选二以及筛选三对吧，我们在这边的话以这个筛选三为例，我们直接进入到这个筛选三啊，其实在这边的话呃。

等会操作的时候再说吧，就是我们在这边进入到这个筛选三之后的话，我们执行这个get system，我们就能够去得到这样的一个system的权限，就是说原本的话我们的这个筛选一对吧。

我们直接get system的话，它是无法去进行一个提前的，就提取不了的，然后在这边的话，我们通过这样子的一个by paua c，然后的话得到了这样子的，就是说当前的这样子的一个绘画。

它其实是有了一个管理的一个权限，然后的话我们再通过这个get system，基于他的这个管理员的权限来去进来，得到它的一个system的权限，我们可以在这边看到是吧。



![](img/1c282b348d9e2063f3ceead4e0d8de6d_28.png)

然后第二的话就是呃另外的这样子的一个模块，它同样的也是啊，它的一个原理也是一个by pass的ac啊，然后它的一个使用跟前面也是啊类似的。



![](img/1c282b348d9e2063f3ceead4e0d8de6d_30.png)

完了。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_32.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_33.png)

虚拟机还原不了了。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_35.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_36.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_37.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_38.png)

呃这边先让他还原一下，好我们先啊，操作的话等等我这边机器好了，再那个我们先介绍内容。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_40.png)

前面呃刚刚的话给大家介绍的，就是这一个by pass ac的一个模块，这个的话跟前面他也是一样的，就是它的一个操作的话也是一样的，然后呃下面的话就是这一个呃，就在上节课的话，我给大家有介绍。

就是说这样子的一个windows平台的一个，提前漏洞的一个集合对吧，然后的话我们可以通过他的这边的这个呃，msf当中的这个local exploit suggest，这样子的一个模块。

我们可以去基于已经得到这个筛选，在这方再选，一是基于已经已经得到这个绘画，然后的话我们执行这个模块之后的话，他就会去做相应的一个呃提群漏洞的一个检索，他会去在当前的一个目标机上面，去进行一个检索。

然后的话去判断啊，我我的一个目标机器，能否去进行一个相应的一个提取，然后他在这边他会去列出，就是说可能存在着这样子的一些提权漏洞的，一些利用的一个模块好，我们在这边的话，可以去一一的去尝试使用这些模块。

来去进行一个提前。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_42.png)

然后在这边的话集权的话呃，我们在这边的话是以就是说我们执行这个呃，执行了这样子的一个提前的一个，信息检索的这样子的一个模块，之后的话，他这个在这边又给出了这样子的一些啊。

可能的这样子的一个提前的一些模块对吧，以及对应的这样子的一个啊漏洞，然后在这边的话，我们尝试使用其中的一个提权模块，然后的话来去进行一个提前，而具体的一个效果的话就是我已经知道了对吧，他这边有给个建议。

我可以去使用哪些提供的一个模块，那么我直接去柚子它，然后的话去进行一个使用即可对吧，然后这边的话最后的一个效果它就像这样子，就我执行之后的话，执行之后的话，在这边呃，他会去得到这样一个筛选四，对吧好。

这个筛选四的话，我们在这边看的话，就说这边information看到的话，它是一个普通的一个用户，但其实的话我们筛选进入到这个筛选四的话，我们通过get system。

就能够去得到这样子的一个system的权限。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_44.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_45.png)

完了我这把机，空了吧，还是，有快照吗，我我我我忘了看一下吧，刚刚都刚刚都是没问题的。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_47.png)

七八个。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_49.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_50.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_51.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_52.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_53.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_54.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_55.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_56.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_57.png)

不行。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_59.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_60.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_61.png)

我这边还还原到初始的，这个的话我的环境没了。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_63.png)

应该是。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_65.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_66.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_67.png)

啊。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_69.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_70.png)

行吧就这样吧。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_72.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_73.png)

呃这边的话不好意思啊，这边附近突然突然崩了，然后呃这边的话可能就是，会有有一两个操作可能会实现不了，就是演示的话，好在这边的话。



![](img/1c282b348d9e2063f3ceead4e0d8de6d_75.png)

我这句话也提前，就是生成了这样子的一个可执行程序啊。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_77.png)

然后就是模拟，我已经得到了这样的一个。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_79.png)

普通用户的一个绘画对吧，然后我这边的话得到了这个session 20，我们get的id之后的话，得到的是这样子的一个普通用户，win 7的一个普通用户是吧，然后我这边的话。

我尝试使用这样子的get system来去进行一个提前，然后在这边的话你会发现的话，这边的话是无法去直接踢群的，然后其实我们可以shell到学到它它的这个绘画。

我们可以来查看一下这个win 7的一个用户，它其实也是一个管理管理员组的一个用户，但是他同样的就是说无法去使用这样的该死system，来进行一个提权，所以针对这样子的一种情况的话。

我们可以尝试使用这样子的一个pass uac。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_81.png)

就是这个。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_83.png)

然后我这边的话直接柚子的一个模块，调子之后的话，在这边要去配置的一个选项的话，就这三个就是这个筛选，然后的话log host还有lokpot对吧，好，我这边的话要去设置一个筛选，这边的一个筛选的话。

就是选择我这边前面得到了这一个，普通用户的这个筛选对吧，因为我要去进行一个集群的话，我是基于这个筛选绘画的，也就是这边的这个20，我设置这一个筛选为2s，然后这边的一个house的破解的话。

我就默认那我这边的话是我当前的这个，看你机器算是这个，its sport，执行之后的话，它就会有这样子的一个by pass ac的一个操作，然后在这边他就会返回这一个筛选21。

然后得到这样子的一个match cut，好在咱这边的话，我们可以get这id来查看一下当前的一个用户，他其实还是这样子的一个win 7啊对吧，然后在这边的话。

我们得到了这样子的一个matt matter，我们通过这个白板子ac得到了，我们还是要去执行那样子的gsm，这个提取的一个命令，我们才能够去得到这样子的一个system的权限，还可。

所以的话就是说我们在这边对吧，原本的话我们直接去进行一个gey什么的话，提前不了对吧，那么我们针对这样子的一种情况的话，在这里我们可以使用这样的一个by pass系的，一个模块是吧，好的话。

利用他的这个模块来得到了这样子的一个筛选，一，然后在这个筛选s一的话，其实我这边这个筛选s一的话，它其实已经有得到了相应的一个管理员的权限，好的话，我们就能够去进行一个啊执行这个get system。

来去得到一个system的权限，就其实如果说你这边的话。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_85.png)

你这边呃这边看。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_87.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_88.png)

就我这边我换一个用户。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_90.png)

对大家其实也可以自己去尝试，我这边换一个administer的的一个用户对吧。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_92.png)

然后的话我在这边的话直接，直接执行这个执行之后的话，我这边的话会得到另外一个新的一个筛选需要。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_94.png)

而我这边的话，你你这个新得到这个筛选二二十二五，我们可以看一下这边我这边的一个筛选，22的话是一个administer的一个用户对吧，而我前面得的话，其实只是一个win 7的一个普通用户。

虽然它是一个管理员组，但是他同样能得到不了cs的一个权限，然后我这边的话我得到，如果说我得到的是一个这样的，administer的一个用户对吧，然后我在这边的话，我直接get system。

我就能够直接的去得到这样的一个市场，这个，这是这就是呃，前面这就是前面跟这边的一个区别，就是我们前面的话，因为我们其实通常的话得到的就是一个，普通用户嘛对吧，当然的话也可也存在这样的一个情况。

就是你得了就直接是一个administer，选择的一个用户是吧，那么你得到这个adminutes，选择了一个用户权限的话，你就可以直接去直接执行这个galm来，去得到一个system的权限，这是。



![](img/1c282b348d9e2063f3ceead4e0d8de6d_96.png)

这是第一个的一个match rat的一个提升模块，然后第二个的话就是这个白fs学习的一个，injection。



![](img/1c282b348d9e2063f3ceead4e0d8de6d_98.png)

然后这个的话跟前面的一个操作一样的，我这边的话就直接，这边的话同样都是筛选一个筛选对吧，然后我同样的用的前面的这个筛选20，也就是这个普通用户的这个筛选，这个筛选20。

也就是这个win 7的这个普通用户的一个筛选，然后的话我这边的话我直接exploit，然后直接exploit的话，在这边的话我就得到了这样子的一个筛选，s3 对吧。

也就是得到这样子的一个metvt的一个会员，然后当前get ui d直接得到了他的一个system的权限，最后的话就是呃这个wifc的一个，模块的一个使用，然后在这边的话要注意啊，就是呃我这边的话。

因为是其实前面的话已经有操作了，然后在这边的话，大家呃如果大家自己去进行一个操作的话，会有这样的一个问题，就是会有这样的一些报错什么的。



![](img/1c282b348d9e2063f3ceead4e0d8de6d_100.png)

然后呃其实关于这些报错的话，我已经讲了挺多了呀，就是就其实你去发现这些问题啊，你发的发现这些问题的话，他不是会有这种报错的信息吗，像比如说在这边的话，我这边的话就是好，大家去用这个模块会有这样一个问题。

因为我当前的话这个是一个残留式的一个机器。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_102.png)

然后默认的话这边的一个target。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_104.png)

它其实是一个x86 的，我这边的话是我自己后面改的，我这边设置target为，然后我，查看一下这边的话是一个windows，然后如果说在现在时候我再去执行的话，他就会报报错，就是说呃你在这边你设置好了。

这种设置好的筛选以及locos那个put的话，你还要去注意，要去注意这样子的一个target，也就是针对不同的啊，操作系统的这样子的一个架构，我们就说我们用msf去进行一个应用的时候。

它的一个呃它是不一样的，它最后的一个结果就是你要去做一个对应，就像我们使用这个payload是吧，你在参与式的一个平台的话，那么你就去使用参数式的一个pyroad，那么这个参与式平台对吧。

这种平台这种信息我们怎么获取呢，就是前面的一个信息收集嘛对吧，前面的一个信息收集，我要我可以去查找到对应的这个系统，它它的一个系统的架构对吧，那么我知道他是一个64位的。

那么我就可以用64位的配偶的去生成，64位的pro的去打对吧，不是32位的，那么我就生成32位的，然后其实在这边的话，像呃在msf这种工具里面，你去去检查这种报错的话，他其实这边的大家只要看到这种。

就是红色的对吧，然后一个井号这种就是报错嘛，然后你只你你就去关注这一行就可以了，然后在这的话它就是报错了，就是说你的这个攻击停止了对吧，因为这边的话有错出错。

就是这边的一个better configure，也就是你的一个配置的话是出错了，配置出错的点在哪啊，就是这里吧，这个x86 ti selected for from x6 式的一个system。



![](img/1c282b348d9e2063f3ceead4e0d8de6d_106.png)

然后关于这种大家都清楚对吧，你翻译一下吧对吧，就是为x60 系统选择了x6 ，x86 的一个目标，那么我们翻译一下我们就知道了嘛对吧。



![](img/1c282b348d9e2063f3ceead4e0d8de6d_108.png)

就是我这边的一个，我是本来是一个参照式的一个系统，但是我这边的选择了一个target的话，是一个x86 的对吧，所以的话我们在这的话只需要设置一下，它写成一，这边他就是一个正确的一个配置。

然后我直接exploit就能够去进行一个提前。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_110.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_111.png)

就是啊这个，呃然后的话就是这样子的一个windows平台的一个，提前漏洞的一个集合，上节课的话，因为内容的话比较多啊，没有去给大家操作演示，所以的话呃关于msf相关的这些操作的话，我都看到了。

放到了这一节课，好在这边的话我们直接柚子。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_113.png)

柚子这个模块。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_115.png)

我这边的话我就不守了。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_117.png)

手枪了，我直接复制粘贴啊，然后我直接柚子这一个local exploit，suggest的一个模块，然后在这的话，你只需要去设置一个这样子的一个sd，我这边设置一个筛选的话，就设置为筛选20对吧。

就是我们前面得到这个普通用户的这个筛选，奥特曼我们，然后的话这边的话就其实就已经配置完成了呀，对吧，而我们只需要exploit执行，expose，执行之后的话，它就会去运行它的。

就是说他的这个模块里面的话，他已经有写好了相应的一些检测的一个脚本啊，这些脚本的话他就会去紧锁啊，这个筛选20，它可以这个筛选20的这个绘画的一个权限，去检索你系统当中可能存在的啊。

能够去进行一个提前的一些logo对吧，然后的话给出对应的msf当中，可以去直接去使用的这样子的一些模块，然后这边的话呃稍微等待了一会儿时间对吧，它的一个速度还是比较快的。

然后在这边的话我们呃执行之后的话，他在这边给出了这样子的一些啊，这样子的12344个对吧，四个可以可能存在漏洞的一个模块，也就是我们能够去进行一个，漏洞利用的一个模块。

然后在这的话我们呃就以第一个为例吧，好我在这里的话大家要注意啊，就是要注意的一个东西，就是说他在这边所提供的这样子的一些模块，你可以去尝试使用，但是的话你使用它这个模块的话。

不一定就不一定能够去进行一个提前成功，大家要就是知道这一点，就说他的这样子的一个呃检测的话，他是这样子的一个就是参考的话，就只是作为一个参考，你可以去尝试，但是不一定能成了。

呃呃在这里的话我们可以看到我这边的话呃，他这个模块同样的也是只需要去设置，我们的这个筛选对吧，就是我这边的一个2s普通用户的这个绘画，好，在这一块我们就得到了这样子的一个。

matt peter的一个筛选，25，对吧，然后呃我们可以看一下当前的这样子的一个呃，用户是win 7对吧，然后我们可以尝试用get system来去进行一个集群，在这边的话。

我们同样的通过这边的这一个模块，得到了这样子的一个系统的一个权限，这边的话运气比较好对吧，直接第一个就成了，然后我们也同样的可以去尝试呃，其他的这边的话，你比如说你这一个尾音。

就其实提前的话真的比较看运气啊，就是，好在这边同样的要去注意啊，就是如果说你这边的一个target target，有这样子的一些选项对吧，你可以通过show targets，来去查看一下。

就是这边有哪些tag，然后在这边的话只有一个的话，那就说明啊，我当前的这样子的一个就是提前的这个模块，它只针对就是win 7的这样子的一个sp，零sp的这样子的一个系统，是如果说还有其他的一些系统的话。

你要知道目标机器，正好就是说属于他的一个target等范围之内的话，那么你就去选择对应的这样子的一个target，这个它嗯，执行啊，这个也是没有问题的是吧，也直接得到这样的一个绘画。

直接就得到了他的一个新手的一个权限，呃还有其他的两个的话，我就不一的去尝试点，就可能成功，也可能就是失败了，好这边的话试的这两个是都是成功的，没问题的。



![](img/1c282b348d9e2063f3ceead4e0d8de6d_119.png)

然后的话就是这个这个windows下面的一个，提权漏洞的一个集合利用的这个模块，就这一个模块的话，它呃大家在msf当中，如果说你反正需要放msf当中的话啊，正好是windows机器的话，你可以去尝试。

因为它是自动的去检索嘛，就呃就省去了我们去手动的去一步步的信息，收集了，他找对应的这种呃啊e x p去进行一个打是吧，他在这的话直接给了静音，然后的话可就是你直接去用的话。

你就很有可能就能够直接去打成功。

![](img/1c282b348d9e2063f3ceead4e0d8de6d_121.png)

好在这边的话其实我们可以看一下session，就后面的这几个对吧，2526，这些都是通过提前的一个模块所得到的，这样的一个system的权限对吧，然后这边的这一些筛选的话，它都是基于这边的一个。

它都是基于这边的一个20对吧，就是我这边的一个win 7的这个普通用户，就这个普通用户它原本直接get system的话，它是无法去得到一个system system的那个权限的一个。



![](img/1c282b348d9e2063f3ceead4e0d8de6d_123.png)

好呃，第二个的话就是这个on quarter，service pace的一个模块啊，这个模块的话其实对应的是我们上节课讲到的，那个，就是嗯讲到的那个windows系统下面的一个。

服务漏洞的这样子的一个齐全啊，然后对应的在msf当中的话，它就有这样子的一个模块，我们可以直接去一个使用呃，在这边的话这个模块的一个使用的话呃，其实也就是跟前面的话都是一样的。

我们同样的就是需要去设置这样的一个筛选一，然后直接export就可以了，然后在这边的话呃，我们看一下这边的一个截图吧，然后呃本来的话我这边的一个靶机话。



![](img/1c282b348d9e2063f3ceead4e0d8de6d_125.png)

是我已经配置好了，就是我可以直接通过这个模块直接能够打成功，然后这边的话这边的话，因为前面的那个东西没了呀。



![](img/1c282b348d9e2063f3ceead4e0d8de6d_127.png)

我的这个快到这边的话，我的前面本来有很多环境的都没了，所以的话这边的话呃，大家看我这边的一个截图吧，然后我给大家介绍一下。



![](img/1c282b348d9e2063f3ceead4e0d8de6d_129.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_130.png)

介绍一下这样子的一个模块，它的一个就是基本的一个使用，在这的话我们直接呃设置设置一个筛选，然后直接exploit，然后在这边exploit之后的话，我们可以看一下，在这边他会去做这样子的一个操作。

他要去找一个他要去查找我们的这个目标当中，可以去进行一个利用的这样子的一个service，也就是服务嘛对吧，然后的话在这边可以看到它有找到，像这边这个是这个路径，这个路径的话。

其实就是我们呃在上节课给大家去讲的，这样子的一个对吧，就是这边呢呃其实这段话就是我做的一个配置，我做了一个环境配置，就是自己创建了这样一个windows frage的一个service。

然后这个sv的话它是存在这样子的一个漏洞，它的一个路径的话，它是呃，它是就是说它的他是这样子的一个uncredit，uncredit的话就是没有引号的，也就是说他的这个路径的话，它的这个路径的话。



![](img/1c282b348d9e2063f3ceead4e0d8de6d_132.png)