# i春秋零基础入门Android逆向 - P5：课时5 实战演练如何去去除应用中的广告 - 老网恋教父了 - BV1sg4y1B7zB

发，那么今天就来讲这个第五课，继续的来介绍一下关于安在安卓的java层方面获解的一些小技巧。嗯，那么最近几天的话，我可能比较忙，那么课时课件方面可能会做一点比较简单一点。那么大家不要介意那么多。哦。

啊呃在正式开始今天课程之前的话，就来先来讲一下关于上一节课的一个作业吧。那么上一节课的话，我给大家来布置一个作业，就是赋有这一个有道益公司所出品的这个滑雪大冒险。那么可能会有不少同学就是觉得比较难。

不知道怎么入手之类，对吧？其实这个这一个软件是不难的是不难的。你上一节课所教到内教教到的内容是完全可以去破出来的。嗯，现在总体来说一下吧。嗯，不轴的那个破解逆向分析的话，主要是靠猜。

然后当中会用到很多很很多的这种小技巧。那么这些小技巧的话，主要是为了去帮你去进行一个呃缩小那个范围的，让你可以快速的去定位到那个关键的位置。主要是这么一件事情，那当然了，最主要的还是靠猜。

然后剩下的话就是靠。花费一定的精力去进行一个分析了。好，那么这里的话我就来快速的给大家去演示一下怎么去定位到我们需要去修改的一个地方。感试一下。呃。

上一节课就讲到了用这样一个monitor方式去查看程序所会打印出来的一些log。也就是这样这些数据，通过查看这些数据来找到程序运行的一个关键点。

有有些时候啊我们我们并不能去直直接的去定位到那个关键的地方。但实际上的话，通常这种loggo的话是很有助于我们去了解整一个程序的运行的一个流程的。直要我们了解一下，得到程序流程的跨就能够进行的一个定位。

那么这样下来一套下来的话，我们分析的量就大大减少了。也不至于说感到无无从下手之类的。那么这里的话，我就来尝试去进行一个呃安装，然后进行一个购买来看一下。

来看一下这个程序会不会会有什么一个信息来让我们去看一下。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_1.png)

有没有什么信息让我们去进行一个破解。嗯，呃大家可以看到啊，这里的一个BBQ skill里面的话，已经把我的一个手机上所显示的一些信息给同步到我的电脑上面去了。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_3.png)

那么这个软件我也找了挺久了，来想找寻找一个好的颜迟比较少一个同步软件之后软件真的不容易啊。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_5.png)

好啊，那么这个滑雪大冒险的话是并不能够在那个不能够在那个bl模拟器上面去进行一个。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_7.png)

一样的。所以果大家是用那个blue stand的话，就不行，可能要找一下其号模拟器才可以。那当然我这里的话还是建议大家用真真实的手机，毕竟真惜的跨不会出现这么多奇块问题。当然啊，如果你们是使用真机的话。

可能不会像我这样，一开始就有这么多调试信息。其实这些信息的话都是需要进行一个开启才会有的。我要怎么才能够去开启这些信息的话，这样就可能去进行一个需要你们去进行一个刷机了。

在网上找一下一些第上方的一些库来，找一下能不能够进行一个刷机，才能把这些内容给刷出来。不然的话是无法进直接的进行一个程序的一个调试的。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_9.png)

然后我们就来试一下，进行一个购买。我这里就主要进行一个购买，看一下这里会有什么消息打印出来。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_11.png)

好，亲清一下无关内容，在购买的前后清一下无关内容，让我们只关心最重要的位置，点击购买好，哎，可以看到这里已经有这么多这么多消息给打印出来了。你们怎么可以说找不到一些信息呢？我们从头开始看一下。

这里有一个呃bu button，也就是说它监测我们点击一个购买的一个事件。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_13.png)

然后走下去，这里还是从一个用命题里面的一个内容。好，那么这里就出现了我们的一个关键点了。一个有一个一柔到一次GJI后一个star pay copy，也就是一个支付的一个回调。然后还有一个是往下走走下去。

好，那么这里这里就这样这哎，这也还有看到1个SNS playb，然后是说然然后这里就会调用这样一个CN信息的一个支付的一个方法。它是由百度所提供的1个SDK的。好，看完我往下跑就没有了。

那么这里就已经做出了这么三点比较重要的一个东西。那大家大家可以看到啊啊，这里做出来的信息的话，并不一定是会是上像像上一节课所教到的A样字符串联简单易懂。但是这里是已经是只过去我们去定位一个关键信息了。

也是SNS play，然后是一个黑ada base，也就是所有的支付的一个关最基础的一个地方。我们搜一下这注册。好，主要找了这么多东东西。这里有个跟SSplay。

就是我们这里和我们这个对应的SMSS play的这个。那么这里的话就是我们所要找到的那个所谓的一个关键点。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_15.png)

ほ。或者说这里并不一定就是我们知乎的地方，但肯但我这的地方肯定就在这个附近。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_17.png)

对不对？那么这样一来的话，就已经把我们的一个整整一个大体的一个呃要分析到给缩小到一个smarly文件中去了，或或者说缩缩缩小到这样一个类中去了。那么我们再从这一个类开始去进行一个分析的话。

就可以简到很多，对不对？啊，嗯。我们就把一个要分析的找到我们分析的地方以后，然后打开GEP来进行一个。调试一个分析。嗯，这里有点卡。带大家去稍等一下。打开了我们就来找到我们的这样一个类。嗯。

and SP。进行一个搜索，然后定位。好，那么就这里按住tap键unt键进行一个反变。好，那么在这里的话就是我们的一个呃baase配的一个地方，然后这里有一个支付。什么什么之类的，我我们不断往下翻下去。

看到一个跳掉，然后哦这现的一个调用，这也是失败，这也是成功。然后这里就是创建了一个呃回调。那那种呢就是按着中经常会用到的一个。回调的一个方法，一个接口，我们应该说是接口，一个回一个回调的接口。

它成功的时候就会调用这样个这样一个函数，18就会调用这个，这是一个接口文件。现在看一下，刚好可以看到一个star配，就是开始支付的一个信息。那么下面的话哎自然就一目了然了，它就是主体。

它主要的话就是在这里调用一个star配函数，然后传递传入传用我我们的一个回调来进行一个支付的一个判断。那么我们想要破解的话也很简单，直接在这样一个函数里面调用我们的一个呃一个list呢。

也就是我们的一个回回调，还说一个监控什么之类的，调用它里面的一个exel的方法。我们双击进去的话，可以看到这样一个接口里面的一个方法。比如说这一个接口，它里面有三个方法。有一个是取消，然后发一个成功。

它总共了三个方法。我们就手动的去调用一个这样一个接合的一个承功的方法就可以了。那么关于这样一个历史的话，它也是在安卓中用到比较多的一个一个东西的吧，就是一个函数的一个接口，它是属于用户的比较多的类型的。

因果这一方面知识不足或者说不者到这种东西存在的话，可能要补一下编程的基础了。好，我们找到这样一个搭配的一个方法。然后在这里主动的去调用第三个参数，就这里P3，然后然后P3名字叫这样一个名字。

我们调用P3的一个第三个参数里面的一个方法。找一下哎，这里找一下对应的例子。那么这里比如说这一句的话就是调用P3里面的一个on cancel方法。

那么我们在这里的话就直接调用它的一个on success方法。然后返回。保存理一下，进行一个变异，再安装来看一下我们的一个效果。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_19.png)

好，这里就取消掉。我们可以看到啊，其实整一个流程都是不难的是吧？我们整一个。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_21.png)

呃，分析过程的话，就这么一套下来就可以了。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_23.png)

并且我在这里我们也可以做得到关键数据。其实是撑不了的，千万不要被被他的一些本小所吓导之类的。我们等他给一个兵仪完成。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_25.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_26.png)

呃，另外块这一课作业的话，在在战乐坛上也有一个学员做的挺不错的。其实做的挺不错的，我看过一下，做的挺不错的。嗯，大家可以看一下，他他写的挺详细。如果你们真的没有思路的话，也可以去为他这边来看一下。

看吧外下。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_28.png)

对不对？继续的来我们来进行一个直播操作，看一下我们的修改是不是成功了。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_30.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_31.png)

百度百度游戏。程序已经打开了，我们来进行一个购买。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_33.png)

嗯嗯嗯。是吧购买。看到了看到了吧？这已经直接购买成功了，证明我们的一个破解已经完成了。那么这就是一个呃。关于上一节课留下的一个课程，或者说一个作业的一个讲解。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_35.png)

看。如果你们还是觉得有点困难的话，就可能需要另外的另外的去找一下其他城序去做一个练手了。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_37.png)

好，那么下面就来正式的去开始今天这一节课的内容。那么今天的话我就来打算给大家去讲一下这个网络有关于网网络方面的一个验证。那么这一次目标程序的话是及到视频软件，就是是这一个优优酷土豆腾讯视频PPTV。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_39.png)

那我就来讲一下这几个APP文件，我们怎么样去对它进行一个去广告之类的一个东西。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_41.png)

那么大大家大家就是不知道有没有用过这几个软件。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_43.png)

呃，他们以前还好，现在的夸他们的视频和他们的广告内容是越来越长了。有一些过分呢可能会有100120多秒之类的广告就是非常难难以及。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_45.png)

对下那那人诶收对吧。那么今天的话就来进行一个呃过解。先把我的网络给打开。先安装一下我们的一个目标程序，来看一下它的一个广告怎么回事。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_47.png)

好这里。打开优酷。先来哦现在以用库了来为例子来讲解一下吧。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_49.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_50.png)

可以看到嗯，这里它是他启启动了一个广告。然后我们随便点击一个视频来打开来看一下它的一些广告内容。可以看到啊就是这么一段小视频，它都已经有这个几30多秒一个广告了。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_52.png)

好，那么这一次我们我们的目标就是把这个网这个广告给去掉。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_54.png)

哎，那么那我先来去总体的去进行一个分析，来看一下它是怎么么一回事。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_56.png)

然后我也想用来用上一节课所提提到的方法来看一下我们能不能够查到想要的一些内容。或者说定能不能够定位到我们我们的一个关键点。好。

那么这里我就随便的点开一个视频来看一下它有没有打出什么一个有文的一个log信息出来。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_58.png)

好，可以看一下哈，我点开视频这不边。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_60.png)

好。那么这里点已经把视频打开了，那么上面这么多这么多，他打开一个视频，打印了这么多loggo信息。唉，这里可以看到这里是从他从网上所访。他会从网络上访问一些信息，然后这也是往网络上反馈的一些消息。

可以看到啊，这里它打印出来logo特别长，是很难的去找到一个关键点的。那么像这种情况，我应该怎么做呢？好，那问题就来了，那我们该怎么做呢？



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_62.png)

啊，其实对于破解来说的话，思路是一种非常重要的一个东西。我知要我们思路都是对的话，那么想要弄起来的话就非常简单了。啊，通常对于这种网网络形式的东西的话，我们最基本的做法就是进行一个抓包。

然后进行一个分析。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_64.png)

就是一个车包。我们中盘装一下包，看一下它访问到什么网络，然后就从这样一个地方进行一个定位。哎，那么这样就快很多。哎，那装包也可以。你抓也可以。那么正常做报块，我们就有第三方的一些软件了。

那么这里的话我就来介绍一款软件。他的名字叫做A这个他名字叫这个。啊，这是一款非常好用的一个周网软件。我们就来使用它来对整个手机的一个内容来进行一个说包吧啊，当然在它使用之前需要先进行一个设置。

不然的话它是无法去做到电脑上的一个包的。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_66.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_67.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_68.png)

首先我们要知道我们本机的1个IP。我用IIP肯的指令来查一下我的1个IP地址。比如说这里的话，我是使用一个呃。这眼我是使用一个无线网络的，我看一下在哪看。見ても。7。我看一下我的IP地址在哪。哦哦好。

那么这个的话就是我当前的1个IIPV4的一个例地址。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_70.png)

好，那么在这里我就对我的一个网络进行一个代理的一个设置，让他的让我这样一个手机的所有所有包的信息都经过我这台电脑。然后那我要再用这一个程序去装我我的电脑的一个包。那我就间接的完成对手机的一个桌包了。好。

这里选中我们的一个链接和的一个wifi，选择第二个修改我们的一个。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_72.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_73.png)

我发信息，这里选择高级的个设置。好，然后这per号就填入我们刚才所取得到的1个IP地址。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_75.png)

这里就是192。1168。31。100了。うそ。19。192。点162。31。100。然后下面的一个端口的话就填8888。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_77.png)

确定保存。好，这个时候就可以看得到的话，他应该就可以做做到我们的一个手机上一个包了。哎，可以看到这里我打开优优酷的时候，他已经说优优酷上的主要访问的一些消息了。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_79.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_80.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_81.png)

这里送出去的消息，然后他把他的一些数据都全部的给装回来了。哎，那么这个时候就可以就行了。这个时候我们就来尝试去点开一个视频，看一下他捉到了什么信息。然后里面它又是什么样的内容。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_83.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_84.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_85.png)

好，我们随便的点开一个视频。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_87.png)

嗯。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_89.png)

点开了。你也可以看到打开这么一个视频，他总共访问访问了这么多这个这么多一个网络。那这里一个一个看下来就能够看到它一个。那么这么多中呢肯定会有一个它取得渠道网络这样一个广告的一个一个地方一个链接。

我么这一个一个看下来就肯定会找得到。那么这里可以看到这个非常可疑，对吧？ADAAD就是一个advert也就是广告的一个缩起了。我们打开来看一下，那看一下它的一个获取。

还有它的一个接收repon就是它服务器说法可取过来的这个数据。对，可以看到我们在这里翻一下话。这里就是他回回回过来的一些数据。这也是很可以，对不对？这里有几个链接。

我们来打开看一下这几个链接是什么类样的内容。可以看到它反把是1个FLV文件。其实这个FL语音文件的话，就是我们在这里给播放到了一个广告。就是我们可以播放一个广告了，我人怀疑这是广告了。好。

那么我们的目那么我们现在目目的的话就是要阻止我们的一个程序去访问这样这么一个地址，让它取国到我们的广告信息，下载回不到我们的一一个广告视频。那么是不是就能够找到一个去广告的一个效果呢？好。

我们就来实验一下，我们来搜索我们来搜索这样一个地址。好，先把我的优酷给载入进去。嗯。把这关了，暂是间么大。等程试要去完成一个反变译吧。呃，工常来说，这里的编译反变仪都耗费时间比较长，耗费时间比较长。嗯。

可能出一点问题啊，看一下。那我们来进行一个对用户进行一个反馈页，然后搜一下这样一个地址。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_91.png)

嗯。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_93.png)

那呢如果你们并不能确定这个是不是广告的地方什么的话，我们再来点开一下其他视频。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_95.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_96.png)

对，可以看到他再一次访问这样一个地方。然后这里还是依旧的返回了2个1个LB文件。好，我们来看一下是不是啊。当然啊，如果你们有兴趣的话，可以把这几个FLV文件给下载来看一下，是不是广告就已一目了然了。

这里我就不演示了，毕竟我前面曾经弄过这几款软件，我我都弄过一下。发现都是类似的。呃，你们有呃你们有兴趣的话，也可以自己去做一个去广告的一个轻爽版来这里来开玩一下，来看一下了。毕竟这一些广告商啊。

他搞广告实在太长了，浪费别人的时间等于浪费别人的生命，对不对？

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_98.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_99.png)

好，这里就完毕完成了。嗯，等一下啊。嗯，这里可能在编辑的过程中耗备时间会比较长，这是不这是不习怪的，这是不习怪的。哎，毕竟这样一个程序的话比较大，看有2020多MB。

那么前面我给你们所测试的话都涉及MB的那那种小程序。对于这种大小区的话并译起来是比较耗费时间了。哎，错错错，我们去搜索一下这个字符串。AD点API然后杠3G。优酷。C恩那就是也就是这样一个地址啊。

我们去搜索一下。うん。嗯在他编页过程中是不能够进行一个搜索的哈，我们等一下啊啊，这样已经开始了进行一个搜索。嗯，好，可以看得到他的话，找不到这么多地方。然后会找到这么多地方。好。

我们要阻止它访问这样一个地址，那就是这样一个地址。我们要阻止它话的做法也很简单，我们只需要把它把它替换为为空，是不是就可以了，是不是我们只要把它给弄成为空的地址，让它访访反问不了。哎，那么这样就不行了。

我们给它全部替换成空。好，那么这里的话就完成了一个替换，这里变成空的一个数据，进行一个回编一，进行一个安装。来看一下我们的一个。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_101.png)

呃，一个效果。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_103.png)

看一下这种情况是不是已经正式的去到了一个广告了。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_105.png)

。嗯。还是一样啊，拼一比较耗费时间，大家大家就等一下吧。嗯，好。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_107.png)

好，进行一个安装。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_109.png)

啊，已经打开了。嗯。我们来看一下它的一个内容。好，我们随便打开一个视频，看一下是这个看一下。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_111.png)

你，可以看到前面的几十秒广告已经没了已经没了。那么这就是一个呃对优酷视频的一个去广告的一个过程。好。那当然。对，用哭是这样，那么对其他视频软件是不是也是一样的？



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_113.png)

这一次的话我们再找一下其他的东西。比如说我们弄一个土豆视频。那么土豆视频的话，其实它和优酷也是相差不大了。呃，翔也知道啊，现在土豆和优酷已经变成了所谓的优土豆了。

就是其实他们两个所做出来APK的话也是大属于大同小异的那种。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_115.png)

好，这里我就来安装来看一下。看一下它的一个运行效果，还是一样去进行一个装包，然后进行一个分散一下它呃。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_117.png)

看一下他下载广告的一个地址，然后我然后把这个PP地址给去掉。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_119.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_120.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_121.png)

嗯，视频的话看一下这边。打开我们的土豆视频。有点卡有点卡，因为因为我的机子机子正在进行一个播报，然后同步到我的电脑上面来，所以有点卡。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_123.png)

啊。我看一下这个。打开一个视频。可以看一下这个这样要更加过分的73秒770多秒。我。我以前测试的时候，神正在出现过100多次动秒的那种。好，我们来看一下做一下包。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_125.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_126.png)

哎，还是一样的AD点AP3，然后3G只是后面换成了一个土豆点COM，就是他们两个协议是同一一样的一个东西来的。那么这里的话我们还是一样的操作，把这一个字符串给替换搜索。啊，对对。

那么这个时候如果你并不能确定这个这串是不是我们的一个广告的一个地址的话，也自然也可以这样做右键使用一个麦，也就是进行一个重定位，把这样一个地址的访问，我们总是把它定位成一些其他地方。

比如说总是说返给我们我们的本地一个在本地这样一个链接，再打开一下。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_128.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_129.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_130.png)

对，那么这个时候就要看到。呃，因为他没有办法返回正确的一个地址。那么这个时候打开的之候，他就我直接把广告给去掉了。所以这里其实我们也就是也是一样的。把这个地址给弄没了就行了。对，这是这一个。

软件的一个好好用的一个地方。好，我们来说一个这这样的。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_132.png)

来收这一个地址。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_134.png)

搜索到3个，把它替换成一个空的值。全部听完，然后进行一个编译打包。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_136.png)

然后再进行一个同时安装。那呃这里因为我们原来签名不一次先把得先把旧有的手序给删掉，然后才能安装我们自己编辑的那个。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_138.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_139.png)

那么这里就进行一个编例。嗯。呃，那么就趁现在比较在他毕业的时那段时间比较空闲的，就来顺便的去说一下一些其他的一些内容吧。嗯，就这个课程的话已经开始了结课了。那么在教va层上面能够教的东西。

我就基本上都教光了。那么这个时候的话，你们可以去找一下其他的1个APP程序去进行一个练手。呃，进行一下练手之类的，找一些简单的也行，找一些复杂的也行。你们去熟悉熟悉一下前面的一个几构操作。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_141.png)

毕竟这一个东西还是主要还是靠经验，在这里的话，我就算说的再多，也不一定要能够让你们去学学会。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_143.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_144.png)

只能给大只能给你们去提点一下这样一个方法。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_146.png)

那我们再来看一下我们病历好替换好一个手创的一个东西，能不能够正常的一个取广告。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_148.png)

好，随便打开一个程序。一个视频里面的还有一个视频。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_150.png)

嗯嗯，这样也是跨。好，这里的话先把它以前所设置好的一个map给去掉先。对对。把我们以前麦壁纸给去掉。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_152.png)

好，来看一下我们是不是催掉广告了。你可以看到这里的所有广告已经给已弄没了。好，那么这个话就是土豆的一个去火膏。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_154.png)

那么接下来就是我们的第三款APP软件，就是一个腾讯视频。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_156.png)

那么腾讯视频是不是也是类似人？我答案就带大家去猜一下。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_158.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_159.png)

答案估计就就是和你们所想象一样，进行一个安装。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_161.png)

然后来做一下包，看一下他访问那个他他访问地址，就是会从什么地方去拿拿到他的一个广告，然后进行一个去除。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_163.png)

好，已经安已经安装好了。打开我们的腾讯视频来看一下。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_165.png)

出就货。打开我打开我们的腾讯视频来进行一个报。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_167.png)

随便点开一个电视剧之类的。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_169.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_170.png)

点看。嗯。那能看一下，它是有近90秒的一个广告。然后它访问这广告的话属就渠到了这么多的一个地址。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_172.png)

那么我们就要在这个地方中找到他个广告的一个来源。嗯，这一里的靠壳没有那么好找，可以看到它这么多这么多，并没有明显的1个AD标志之类的。那么这里我就我们我们就每一个一个打开来看一下它一个。呃。

一个法法回的一些数据。呃，这种事一定要有耐心才行。慢慢的看一下他反生的一个数据。好，那么这些反回图片呢就肯定不是了，对不对？然后这里就打开一个Y了就肯定不是了。如果这些什么都没有返回的一些内容的话。

也是没有用的。我们来看一下哪里是款还有他的一个视频地址。这个是没有用的，看一下他数据都没法解读出来。哎，那么这个就打开了一个SML格式文件，看一下，哎，他们里面的内容就是AT list。

然后ATALC那那么很显然的话，这一个就是呃腾讯视频中所谓的一个广告的一个访问的地址了。如果不相信的话，我们也可以对它同样的对它进行一个maclo的一个设置。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_174.png)

让他返回错误的要广告内容来看一下是不是需要广告。那我们再来。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_176.png)

打开。错，这个不是视品。随便点开个东西。等一下啊啊等一下等一下。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_178.png)

进些短线。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_180.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_181.png)

嗯。哎呀呼烧的时候连链就突然断掉了。应地上都了。嗯，那么我就来说一下这样一个这时的一个情况吧，你们可能看不到，你们可能看不到。我就是先来说一下这样这时一个情况。其实我把这一个bit进行一个mlo的时候。

它的广告已经给全部给去掉。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_183.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_184.png)

钛金金额广告来做。好好卡，我记得记得边好卡，因为一直在做包，真的好卡。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_186.png)

行，我就来说一下吧。其实就这样我。对这一个地址进行一个memo口之后的话，它里面打开视频时候的广告已经给去掉了。那么这个时候就可以证明这个地址的确就是我们想要取的那个值。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_188.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_189.png)

嗯，那么这个地址的话就是我们想要取得到的几个值。那么这个时候看我们需要做的东西就是还是要去搜索一下，搜这样一个需搜这样一个地址，能不能够去找到一些信息，然后把这个地址给田宁。哎。

那么这个时候对于这一个腾讯视频区广告已经给结束了，就是这样一个东西，我要进行一个搜索。哎，这个时候就出现一个问题了，我们发现这样一个腾讯视频，它居然收不到个任常的一个东西。居然收不到东西。对。

这就是一个腾讯的时候，它做一些特别的一个处理。就像我们无法去获得一个支付车一个字段之类的。那么这个时候我们该怎么办呢？怎么办？对不对？哎，这个时候我们就可以分开来说。

我们现在说一下这那一个life message。我们把它分开来说呢，看一下能不能够收得到一些呃。其他一些信息之类的。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_191.png)

嗯好，再来链接一下。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_193.png)

哎，那你就发现它可以做到这样一个内容了。哎，看一下这里可以做到这样一个内容。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_195.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_196.png)

过这个时候。可以尝试去用GEB来对它进行一个编列，来看一下它的一个ja瓦上的一个源码是什么样子的。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_198.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_199.png)

嗯。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_201.png)

嗯，好的，还是还是不行还是不行。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_203.png)

这也没办法了。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_205.png)

好，我们就来用这一表进行一个分析吧。下面我我们就。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_207.png)

我们就不做包了，其实已经知道了一个呃关键的一个字符串话就不就不进行一个做包了。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_209.png)

我们用模拟器来进行一个设置吧。呃，关于这样一个不这的一个模拟器的话，我这一次没有用它，是因为它里面并不能进行这样的一个设置。他并不来进行一个呃。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_211.png)

一个端口的一个设置。你我对点。当然如果是其他模拟器，估计是可以做得到的。是这样1个BS比较麻烦。好，我们来找到这样一个地方，我们搜我们搜索字符串搜出到了这么一个类在后等腾讯然后ADSAS也就是广告。

然后广告服务器里面的A的一个一个类。我们来看一下它的一个实现。定位到这样一个地方。腾讯，然后是ADS，然后一个serv。然后一号是里面的一个A的类。刚才我们的t键虚新对它进行一个反馈应。好。

看到套餐反面出来任么内容，搜索一下一个。the year。看到它这里就开始进行一个字符串组合了，就可以看得到。为什么我们直接搜这样一个地址可以搜不到它，是因为它这里在整一个去进行一个字符串的一个重组。

这里的地址图图是一个动态生成的。从这里方话跑下去的话，会看到的一些其他的一个一个引用。比如说这里是是U是从有一个Z，然后加一个这样一个自助串合同的。那么J的话，对我们按一个键盘上一个N。

或者说一个呃从A，就是一个快捷键的一个N，就可以对它进行一个重命名。你说这里一把虫为。比如说我们先把一个U重命名为一个呃lime。表明这里是它的地址，然后找一下这样样一个A这样一个均要的地方。均的话。

这里我们基本上一个X可以进行一个交叉应用，也就是找一下在哪里对它进行一个调用，或者是一个复制。看到这里的话是对J进行一个复制的地方，均的话它是从用这样一个字符串，在这样一个字段进行一个生成的。

还是一样按N来进行一个重命名。哎，对于这个D就是来用这样一个交叉引用来扫一下它复制的一个地一个地点。好A点D哎，可以看到。那么D的话，它就是那一个L点QQ到M。把整一个弄整一套给弄出来的话。

就是发现在一个有这么多一个字符串给组成了这么一个地址。然后他再对这样一个地址确进行一个访问。哎，那么这个时候我们是不是说把这个地址给清空了，就能够给把它广告给去掉，去去掉呢？我们可以来试一下。

我们试着去进行一个便译，然后进行一个安装。来看一下是不是这样的情况。嗯，这里的话我是以几款视频软件来做为一个介绍来介绍一个对于网络呃带网络信息的一个程序是如何进行一个定位的。其实对于其他的一个程序。

它也它做法也是类似的，还是一样。经过一个桌包，然后进行一个分析定位的那种。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_213.png)

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_214.png)

好，这里去进行一个安装。你来看一下我们来个广告是不是已经给去掉了。点开。你也看到它它广告还是存在的还是存在的，证明这言件里的修改是没有那么简单的。哎，这个时候是我们是不是已经卡住了。

有没有其他办法去掌握它关键点了？这个时候我们就已经知道了啊，通过这里通过这个助创可以知道这里这几个是肯定是和广告相关。比如说这也是AD然后AS证明这里是和广告相关的。但即管如此的话。

这里还是有这么多的一个类这么多的信息还是很难的去进行一个定位啊，那么这个时候我们就要来通过更加进一步的一个搜索，去把这个范围再进行一步的缩短。好，我们还是呃呃来到这一个地方。买个时候它还是一样。

也也还是一样，这个思路很重要，他的时候信息都已经给你了。那么在这个时候的思路就想起来特别重要了。有思路的话就能够。大了大大的去减少一个呃分析的一个范围。定个。好。

那么在这里我以这样的一个思路去进行一个入手。这里它服务器反馈了这么多数据，然后它是肯定的是需要去解析这这么一一段的数据，对不对？比如说他整移把黑过的一些数据进行一个分析，然后找到它的一些地址。

这里一个艾特艾特里面就把回了一个一些呃视频的一个地址。它肯定是需要需要分析分析这么一个一串数据来找到它一个地址在哪了。这个时候呢我们就可以尝试着去搜索一下这几个东西，来看一下。

能不能能不能够找到一个关键的一个值。比如说这里我就说说AT list。选上匹K大小写。看一下我们能不能够收索到一些关。是大家有用有用的一个地方。好，那么这个时候话出现了一个条物会比比较多比较多，哎。

不要急一步一步的看下来。步一格看下来，哎，这个可能就有点意思啊，看一下whatMADSL item。适合这样一个对对应的一个word，然后1个AB list，然后艾特就这样一个东西。

那那么很显然这一句的话就是在解析等一个反回过来的一个代码。好，我们再回到GEB上面去，我们找到这样一个地方来看一下它的一个数处理ADS dataI里面的一个C的一个函数。ADS然后是data。

然后是一个I。找到我们的一个C的一个方法。或者说找到这么一句话。好好，哎我们在这里拌一下。这里有这么多需要解析的一个数据，order，然后display mode之类的。显然就是和这么一个一一对应的。

它就是从这里取出这么一些数据啊，这显就是进行一个匹配，然后取数据了，可以很显然的确定。那么这里的话就是。分析返回的广告数据D包。那我们也就主要的围绕着这么一个一段话来进行一个分析了。首先对对传入参数。

显然就是我们的宝贝这么一个数据了。这就是我们一个广告的数据，然后这里新建一个IV list。哎，这里就出现一个很关键的一个字段艾AD艾，而就是广告的一些数据。这里就开始了进行一个取子了。好好，然后取直。

最后看一下它返回，返回就是把这个toari用什么vivo sign，那么这个就是返回的一个数据。我们使用这款的NG对它进行一个重名。嗯，果这里的话，我们就。哎，那么这个时候我们就可以猜想一下。

假如我们让它返回一个返回一个空的一个atom的话，那么它是不是就没有广告啊？哎，那么这个时候就出来了，我们呢怎么才能让它返回一个空的值呢？好，我们看一下可以怎么修改这里它是一个循环。

使用一个循环去解析的一个艾。这里我们可以尝试的去把它一个循环给去掉。比如说把这个循环给去掉，或者说哎这里循环的最后有一个呃添加一个ad的一个方法，我们把这个ad给去掉。哎，这也是可以的。

那么这样把它的数据就是一个空的值了。我们就来尝试着去把我我们的一个思路进行一个实现。如果在这里呢夸我就用后一个。找到找到它一个程序的一个，最后，把它后面进行一个ad的一个方法。

也就是添加的一个方法给去去掉而已。好，首先还是来定位进行一下定位。直接拉到这一个函数的一个最后。嗯呃，这里的smarish代码比较长，啊，要仔细要仔细一点。好，这里就是最后。

然后这里就是调用一个ad函数，把解析出来的结果给加到结尾中去，这里把整一个ad给注释掉，进行一个编译。好，那么编辑完以后。

我们再来测试去看一下我们的我们的一个修改结果是不是已经达到的一个去广告的一个效果了。好。好，比译好以后进行一个安装。打开。来随便点一个视频进去看一下。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_216.png)

第四句一个。哎，哎，可以看到的话呃整一个视频都已经没有了，整一个视频都已经没有了。那么这个话就是一个属于比较难的，需要去进行一个进一步分析的一个。一个方法的一个修剪，一个一个修改。

那么这个里呢就是一个腾讯视频的一个修改。好，那这里的话我还有另外1个APK就是这样1个PPTV。那么这个APK的修改的话就留待大家作为大家的一个作业来进行一个。你要改动了。

我来说一下最终需要修改的几个地方吧。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_218.png)

呃，虽然我在视频中就是在这一节课中主要是演示怎么去去掉他视频播放时候的一些广告。那么在私底下的话，你们需要做东需要做的地方话，需要做的东西可能会多一点点。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_220.png)

呃，作业中你们需要修改地点的话有这么几个，首先就是启动的时候啊对好，首先的方法还是一样，点开视频的时候呃，等一下。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_222.png)

呃，就是这样一个点开视频的时候。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_224.png)

我去。这个せだ。好。这是点开视频的时候，会出现了这么一个几十秒的广告，把这个广告给去掉，这是第一点。然后就是退出的时候会发生这一把还有一个图片的一个广告，把这个图片广告也去掉。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_226.png)

好。然后另外一点就是我们打开的时候。うね。在我们打开的时候，靠嗯PPTV在哪。嗯应是个吧。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_228.png)

好，在我们打开的时候。呃，在打开的时候，我记得也是会有一个广告的，就把这个广告给去掉。那为现在找不到，如果没有的话，就不需要了。



![](img/22a3055ddffe4a3bf9fdc7190e8131cb_230.png)

那么作业的话就是与以下这几点啊，那么这节课课程话就到此为止了，谢谢大家。

![](img/22a3055ddffe4a3bf9fdc7190e8131cb_232.png)

。