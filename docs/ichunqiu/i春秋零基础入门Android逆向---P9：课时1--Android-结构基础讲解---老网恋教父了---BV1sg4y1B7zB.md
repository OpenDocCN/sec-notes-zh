# i春秋零基础入门Android逆向 - P9：课时1  Android 结构基础讲解 - 老网恋教父了 - BV1sg4y1B7zB

🎼。

![](img/be42712f3ef1fd95cdc972b1083329d7_1.png)

，大家好，这里是安卓零基础逆向入门培训教程。我是贾8。那么久位呢就来开始我们的课程吧。今天的话我们打算来讲第九课，第九课会介绍一个比较简单一点的东西。呃。

这一节课主要还是讲一下整一个安卓程序的一些基础的一个结构。好，那么我们还是一样用一个hello world程序来进行一个讲解。那么这个hello world程序的话，在我我们的第一第二节课中。

这已经出现过了。好，那么我们这里再复习一下，我们是怎么来创建一个最为基本的一个程序了，可以在这安卓 studio打开以后，好，那么在这里可以存择一个star一个溜的一个水一个地方。好。

这里就可以对我我们要创建的目录进行一个命名了。

![](img/be42712f3ef1fd95cdc972b1083329d7_3.png)

好，我们这里一切都按照一个默认的一个属性就可以呃进行下去了。

![](img/be42712f3ef1fd95cdc972b1083329d7_5.png)

好，这里直接点击fininish来完成哦我们的一个构建。呃，首先可以看到，当我们进行一个呃创建的时候，这里会弹出一个标准的一个框。那么在我们第一次打开一个程序的时候，这一个标准的速度是非常非常慢的。

是因为整一个一个程序呢，它需要从网络上去下载一些相关的一些包，把这些包给下载好以后呢，它才会完成整一个构建的。呃，当然这个时候也可以直接按取消了。但我建议的话还是去挂一个VPN。

让他把整把所有的依赖库给下载下来。那么下面自己编译的时候才不会出现各种各样的问题。

![](img/be42712f3ef1fd95cdc972b1083329d7_7.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_8.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_9.png)

好，可以看到当整一个程序给创建完案的时候，它就会自动的把我我帮我们去打开一个内样文件的。有时候如果你的程序出现一些bug的时候，这里会显示不完整，那么这里可以先弄这一个时候就可以点击一下这么一个刷新。

来把一个程序给刷出来。好。

![](img/be42712f3ef1fd95cdc972b1083329d7_11.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_12.png)

那么我们就来看一下整一个程序，也就是这么一个hello one的一个程序，它是怎么样子的？首先我们来看一下它的一个程序的一个布局。好，那么可以看到这里我们首先打开的话是一个安卓的一个布局。

那么这一个安卓的话是它的插件，把我们帮我们把它的一个文件给整合过的。啊，在这里再点击左上角的地方可以进行一个视图的一个切换。比如说这里选择一个package的话，就可以看到它帮我们把所有的类给选出来了。

比如说它找到我们这里有这么多类，它就可以把把它给进行一个划分。那当然呃这里最接近原始代码的布局应该是这么一个p一个视图。我们切换到p上去。好，我们在这里一个根目录下成了APP文件，一个source文件。

一个里面。那么在这一个文件夹中呢，就放的就是我们所有文整一个按卓程序的所有的源代码，不在这么一个文件夹中可以看到它这里有三个最为基本的一个文件。首先第一个是一个javajava目录。好。

然后第二个是一个伪source目录。那么第三个就是一个maniface目录可以看到这个man变成目录的话，它重要性和上面两个是等价了。好，比如说上面的java是一个程序的一个代码。



![](img/be42712f3ef1fd95cdc972b1083329d7_14.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_15.png)

而程序说代码都存放到这么一个地方中去了，它这一个和java程序是一样的。

![](img/be42712f3ef1fd95cdc972b1083329d7_17.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_18.png)

那么第二个的话是一个ressource文件。你source文件也就是存放了整一个安卓程序的一个资源的一个文件。那这些资源的话是可以让整一个程序进行一个呃布局上啊或者是颜色上进行一个内容的。

那么在里的一个miniface文件的话，就是对上面的一个加代码，还有一个source代码，甚至是影响整一个程序的一些属性。它可以对这些东东都进行一个注册，来告诉我们整一个安卓系统。

我们的这个程序到底用到哪一些代码，用到哪一些资源来，都是通过这样一个minib文件来进行一个说明的。所以这个。这个东西是比较重要的。好，我们来看一下它的一个布局吧。首先是一个价代码。

那么这么一个价文件的话，存放着是我们的一个源代码的一个地方。一个一个找下去会看到它有一些类，然后类里面还有一些源代码的一个实现。



![](img/be42712f3ef1fd95cdc972b1083329d7_20.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_21.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_22.png)

那么这一个就是我们的一个呃。原代码目录。那么第二个就是我们的一个ressource目录，哎可以看到在ressource目录也就是RES目录下，可以会看到这么多的一个子文件夹。哎，那么这里一个一个这么多。

它到底有什么作用呢？我就来分别的说明一下。首先第一个是一个jub的一个呃文件。那么这里的jub的话，根据它的名称你都可以看得到。其实啊它是它是用来存放我们的一些图片的一个文件的。



![](img/be42712f3ef1fd95cdc972b1083329d7_24.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_25.png)

我们想要让程序来显示什么样子一个图片，都可以放到这么一个目录下。然后第二个呢是我们的一个layout，也就是程序的布局。在第二节空在第二节课中呢已经有接触得到了。

这一个是存放着一个程序的一个窗体的一个地方的，在这里可以进行一个 layout要文件，也就是布局文件的一个创建。接着就在一个minifi文件进行一个注册。那么这里这样一个窗体就能够使用了。

那么第三个也就是一个beumanu文件编你目录，它就是存放着我们的整一个代码的一个呃菜单。

![](img/be42712f3ef1fd95cdc972b1083329d7_27.png)

呃，所谓的菜单。哎，我们先在看一下哎，所谓的菜单，那就是在这里。嗯，可以看到。好，可以下呃，所谓的菜单的话。在这里好打一。好好呃，在这里我们打开我们的一个be，可以看到它里面这有一个iteom。

也就是只有一个可可以选择的一个菜单项。它名字叫 setting嘛。好，在这里我们就可以通过这边来进行一个打开。哎，这里就是我我们的一个菜单。到win上的话是效果是很类似的一个一种。



![](img/be42712f3ef1fd95cdc972b1083329d7_29.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_30.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_31.png)

这就是一个菜单的一个选项。

![](img/be42712f3ef1fd95cdc972b1083329d7_33.png)

好，那么下面可以看到这里有一组东西有一组文件夹，它都它都是很类似的一个结构。它的前缀也就是它前面呢是一个命，然后它的后缀反而就是一个HTPI然后插MHTPI插HTPI一个不同的一个描述符。哎。

这是什么意思啊？其实这么一个命的一个文件呢，它是和我们的一个jo文件是非常类似的。它也是一样，用来存放一个呃图片文件。但和作画本认有两个不不一样的是它是针对了手机的不同不同的一个分面令进行了一个优化。



![](img/be42712f3ef1fd95cdc972b1083329d7_35.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_36.png)

比如说这里可以看到它有一个后缀叫HDPR的。如果你的手机唉是对应的这么一个分辨率的话，那么整一个程序就会调用到这么一个目录下的一个图片。如果图蓄果是这么一个分辨率的话，就会调用到这么一个东中的一个图片。

它实际上就是根据我们的后缀的一个描述符来进行我们整个程序的一个属性的一个查找，来根据这么一个描述的东西来进行一个图片的一个搜索的。这里就是一个后缀的一个作用了。哎。

这个壁面的话是针对不同分辨率进行一个优化的一个程序。它是对对安卓上的一些缩放的话有一些特殊的一个效果的那那当然如果你说哎我厉害的话，我也可以直接使用这么一个jo也是一样的。好。

那么接着对应的是一个values的一个文件夹。那么这里的values的话，实际上这么一个values就是存放我们的一张。



![](img/be42712f3ef1fd95cdc972b1083329d7_38.png)

哎，一个安卓程序中会用到了一些基本的一个属性。比如说这里这里的color就存忘的一个颜色的一个东西。比如说对应着这么一个名字的一个color，它的值是这么一个东西。那么我们程序想要用到的话。

只需要给它这么一个名字就能够直接要调用到这么一个值了。哎，那么这里就是它的它的一个大小，唉，这里是16DP的大小。那么这里就设成一个字符串的。

整一个程序可以通过这么一个字符串的名称来取出这么一个字符串的值和style也就是我们的样式了。哎，这也是非常非常类似了。但是哎除此之外，你可以看到它下面还有还有一个更加特别的，哎同样也是values。

但后面有一个跟着有个V2E的一个说明，哎，这个VIE什么意思啊？哎VIE。

![](img/be42712f3ef1fd95cdc972b1083329d7_40.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_41.png)

其实根据名字相信大家都已经猜到了，这也没有一代表着它是在一个手机版本。比如说你的手机它是使用API21以及上的，那么就会对应着这么1个V21的一个东西。那么整一个手机系手机系统的话。

就会优先的去寻找这么1个VIE的一个文件夹下面的一个文件。如果在这里找不到他想要的话，就会网上给翻译题目录，找到这里的winows的对应的一个文件当中的一个属性。哎。

整一个程序就是要通过这样一个前缀加后缀来进行匹配的。

![](img/be42712f3ef1fd95cdc972b1083329d7_43.png)

来它就是用这样子的一个匹配来满足我们的一个不同手机的一个不同分辨率，还有不同的系统版本号的一个需求的。那么这里这里的W20820DP唉，就对应着一个大小的一个不同不一样了。



![](img/be42712f3ef1fd95cdc972b1083329d7_45.png)

其实这也是非常好理解的一个东西了。毕竟每一个安卓键啊，它有这么多硬件，它就需要我们去主动的去为它进行一个呃匹配，才能够弄好这么一个界面的。



![](img/be42712f3ef1fd95cdc972b1083329d7_47.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_48.png)

那么这里就是整一个安卓程序的一个目录，可以看到啊，这里是它的代码文件，还有资源文件。最后是它的一个maniface，manifi也就是描述整一个程序的一些属性的一个代码。



![](img/be42712f3ef1fd95cdc972b1083329d7_50.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_51.png)

好，这个颜色不简单，一个也色不蓝嘛。

![](img/be42712f3ef1fd95cdc972b1083329d7_53.png)

好，这个请大家在下面继去看一下。那么除上面几个说到的几个文件夹以外呢，其实其实它还还会有两个比较特殊的文件夹。首先第一个是一个assecess的文件夹。acscess的话。

它在对于我们的windows设序来说，就相当于一个额外文件的一个历史。那么这么一个assescess文件的话，它的一个程序在编译的时候是不会对它进行一个压缩的。

它这个一个原文件形式给出现出现在这么1个APK文件中。而我我们的APAPK文件呢，也可以通过一定的方法来直直接的去把它的一个文件内容给读取出来。哎，这就是我们的一个额外资源的一个地方了。

那么第二个就是一个la的文件夹。这么一个laveb文件夹的话存放的就是我们的一个共享库的一个路径，也就是我们常说的一个SO文件。这么1个SO文件的话，在后面后面课程中会遇到遇到遇到的比较多。

那么暂时我们还先不需要去知道知道这个什么东西。好嗯。那么这里就是我们的一个呃最为基础的一个布局啊。唉，但是但是啊请大家去想一下，在这里的话，我们的一个代码，还有它的资源是分开了。唉。

根据这里也能看到它的一个源代码，还有它的资源是完全分开了。那么我们是到底我们做到在我们的代码中去引用到我们相应相应的资源呢。那么我们的安卓程序。

我们的安卓系统又是怎么样去知道我们要找的就是这么一个资源呢。好，我们来找一个例子来看一下。首先我们看到我们我们的一个 activity这么一个内容。这里有一个onc函数。



![](img/be42712f3ef1fd95cdc972b1083329d7_55.png)

哎，找到这么一个方法，现看没有可以看到这里就是它哎把这一个这么一个类的一个方法。那么将这一个类与一个布局文件中的这么一个文件给连接起来了，按ctrl就能够进行一个跳转。

可以看到就会相应的给跳转到这么一个布局文件中。

![](img/be42712f3ef1fd95cdc972b1083329d7_57.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_58.png)

哎，这里可以看到是R点LL1个activity分类的一个东西。而，我们这里看得到这么一个东西，但实际上。它在蚂代码中又是怎么样的一个实现呢？



![](img/be42712f3ef1fd95cdc972b1083329d7_60.png)

好，我们这里可以用一个进行一个粉描液来看一下它在smary代表中是什么一回事的。

![](img/be42712f3ef1fd95cdc972b1083329d7_62.png)

好，我们进行一个反变。

![](img/be42712f3ef1fd95cdc972b1083329d7_64.png)

好，那如果在这这么一个呃对一个安卓编程比较熟悉的同学，或者说在前面的一个课程中，以及比较熟悉的一个编程同学的话，可能已经知道了。这一切一切都是有一个阿类去进行一个连接。这也就是也就是这么一个类。

这一个阿类呢也就是等一个资源内一个链接的一个东西。好，我们这里等它一个啊没有完成。

![](img/be42712f3ef1fd95cdc972b1083329d7_66.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_67.png)

啊，实际上这么一个二类的话是进行一个呃连接我们的一个代码，还有我们的资源的一个属性的一个类容。

![](img/be42712f3ef1fd95cdc972b1083329d7_69.png)

它是由整一个程序所自动生成的。好，那么这里我们先来定位到这么一个函数中。

![](img/be42712f3ef1fd95cdc972b1083329d7_71.png)

在这个目录下一个mag进写一个 on函数中。好，定位到这么一个方法，可以看到contrll里面有一个参数，呃，就是这么一个vi计存器，可以看到实际传递给我们vi计存器的只是一个int值的一个数值。好。

那么整一个程序，就是根据我们这么一个int的一个数值就知道我们要找我到哪一个资源了。啊，我们来搜索一下，也也可以看到它也它就在这么一个r类中出现到了。这个二类也就是我所说的一个定义了。好。

那么这里就可以看作呢其实这么一个呃这么一个硬的型的一个数值，就是这么一个资源的在等一个程序中的一个索引，整一个程序就是根据这么一个索引来找到相应的一个地方的。哎，那么这个二类又是怎么回事。

它是怎么出现的。呃，在我我们编程中好像没有看到，它并没有要求我们去进行一个编手动的编辑，对不对？就是它是有一个程序，它去自动的去为我们生成的。

它会自动的把我们的一个source文件中的所有东心进行一个编译，把它的一个值给编译，然后呃给辅复以相应的一个索引，最后把它编译的结果哎自动的输输出到相应的一个地方。好呃。

在程序的这么证明就能够找到一个相应的一个实现。比如说这么一个二类就是对应着它生成的一个代码。好，可以看到。



![](img/be42712f3ef1fd95cdc972b1083329d7_73.png)

这里就是对应的一个atmin enemy的一个class。呃，在这里呢在这里的一个东西也可以在于创中达到相应关的一个实现的。这里的H表也就是属性了。好，这里往下翻一下话，相应的也可以找到一个str。

也就是字符串，还有一个内啊布局的一些相关的一些子类的一个实现。可以看到一般这么一个阿类，它非常非常的长。整一个类的话可以看到这么简单的程序，它去用用了这么多这么长的一个呃二楼的一个说明服。

在我们的一个呃ABK two中也可以找得到它就编译成了这么多的一个子类。

![](img/be42712f3ef1fd95cdc972b1083329d7_75.png)

比如说syle styleyle还有一个字符串命开图，然后一个manu，一个呃窗体，每一个。呃呃，菜单还有一个布局，还有一个整形，甚至连它ID啊，然后一个jo也是有相应的一个二内上的一个实现的。哎。

这一个程序，那么这个二类呢可谓责重大。好，那么当然。戴呃。在这里我们要回到这么一个反面义生成的一个目录上。

可以看得到它从这里可以大致的看得到它的这个成这个反面义上成的目录呢和我们的源代码目录是十分相似的，对不对？好，比如说在这里我们可以看到它一个有一个源代码，有一个资源，还有一个miniface。好。

这里也对应着有有一个源代码，有一个比说资源一个maniface，可以看到啊这么一个smar文件，还有我们的一个源文件是高度相似的。哎。

所以说为什么为什么现个现在上的一些呃工具可以导可以导出一些类似于源代码的一个东西。这也是就由于这么一个原因了。这因为一些的资源文件实际上也就一样，可以直接去拿来给我们进行一个使用的。

比如说这里哎这里看到更加它就弄了更特别的细节啊，这里的一个valueue，它就分成了这么多的一个后缀，对应着一个比较大的一个什么东西啊，或者说呃一个什么什么其他属性之类的。

然后API版本也对应在从11到23轮子。它都有一个相应的API版本，甚至连屏幕大小哎都会有一个不同的一个规定。可以看到。我们给印出来资源，其是和我们的一个原始的资源其实是相似的。好。

这也就是我们整一个程序，它一个呃宾例，还有一个反面一的地方。好，那么在这里我们再来对整一个程序完成一个修改吧。比如说这里啊好，比如说这里我要取得它它它的一个自由差的一个值。



![](img/be42712f3ef1fd95cdc972b1083329d7_77.png)

好，在这里找一下。好，在这里valueue是一个自助串，这里存放着是我们整一个程序的一个自助串资源，对不对？在这里我们也可以手手动的修改去插入自己的字符串。比如说好我们这里新建一个自助串。

它的名字叫做嗯。赵一。好，我们加个微信。然后对应的值就是0元全正坛。好，我们尝试着去在我们的原程序中去对它进行一个调用。好呃，我们在这里调字符串的话，是用到这么一个函数的呃，就是普通的一个gues卷了。

你要取它其它其他的一个属性也是类似的也是类似的。比如说get color，对吧？然什么什么之类的。好后这里使用ges然取到一个字符串值，可以看到它后面跟的是一个in值，也就是你source ID好。

可以从上面类似的给推出来，是关在一个阿，然后然然后后面是一个描述的。好R点str，然后4号面com back跟着的是，我们来一个名字。好，那么这里就是一个呃。较为P了，我们来进行看一下一个效果。

可以看到它这里是一个ontra的一个事验的。好，我们来看一下，我们点击这么一个按钮中，它会啊根据我们的所以是不是能够正常找到我们的一个东西了。



![](img/be42712f3ef1fd95cdc972b1083329d7_79.png)

点击哎，可以看到哪一个程序已经呃成功的去找到我们的一个东西了。好，我们可以再呃突发奇想，对不对？我们为整一个程序来插入一个启屏。我们打开一些程序啊，比如说微信啊，然后属于QQ的时候，刚打开的时候。

可以看到这一个程序，可先弹出他们的一个呃图标，对不对？我们也来实现相关的一个内容。好，我们现在把我们的一个目标文件。好，比如说这里我要把这幅图来作为启动的一个框来进行一个插入。我们放到这里这里。



![](img/be42712f3ef1fd95cdc972b1083329d7_81.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_82.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_83.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_84.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_85.png)

好好，我们已经介绍过了，这里的做要补属性，也就是存放一个图片资源的一个提包了。好，我们就来插入把这么一个呃一个图片资源给插入到我们的一个程序中吧。首先我们来创建一个 layoutout。

也就是它刚打开时候，呃先来打开我们的这么一个 layout文件。好，那么这样那么这么一来，它就能够啊对应着一个。对应的打开我们的一个呃一个呃广告图了。好，我们我们名字再取一个名字。



![](img/be42712f3ef1fd95cdc972b1083329d7_87.png)

每字的话就按照自己习惯的去呃，但一般来说一般来说的话就要取得比较有一个建设性。也就是说我们取出来的名字的话，自己一定要看得懂的才行。好，我们在这里的话，就能够通用相应的一个呃呃组件来进行一个实现了。

比如说这里是一个图片资源，对不对？那么对应的图片的话，我们就要通入一个image view。好，灰色已经拖出来了，我们设设置一下它的一个大小，大小是bu power。好，然后它里面的一个呃b。

也就是它里面的内容，内容的话就填充我们的一个呃。听中我我们的一个job里面的一个这么一个back的一个。都西了。嗯找到他哎，找到这么一张图片，点击确定也可以看到这里这里的图片已经填充上去了。



![](img/be42712f3ef1fd95cdc972b1083329d7_89.png)

接着我们再为它来写一个相应的一个调。好。it tense一个从一个T体重进行一个派摄。然后每个IT其中都一定要重写一个onc函数才行的。



![](img/be42712f3ef1fd95cdc972b1083329d7_91.png)

好，再重写一个我们cre的函数。然，重写的时候我们要注意的去呃去把我们的一个函数和我们的一个 layout啊一个布局文件给连接起来。完呢我们还不能够忘记在我们的一个miniface。

说miniface中进行一个注册。按着练成这个哎好结束。好，那么这里就完成一个参入了。那我们要完成这么一个呃启动的时候，先显示我们这一张图片的效果的话，那么那理所当然的话，我们要先启动这么一个页面。

然后在这一个界面中才能够再去打开这么一个东西才行的。所以在这里的话，我们要进行一个调换。哎，我们把它的一个入口点，就是这里进这的一个入口点给改到一个下面的一个文件中去。好，我们进行一个修改哦。

把我们的一个入口点给插下去。好，我们可以看到这理所当然的就会先调用我们的我们的一个sspish的一个页面了。呃，不限的话，也可以呃进来尝试一个运行吧。嗯嗯嗯，这里的中间幅花不是这么小。好。

这里要跟大给推听。

![](img/be42712f3ef1fd95cdc972b1083329d7_93.png)

好，我们来看一下它的运行效果。

![](img/be42712f3ef1fd95cdc972b1083329d7_95.png)

哎，可以看到它已经会打开我们那一个技能了。因为但是它还是我们会自动自动的去弹到我们的这么一个呃文件中去。好，我们这里再需要插入其他一个代码。呃，大家都知道啊啊，前面已经说到了啊。

这里是使用一个t具体来进行一个呃。来打进行一个打开的。好，前面的一个参数是 this。然后第二个参数是一个对应的class的一个参数。好，呢件事。



![](img/be42712f3ef1fd95cdc972b1083329d7_97.png)

好，那么这样运起下来效果是怎么样？

![](img/be42712f3ef1fd95cdc972b1083329d7_99.png)

对，可以看到这次他就创建的时候就马上进行一个打开了，之显然也不符。好，那么这里我们就要用到一个handler的一个东西了。啊，handler的话。嗯，看一下。就是呃这里的一个。嗯。

看一下A多 call back。看一下。Post delete。呃，对于这样的handler，也就是对应着我们的一个整一个安卓程序中的一个消息。呃，这么一个消息，也就是一个handler。

它是和windle上的一个消息是很类似的。它是根据一个消息的机制去进行一个运行的。那么这里的一个消息呃它大的一个所用。这个可能需要大家去看一下相关的一个呃实现。比如说相关的一网上相关的一个介绍。

那么这里的话唉我就会以啊调用一个延迟消息，可以看到一个pos的一个 delaylay。也就是我们延迟一段的时间。比如说我们这里延迟5000毫秒。我们这个连重50千毫秒再触发这么一个万的一个动作。好。

那么我们再来尝试一下。

![](img/be42712f3ef1fd95cdc972b1083329d7_101.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_102.png)

好，这是一个消学内容，可以看到它先会弹出我们的一个框，然后在5000秒，也就是5秒以后就会弹出我们下一个框架。好，那么这里就是最为基础的一个呃呃一个。splish就是我们的一个图片的一个cher。

那当然我们先在我这里给大家介绍一个一个这么一个slish啊。呃，我们毕竟是做立向的，目的并不在于偏酬。如果我只在叫大家去猜一个slish的话，就没有什么意思了。



![](img/be42712f3ef1fd95cdc972b1083329d7_104.png)

好，那么就来开始我们这一节课真正的内容了。呃，这一节课好打算来做一些猥琐一点的事情。

![](img/be42712f3ef1fd95cdc972b1083329d7_106.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_107.png)

具体来说的话，就是我们要盗取别人的版权。比如说这里这么1个APK文件，我要把它的一个启动的一个。

![](img/be42712f3ef1fd95cdc972b1083329d7_109.png)

启启启启动的一个屏幕，或者说它启动前，我们给它参与一个版权声明，把它声明是我自己的。唉，我们把它版权给倒过来了。好，我们来试一下能不能不能够实现啊。



![](img/be42712f3ef1fd95cdc972b1083329d7_111.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_112.png)

好，呃，不能够实现，我们来尝试一下。首先我们要插入我们的这么一个ssplish的一个代码，对不对？因为这里整一个就是我们的一个相关的一个呃图片的一个东西了。我们把这个图片给插进去。



![](img/be42712f3ef1fd95cdc972b1083329d7_114.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_115.png)

还是一样，先对相关的一个文件进行一个反面译。呃，CD是一个很容易吧。嗯。嗯，那当然这里只是呃简单的给大家来介绍一下我们是怎么对资源进行一个修改的。但实际的应用中的话呃，原理是类似的。

可能操作起来会比较繁琐。呃，至于有没有相关工具，我也不知道。啊，其实它的一个修改原理啊，如果以后你们想对一个哪一个程序进行一些其他修改，想插入其他一个窗体啊之类的。那么用的方法哎也都是这么一个样子的。

呃，大同小异。只要你对整一个安卓的一个布局有足够熟悉的话，就可以觉得一个修改会困难了。

![](img/be42712f3ef1fd95cdc972b1083329d7_117.png)

好好嗯，那么这里我们就等一个程序去完成一个反变例吧。

![](img/be42712f3ef1fd95cdc972b1083329d7_119.png)

好，这里已经比你好。好，我们来看一下整一个程序吧。呃整一个程序它只有一个最简单的这一个入口点，是一个这一个main体中。



![](img/be42712f3ef1fd95cdc972b1083329d7_121.png)

好，那么在这里我们就要为这么一个min的t体来插入我们的一个内要了。首先是一个代码上的一个插入。我们我们先要把我们的呃几个包给插进去。首先是这么一个代码，接着是对应着这么一个内要。

最后再把我们的一个mhat体中进行一个注册。理论上只要我们把这三个给完成了。哎，那么我们的插入就已经结束了。



![](img/be42712f3ef1fd95cdc972b1083329d7_123.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_124.png)

好，这大家这大家做的只是一个旅号。我们来尝试一下实际操作起来会是怎么样子呢。好。也是一样呃等于一个程序完成一个反面预吧。呃，在这么一个安装Q了中，可以看到我这里它反面页速度比较慢。

是因为我原始的一个文文件夹中，这里开始下它的说有太多太多的一个项目所导致的。那么这种情况一般来说，然后把对应的不需要上游项目给删掉的话，那么这里的反面译速度就会快很多了。呃。

这也大概也算是一个安卓 key中的一个bug吧。也只能理解为一个bug了。

![](img/be42712f3ef1fd95cdc972b1083329d7_126.png)

嗯，这个问题一直以来都没有得到很好的优化。呃，我希望做者在下一版本中能够有改进了。

![](img/be42712f3ef1fd95cdc972b1083329d7_128.png)

好。在这里我们就要来找到对应的一个实现。首先是一个源代码的一个实现。我们找到这么要抄的ssplish代码，总共有两个，我们把这两个点插进去。好，打开它的一个程序的一个目录。把无关的给关掉。好。

这里是我们的一个文件，然后一个是一个目标文件呃，对应的地方去打开一下。好好，那么这里我们把一个smart代码中对应的方法实现给拷贝过去。首先是这么一个内容。我们添加我们添加这么一个类。

好后面跟着是一个hello的一个类。接着对应的这是我们sbulish实现的两个原始代码文件，就这两个。好，这里就插入了我们的一个代码，对应着我们插入了这么一个地方。

接着我们插入一个ressource文件，也就是资源文件了，就是这么一个SML的布局文件。

![](img/be42712f3ef1fd95cdc972b1083329d7_130.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_131.png)

我们找到我们找到这么一个布鱼。好，是勒到里面的。好。spotlish就是就是这一个，我们给拷贝到对应的一个地方，也找到内要证里。如果没有的话，就自己去进进行一个新建。好。

接着再在我们的一个minifi中进行一个注册。嗯。好，minifiminifi好，在这里。进行一个注册，对应的就是这里。喂。好，我们把这里拷虑上去，但是这请对应一下啊，把我我们把这个给拷虑过来之后呢。

整一个程序就会有两个入口点啊，这是不对的。我们把以前的给删掉，让他先从我们这里进入。好。我们在理论上，这里就我们帮我们给啊弄给需要插入的第一中西给一个弄好，我们进行一个病例。

来看一下一个变历的一个效果吧。哎，可以看到整一个程序报错了。哎，当程序报错的时候，不要急着去把这个图给截图，然后问我们是什么。那其实啊这里的错误的原因呢都会在整一个呃这整一个错误原因都会在这里有说明了。

这种时候啊最快的方法应该是去好好的去看一下这里的错误原因才是对的。比如说这里他就说了哎这些错误就要说在no resource for damage given value什么什么哎。

就是说它没有办法在这么一个IT的属性中找到对应的这么一个I image view的一个文件。接着然后它是一个第二个错误，它没有办法找到这么一个jub一个b的一个东西。哎。

也可以看到这么一个jub back，实际上就是我们整一个图片会发现我们没有我们把这么一个类案文件给弄过来的时候，没有把它依相关的依赖文件给拷贝过来。哎，这么这么一来，我们就找到错误的地方了。

比如说这里它调用到这么一个东西，这么一个应ag准备的一个东西，在后面再过一下。他还会发现他又调用到这么一个呃job的一个b的一个文件。



![](img/be42712f3ef1fd95cdc972b1083329d7_133.png)

啊，就是这么一个文件。

![](img/be42712f3ef1fd95cdc972b1083329d7_135.png)

好，既然知道错误在哪，我们就把相应的东西给拷过来给修复一下。

![](img/be42712f3ef1fd95cdc972b1083329d7_137.png)

还是一样，找到对应的文件。首先是一个jo的一个文件。好，这是每一个文件夹。好，可以看到这里是没有的一个db文件，我们直接进行一个新建好。呃，安卓系统有有足控的智能给予给一个进行一个识别的。

然后文件给添加进去以后进行一个刷新。好，就能够看到一个C别到了。那么这里就把我们的一个bedd给一个添加过去了，但是仅仅是这样添加是完全不够的。是完全不够的，我们呃在后面再慢慢说明。好。

那么在这里可以看到它还会调用到一个immail的一个东西。这是一个什么东西啊？我们进行一个搜索。好，我们在原文件中进行一个搜索，搜索整个项目。好，嗯。

可以看到可以看到这个image view它是重新输出一个ID的，可以这里找到。哎，可以在里在这里找到在一个al类中，一个ID的一个子类中会发现是有我们一个imagage的一个声明呢。哎，这是为什么？

就证明了它它就说明了我们整一个原程序啊，它并没有声明这么一个名称的一个东西，就导致我们一个程序的一个并列输送。哎，所以会以发现呢，那这里我们移植的时候。

就要把这么一个al类给相关的东西给进行一个修复才行。好，我们既然说到这了，我们就来进行一个呃相应的一个修复吧。呃，里面的一些内容话，我们进行一个记录。

比如说比如说自己的image view对应的是这么一个属性文件。我们哎我来说一下。它总共有呃它的地值总共存现在这么两个地方。也可以看到这里是一个pub文件，还有一个是al文件，al文件是我们关心的。

然后这里的p文件它是什么意思啊？啊，这么一个p文件可以看到它是规定了呃这么一个资源啊，这么属于这么类型的资源，然后这么名称的资源，它规定了它的1个IDID的值啊，就是它的一个索引呢值给规规定时了。

是这么一个东西它是进行这么一个规定的一个东西的。好，我们移植的时候，就要把这么这么多东西给相应的给修附一下。好，首先找到这么1个R个ID的一个东西。呃，R楼ID。呃，在smar文件夹中。

然后是它一个BD的根录录像，可以看到这眼经有了。好，我们把相关的代码给插过去。好，这是一个public上的一个对应的文件的一个一个修复。好，我们也找到publicpub的话在valueue件夹中有。

这是只有在反变译刷来代码中才可以出现了。呃，它就会使得我们无论在反变译还是编译中，它就规定了规定死了，规定死了这么一个呃名称的值，这么名称的一个资源文件肯定对应的这么1个ID的值。

这是呃唯一的那是肯定是唯一的。如果它出现多个花机会报出相应的错误的。好，我们再来回到我们的这么一个b的一个图片吧。好，那么在这里我们在已经说了呃，既然这么一个ID它是有一个iner值了。

那么对应的这么一个b图片，那它当然也是有一个inter值了啊，那当然这里的话我就相应的进行一个修复。那当然这里的会不就算不进行修复也应该没有什么问题的。我们搜索一下在p文件中搜索一下。

可以看到这么一个back资源，它是对应在一个jo里面的。然后它的一个int索引呢是这么多，我们收一这么一个索引。把相应的东西给添加上去。好，听到一个ply上去呃，注意一下，这里是jo up。

我们找到和jo up相邻的一个地方填上去。接着还不够啊还不够啊，可以看到这里是job资源。那想理所当然的，他也在allo，然后干一个job部job就呢有相应相应的一个声明的。我们找到对应的一个实现。

然后把它找上去进行一个查找。This is back。做厕索。好，可以看到这也是有对应的一个实线。好，找到一个呃d，把它的一个东西给拷过去。呃，对应着泡笔的值。这个p里就这么一个东西给烤下来。好。

那么这两个算是恢复完成，我们再来进行一个B例。那么这次结果哎它还是爆出。好，那么我们再来找一下什么问题吧。ID什么什么什么然后好，那么这里他的意思就是说哎他没有办法在一个ID中给以找到我们的一个值。

就这里的ID唉，其实这里的ID并不只这么一个东西的，它还有一个IDS的一个东西。对呀，应该在这里呢，看到。呃，不信的话可以在这里给找一下。好，可以看到所谓的ID的话。

它也在1个IDS中有相应的一个声明的。那么对应的如果是自我测自源的话，也会在一个相应的SML文件中有相应的一个声明的一个东西。哎，它可以说我们在这里。啊，其实我们这里没有给相应的一个实现。

所以导致导致这么一个文件，没有办法给寻找出来。这是呃。这是很理所当然的好，我们来进行一个搜索匹配大小写，就会看到它这里一个imagage view总共有这么总共在这么多5个地方中进行一个呃出现。好。

这里实际上用到就就这四个地方，就证明了我们需要在这么四个地方中相应的文件给添加上添加上它的一个对应的实现才行的。好，这里已经添加完了再来进行一个拼例。哎，可以看到。好，这也可以看到这里它同样还是一样。

继续的给我们报出了一个错误，但这次有点不一样，它并没有具体的说明一个错误的一个信息。好，这这就证明了我们在语法方面呢是没有任何问题的。它从语法中是没有办法找到我们我们的问题。

但是实际上我们还是有问题出现了，那又是为什么呀？哎，其实这一切都是从关于和这么一个public的一个属性相关的。呃，在这里我们观察一下规律就可以知道啊。这里，比如说在这里的郡授串。

可以看到这里每一个均资源呢都是相一点的。比如说这也是400，那么它身边跟4011后402这么一个个相连下去的。但是我们这里这些后面插入了一些东西的话，和上面的反而却差了不止一个差了很远啊。

那么这里就显然不行了。整一个程序它是不能够这么一个识别了。所以我们这里就需要对。相应的对它的1个ID的一个值进行一个修复。好，比如说在这里我们就把这么一个job给修复成它相邻的一个呃。

值比如说在这里的一个22没有用到，我们就搜索这么一个词，给它给替换成一个。啊，2002。好，那么对应的我们。这里我们对的呃也需要把一个imagage review来进行一个修复。呃。

这里也是对应的IDID的话是760CF06的一个更西。好，我们也修列售货为7606附近啊。大家请注意一下这里的一个字符串的一个这里的inter值的新复，他一定要用是这一个全局搜索才行。

它不可它不仅在XNML中出现，也很有可能在mar中进行一个出现了。好，我们替换成这么一个东西。好，替换。我们再来进行一个定义。好啊，后面可以看到这一次就编辑完成了。我们来看一下音体效果。



![](img/be42712f3ef1fd95cdc972b1083329d7_139.png)

哎哎哎把出现错误了，程序闪退了，这怎么回事啊？程序闪退了。好，那么这个这种时候哎程序退出了，我们就来找相相应的原因，打开我们的一个安卓mon来查找一下它出现错误的一个代码。



![](img/be42712f3ef1fd95cdc972b1083329d7_141.png)

那请大家记住啊，出现错误的时候，第一步应该是自己去想办法去寻找它出错的一个地方来进行一个修复。这样才能够得到一个进步的。好，在网上找一下，可以看到这里已经把一个报错信息给打印出来了。好，我们再翻一下。

哎，我如果看到看到的话，可进行一个刷新，然后呢重新打开我们的一个程序。好，比如说这么一个程序，就是它这里好。去打开，然后哎这里其实就是它出现了一个原因了。好。

这里的报错原因就是一个ja量一个wintime session，然后一个unable to start activity。好，它就说我们一个呃resource low session。

然后resource ID low form他说我们这么一个资源的一个ID值，没有被发现这么1个ID值是怎么回事啊，我们还没修复好，对不对？那显示没有修复好。对好，我们就回头来找一下这么1个ID值。

是一个啊。是这么一个东西。我们给找到。呃，7F04031们来原车需用进行一个搜索。对，可以看到在pub中上面有内out中声明，在源代码中也有进行到一个使用。可以看到呢，实际上这里是在我们把1个SML。

也就是布置的S layoutR文件中给引入来的时候，忘记了把它一个相应的一个类out文件中给进行一个声明了。因为没有声明，它也就没有办法从我们这样一个 layoutout中类中去找得到相关的一个实现。

好，这里我们就对它进行一个补充。好，添加回去。这里是一个奥尔3，然后是一个泡皮粥。呃，所以啊在这里就算一个变异通过的时候，也是很有可能有各种各样的一个一个坑的。这里请大家注意一下。好，那么相对应的。

这里也就和我们把我们改成了我们上面呃附近的一个东西。比如说这里要和要和我们上面的一个 layout布局给相邻了。好，上面是3000，我们的下面就使用3001。好给加海去。嗯，好。呃呃出了点问题。

我们再来一遍啊public中，我们把这么一个类案文件中给拷过去。は。对应文件给拷过去，然后搜索这么一个东西给给进行一个替换。这里就换成1个3001。呃，那当然就算的话。

这里就算画成1个33002也是可以的，只要和上面的在同一个字段中就可以了。具体就表现为它后面前面四个字符是必须要相等的才行。好，这就是一个同一个字段的一个意思。我们再来进行一个编页来运行。

来看一下一个运行效果安装。唉，也可以看到已经成功的去打开我们的一个spoty界面了。好，唉，但但是在它即将切换到第二屏的时候，就报出一个错误。这是为什么？我们继续的再来看一下它的一个错误代码。哎。

可以看到。它会报一个no class session，然后就是这里一个class呢是对应着我们原来程序的一个magac teach了。那也可以看到这里那么这里就是我们一个源代码的一个错误了。

在这里我们把整一个程序的一个代码给插过来的时候呢，忘记了对应的把它一个呃第二个打开内中给进行一个相应的一个修改。比如说这里调t action写的时候，还是要调用还有我们原始的一个magac的一个类。

这里它没有就报出一个错误。好，那么这里我们就进行一个相应相应的一个修改，给改成它的一个magac，就是它的这么一个类中。好改回去啊，这里是类的一个声明，以L开始，然后是一个类。

然后中间隔开的话用一个斜杠。陶睡。好，对应在这里给改完以后再来进行一个编译。확点서。他的这样的一个这样一来，它的效果到底如何？让我们自目以待。哎，可以看到整一个程序就已完美运行了。

而我们也完成了我们呃整一个资源文件的一个插入。哎，可以看到其其实整一个操O的一个过程呢，它原理是并不难的，可能操作上有点复杂。啊，但也是处于一个可以接受的一个范围。如果你遇到一个更加难的一个程序。

或者说你要插入的一个内容，给更加庞大的话，它相应的修改方法也是一模一样的，也是一模一样的那当然还是需要去注意一下这么一个p的一个属性的一个值。这里的ID值一定要唯一才行。

接着这里的一个al文件也相关的一些东西也要进行一个插入进行一个声明才可以。那么最后呢，还需要把一个相关的代码给进行一个修改，使它给只只要只要它给完美的融合到整一个程序中。好。

这里的话就是整一个呃代码的一个插入了。🎼这也是我们这节课重点要做了一个资源修改。那么这一节课作业的话就相对来说比较简单了。那么请大家来根据我的我的一个修改了，来完成这么一个呃资源文件的一个插入吧。好。

那么这节课就到此为止，谢谢大家。

![](img/be42712f3ef1fd95cdc972b1083329d7_143.png)