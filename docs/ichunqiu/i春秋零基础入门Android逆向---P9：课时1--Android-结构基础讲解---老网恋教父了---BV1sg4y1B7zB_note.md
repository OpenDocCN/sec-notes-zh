![](img/be42712f3ef1fd95cdc972b1083329d7_1.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_3.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_5.png)

# iæ˜¥ç§‹é›¶åŸºç¡€å…¥é—¨Androidé€†å‘ - P9ï¼šè¯¾æ—¶1 Android ç»“æ„åŸºç¡€è®²è§£ ğŸ—ï¸

![](img/be42712f3ef1fd95cdc972b1083329d7_7.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_8.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_9.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_11.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_12.png)

åœ¨æœ¬èŠ‚è¯¾ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ Androidåº”ç”¨ç¨‹åºçš„åŸºç¡€ç»“æ„ã€‚æˆ‘ä»¬å°†é€šè¿‡åˆ†æä¸€ä¸ªç®€å•çš„â€œHello Worldâ€ç¨‹åºï¼Œäº†è§£å…¶æ ¸å¿ƒç›®å½•ã€èµ„æºæ–‡ä»¶çš„ä½œç”¨ä»¥åŠä»£ç ä¸èµ„æºä¹‹é—´çš„å…³è”æ–¹å¼ã€‚æœ€åï¼Œæˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªå®è·µæ¡ˆä¾‹ï¼Œå­¦ä¹ å¦‚ä½•ä¿®æ”¹å’Œæ’å…¥èµ„æºæ–‡ä»¶ã€‚

![](img/be42712f3ef1fd95cdc972b1083329d7_14.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_15.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_17.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_18.png)

## æ¦‚è¿°

![](img/be42712f3ef1fd95cdc972b1083329d7_20.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_21.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_22.png)

Androidåº”ç”¨ç¨‹åºç”±ä»£ç ã€èµ„æºå’Œé…ç½®æ–‡ä»¶ä¸‰å¤§éƒ¨åˆ†ç»„æˆã€‚ç†è§£è¿™ä¸‰è€…çš„å…³ç³»å’Œç»„ç»‡æ–¹å¼ï¼Œæ˜¯è¿›è¡ŒAndroidé€†å‘åˆ†æçš„åŸºç¡€ã€‚æœ¬èŠ‚å°†è¯¦ç»†è§£æä¸€ä¸ªæ ‡å‡†Androidé¡¹ç›®çš„ç›®å½•ç»“æ„ã€‚

![](img/be42712f3ef1fd95cdc972b1083329d7_24.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_25.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_27.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_29.png)

## Androidç¨‹åºåŸºç¡€ç»“æ„

![](img/be42712f3ef1fd95cdc972b1083329d7_30.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_31.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_33.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_35.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_36.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬ä»‹ç»äº†è¯¾ç¨‹ç›®æ ‡ï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬æ¥çœ‹çœ‹ä¸€ä¸ªæ ‡å‡†Androidé¡¹ç›®çš„å…·ä½“æ„æˆã€‚

![](img/be42712f3ef1fd95cdc972b1083329d7_38.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_40.png)

æˆ‘ä»¬ä½¿ç”¨Android Studioåˆ›å»ºä¸€ä¸ªæœ€åŸºæœ¬çš„â€œHello Worldâ€ç¨‹åºä½œä¸ºç¤ºä¾‹ã€‚åˆ›å»ºè¿‡ç¨‹éµå¾ªé»˜è®¤è®¾ç½®å³å¯ã€‚

![](img/be42712f3ef1fd95cdc972b1083329d7_41.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_43.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_45.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_47.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_48.png)

å½“é¡¹ç›®é¦–æ¬¡æ„å»ºæ—¶ï¼ŒIDEä¼šä»ç½‘ç»œä¸‹è½½å¿…è¦çš„ä¾èµ–åº“ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯èƒ½è¾ƒæ…¢ã€‚å»ºè®®ä¿æŒç½‘ç»œé€šç•…ï¼Œç¡®ä¿æ‰€æœ‰ä¾èµ–ä¸‹è½½å®Œæˆï¼Œä»¥é¿å…åç»­ç¼–è¯‘é—®é¢˜ã€‚

![](img/be42712f3ef1fd95cdc972b1083329d7_50.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_51.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_53.png)

é¡¹ç›®åˆ›å»ºå®Œæˆåï¼Œæˆ‘ä»¬åˆ‡æ¢åˆ°â€œProjectâ€è§†å›¾ï¼Œè¿™æ˜¯æœ€æ¥è¿‘åŸå§‹ä»£ç ç»“æ„çš„å¸ƒå±€ã€‚åœ¨`app`æ¨¡å—ä¸‹ï¼Œä¸»è¦åŒ…å«ä¸‰ä¸ªæ ¸å¿ƒç›®å½•ï¼š

![](img/be42712f3ef1fd95cdc972b1083329d7_55.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_57.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_58.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_60.png)

1.  **`java`ç›®å½•**ï¼šå­˜æ”¾ç¨‹åºçš„Java/Kotlinæºä»£ç ã€‚
2.  **`res`ç›®å½•**ï¼šå­˜æ”¾ç¨‹åºçš„æ‰€æœ‰èµ„æºæ–‡ä»¶ï¼Œå¦‚å›¾ç‰‡ã€å¸ƒå±€ã€å­—ç¬¦ä¸²ç­‰ã€‚
3.  **`manifests`ç›®å½•**ï¼šå­˜æ”¾`AndroidManifest.xml`æ–‡ä»¶ï¼Œç”¨äºå‘ç³»ç»Ÿå£°æ˜åº”ç”¨ç¨‹åºçš„ç»„ä»¶ã€æƒé™ç­‰å…ƒä¿¡æ¯ã€‚

![](img/be42712f3ef1fd95cdc972b1083329d7_62.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_64.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_66.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_67.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_69.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_71.png)

`AndroidManifest.xml`æ–‡ä»¶è‡³å…³é‡è¦ï¼Œå®ƒæ³¨å†Œäº†ä»£ç å’Œèµ„æºï¼Œå‘ŠçŸ¥Androidç³»ç»Ÿåº”ç”¨ç¨‹åºçš„å…¥å£å’Œæ‰€éœ€ç»„ä»¶ã€‚

![](img/be42712f3ef1fd95cdc972b1083329d7_73.png)

## èµ„æºç›®å½•è¯¦è§£

![](img/be42712f3ef1fd95cdc972b1083329d7_75.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬ä»‹ç»äº†æ ¸å¿ƒç›®å½•ï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬æ·±å…¥äº†è§£ä¸€ä¸‹`res`èµ„æºç›®å½•ä¸‹çš„å„ä¸ªå­æ–‡ä»¶å¤¹ã€‚

![](img/be42712f3ef1fd95cdc972b1083329d7_77.png)

ä»¥ä¸‹æ˜¯`res`ç›®å½•ä¸‹å¸¸è§æ–‡ä»¶å¤¹åŠå…¶ä½œç”¨çš„è¯´æ˜ï¼š

![](img/be42712f3ef1fd95cdc972b1083329d7_79.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_81.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_82.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_83.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_84.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_85.png)

*   **`drawable`**ï¼šç”¨äºå­˜æ”¾å›¾ç‰‡èµ„æºï¼ˆå¦‚PNGã€JPEGæ–‡ä»¶ï¼‰å’ŒXMLå®šä¹‰çš„å›¾å½¢ã€‚
*   **`layout`**ï¼šå­˜æ”¾å®šä¹‰ç”¨æˆ·ç•Œé¢å¸ƒå±€çš„XMLæ–‡ä»¶ã€‚
*   **`menu`**ï¼šå­˜æ”¾å®šä¹‰åº”ç”¨ç¨‹åºèœå•ï¼ˆå¦‚é€‰é¡¹èœå•ï¼‰çš„XMLæ–‡ä»¶ã€‚
*   **`mipmap-<density>`**ï¼šä¸“é—¨ç”¨äºå­˜æ”¾åº”ç”¨ç¨‹åºå›¾æ ‡ï¼Œé’ˆå¯¹ä¸åŒå±å¹•å¯†åº¦ï¼ˆå¦‚`hdpi`, `xhdpi`ï¼‰è¿›è¡Œäº†ä¼˜åŒ–ï¼Œç³»ç»Ÿä¼šæ ¹æ®è®¾å¤‡åˆ†è¾¨ç‡è‡ªåŠ¨é€‰æ‹©ã€‚
*   **`values`**ï¼šå­˜æ”¾å®šä¹‰ç®€å•å€¼çš„XMLæ–‡ä»¶ï¼Œå¦‚å­—ç¬¦ä¸²ã€é¢œè‰²ã€å°ºå¯¸å’Œæ ·å¼ã€‚
*   **`values-<qualifier>`**ï¼šè¿™æ˜¯`values`ç›®å½•çš„å˜ä½“ï¼Œç”¨äºä¸ºä¸åŒé…ç½®ï¼ˆå¦‚APIç‰ˆæœ¬`v21`ã€å±å¹•æœ€å°å®½åº¦`w820dp`ï¼‰æä¾›ç‰¹å®šçš„èµ„æºå€¼ã€‚ç³»ç»Ÿä¼šä¼˜å…ˆåŒ¹é…æœ€ç¬¦åˆå½“å‰è®¾å¤‡æ¡ä»¶çš„èµ„æºã€‚

![](img/be42712f3ef1fd95cdc972b1083329d7_87.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_89.png)

è¿™ç§é€šè¿‡æ–‡ä»¶å¤¹åç¼€ï¼ˆé™å®šç¬¦ï¼‰è¿›è¡Œèµ„æºåŒ¹é…çš„æœºåˆ¶ï¼Œä½¿å¾—Androidåº”ç”¨èƒ½å¤Ÿå¾ˆå¥½åœ°é€‚é…å„ç§ä¸åŒåˆ†è¾¨ç‡ã€ç³»ç»Ÿç‰ˆæœ¬çš„è®¾å¤‡ã€‚

![](img/be42712f3ef1fd95cdc972b1083329d7_91.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_93.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_95.png)

## ä»£ç ä¸èµ„æºçš„å…³è”

![](img/be42712f3ef1fd95cdc972b1083329d7_97.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_99.png)

ä¸Šä¸€èŠ‚æˆ‘ä»¬äº†è§£äº†èµ„æºæ˜¯å¦‚ä½•ç»„ç»‡çš„ï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬æ¥çœ‹çœ‹ä»£ç æ˜¯å¦‚ä½•å¼•ç”¨è¿™äº›èµ„æºçš„ã€‚

![](img/be42712f3ef1fd95cdc972b1083329d7_101.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_102.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_104.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_106.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_107.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_109.png)

åœ¨Androidä¸­ï¼Œæºä»£ç å’Œèµ„æºæ–‡ä»¶æ˜¯åˆ†ç¦»çš„ã€‚ç³»ç»Ÿé€šè¿‡ä¸€ä¸ªç”±ç¼–è¯‘è¿‡ç¨‹è‡ªåŠ¨ç”Ÿæˆçš„`R`ç±»æ¥å»ºç«‹ä¸¤è€…ä¹‹é—´çš„æ¡¥æ¢ã€‚`R`ç±»ä¸ºæ¯ä¸ªèµ„æºåˆ†é…ä¸€ä¸ªå”¯ä¸€çš„`int`å‹IDï¼ˆç´¢å¼•ï¼‰ã€‚

![](img/be42712f3ef1fd95cdc972b1083329d7_111.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_112.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_114.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_115.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_117.png)

ä¾‹å¦‚ï¼Œåœ¨Activityçš„`onCreate`æ–¹æ³•ä¸­ï¼Œé€šè¿‡`setContentView(R.layout.activity_main)`è®¾ç½®å¸ƒå±€ã€‚è¿™é‡Œçš„`R.layout.activity_main`å°±æ˜¯ä¸€ä¸ªæŒ‡å‘`layout/activity_main.xml`æ–‡ä»¶çš„æ•´å‹IDã€‚

![](img/be42712f3ef1fd95cdc972b1083329d7_119.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_121.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_123.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_124.png)

åç¼–è¯‘APKåï¼Œå¯ä»¥åœ¨`smali`ä»£ç ä¸­çœ‹åˆ°ç±»ä¼¼`const v0, 0x7f0c001c`çš„æŒ‡ä»¤ï¼Œè¿™ä¸ªåå…­è¿›åˆ¶æ•°å°±æ˜¯èµ„æºIDã€‚`R.java`æ–‡ä»¶åˆ™å®šä¹‰äº†è¿™äº›IDä¸èµ„æºåç§°çš„æ˜ å°„å…³ç³»ï¼Œå…¶ç»“æ„å¯èƒ½å¦‚ä¸‹ï¼š

![](img/be42712f3ef1fd95cdc972b1083329d7_126.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_128.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_130.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_131.png)

```java
public final class R {
    public static final class layout {
        public static final int activity_main = 0x7f0c001c;
    }
    public static final class string {
        public static final int app_name = 0x7f1000e1;
    }
    // ... å…¶ä»–èµ„æºç±»å‹ï¼ˆid, drawable, colorç­‰ï¼‰
}
```

åœ¨ä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å½¢å¦‚`getString(R.string.app_name)`çš„æ–¹æ³•ï¼Œä¼ å…¥èµ„æºIDæ¥è·å–å…·ä½“çš„èµ„æºå€¼ã€‚

![](img/be42712f3ef1fd95cdc972b1083329d7_133.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_135.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_137.png)

## å®è·µï¼šä¿®æ”¹ä¸æ’å…¥èµ„æº

ä¸Šä¸€èŠ‚æˆ‘ä»¬ç†è§£äº†å…³è”åŸç†ï¼Œæœ¬èŠ‚ä¸­æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®é™…æ¡ˆä¾‹æ¥å­¦ä¹ å¦‚ä½•ä¿®æ”¹APKçš„èµ„æºã€‚

æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ä¸ºä¸€ä¸ªç°æœ‰çš„APKæ’å…¥ä¸€ä¸ªå¯åŠ¨å±ï¼ˆSplash Screenï¼‰ï¼Œå®ç°â€œç›—ç”¨ç‰ˆæƒâ€çš„æ•ˆæœã€‚æ ¸å¿ƒæ­¥éª¤å¦‚ä¸‹ï¼š

1.  **åç¼–è¯‘ç›®æ ‡APK**ï¼šä½¿ç”¨å·¥å…·ï¼ˆå¦‚Apktoolï¼‰å°†APKåç¼–è¯‘ä¸º`smali`ä»£ç å’Œèµ„æºæ–‡ä»¶ã€‚
2.  **å‡†å¤‡å¾…æ’å…¥å†…å®¹**ï¼š
    *   **ä»£ç **ï¼šå‡†å¤‡å¯åŠ¨å±Activityçš„`smali`ä»£ç ã€‚
    *   **èµ„æº**ï¼šå‡†å¤‡å¯åŠ¨å±çš„å¸ƒå±€æ–‡ä»¶ï¼ˆ`layout/splash.xml`ï¼‰å’Œå›¾ç‰‡èµ„æºï¼ˆæ”¾å…¥`drawable`æˆ–`mipmap`ï¼‰ã€‚
    *   **é…ç½®**ï¼šä¿®æ”¹`AndroidManifest.xml`ï¼Œå°†å¯åŠ¨å±Activityè®¾ç½®ä¸ºæ–°çš„åº”ç”¨å…¥å£ï¼ˆ`LAUNCHER`ï¼‰ã€‚
3.  **æ•´åˆä¸ä¿®å¤**ï¼š
    *   å°†ä»£ç å’Œèµ„æºæ–‡ä»¶å¤åˆ¶åˆ°åç¼–è¯‘ç›®å½•çš„å¯¹åº”ä½ç½®ã€‚
    *   å…³é”®æ­¥éª¤æ˜¯ä¿®å¤èµ„æºIDå†²çªã€‚éœ€è¦æ›´æ–°`res/values/public.xml`å’Œ`R$xxx.smali`æ–‡ä»¶ï¼Œç¡®ä¿æ–°æ’å…¥èµ„æºçš„IDå”¯ä¸€ä¸”ä¸ç°æœ‰IDèŒƒå›´åè°ƒã€‚é€šå¸¸éœ€è¦å°†æ–°IDè®¾ç½®ä¸ºç°æœ‰åŒç±»IDçš„ç›¸é‚»å€¼ã€‚
    *   æ£€æŸ¥ä»£ç ä¸­çš„ç¡¬ç¼–ç èµ„æºIDå¼•ç”¨ï¼ˆå¦‚åœ¨`smali`ä¸­ï¼‰ï¼Œç¡®ä¿å®ƒä»¬æŒ‡å‘æ­£ç¡®çš„èµ„æºã€‚
4.  **å›ç¼–ä¸æµ‹è¯•**ï¼šä½¿ç”¨å·¥å…·å°†ä¿®æ”¹åçš„æ–‡ä»¶é‡æ–°æ‰“åŒ…æˆAPKï¼Œç­¾åå¹¶å®‰è£…æµ‹è¯•ã€‚

![](img/be42712f3ef1fd95cdc972b1083329d7_139.png)

![](img/be42712f3ef1fd95cdc972b1083329d7_141.png)

è¿™ä¸ªè¿‡ç¨‹åŸç†ä¸å¤æ‚ï¼Œä½†æ“ä½œéœ€ç»†è‡´ï¼Œå°¤å…¶è¦æ³¨æ„èµ„æºIDçš„å”¯ä¸€æ€§å’Œæ­£ç¡®æ€§ã€‚ä»»ä½•èµ„æºIDæœªå®šä¹‰æˆ–å†²çªéƒ½ä¼šå¯¼è‡´ç¼–è¯‘å¤±è´¥æˆ–è¿è¡Œæ—¶å´©æºƒã€‚

## æ€»ç»“

æœ¬èŠ‚è¯¾ä¸­æˆ‘ä»¬ä¸€èµ·å­¦ä¹ äº†Androidåº”ç”¨ç¨‹åºçš„åŸºç¡€ç»“æ„ã€‚æˆ‘ä»¬æ˜ç¡®äº†`java`ã€`res`ã€`manifests`ä¸‰å¤§æ ¸å¿ƒç›®å½•çš„èŒè´£ï¼Œäº†è§£äº†èµ„æºå¦‚ä½•é€šè¿‡é™å®šç¬¦é€‚é…ä¸åŒè®¾å¤‡ï¼Œå¹¶æŒæ¡äº†ä»£ç é€šè¿‡`R`ç±»ç”Ÿæˆçš„èµ„æºIDä¸èµ„æºå…³è”çš„æœºåˆ¶ã€‚

![](img/be42712f3ef1fd95cdc972b1083329d7_143.png)

æœ€åï¼Œé€šè¿‡ä¸€ä¸ªæ’å…¥å¯åŠ¨å±çš„å®æˆ˜æ¡ˆä¾‹ï¼Œæˆ‘ä»¬ä½“éªŒäº†ä¿®æ”¹APKèµ„æºçš„åŸºæœ¬æµç¨‹å’Œæ³¨æ„äº‹é¡¹ï¼Œç‰¹åˆ«æ˜¯èµ„æºIDçš„ä¿®å¤ï¼Œè¿™æ˜¯é€†å‘ä¿®æ”¹ä¸­çš„å…³é”®ç¯èŠ‚ã€‚ç†è§£è¿™äº›åŸºç¡€çŸ¥è¯†ï¼Œæ˜¯åç»­è¿›è¡Œæ›´æ·±å…¥é€†å‘åˆ†æçš„é‡è¦å‰æã€‚