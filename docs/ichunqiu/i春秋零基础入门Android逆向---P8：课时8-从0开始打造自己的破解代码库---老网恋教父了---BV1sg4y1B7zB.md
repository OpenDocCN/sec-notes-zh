# i春秋零基础入门Android逆向 - P8：课时8 从0开始打造自己的破解代码库 - 老网恋教父了 - BV1sg4y1B7zB

悟空空空。

![](img/88f1c0c6675b4fc40effcecc05abff56_1.png)

🎼。

![](img/88f1c0c6675b4fc40effcecc05abff56_3.png)

嗯，好的，呃，大家好，我是讲师F8。那么今天就来讲第八课。第八课的话是讲一下如何的去从零开始去打造自己的一个破解代码库。那么这一节课的话，主要还是来讲一下我们该如何的去手写一个smarile代码。

首先我我得先给大家明确这样一点。呃，就像在windows平台一样，在微上我们可以用高级代码像C加加一样来写一些程序。同样的我们也可以直接从那个汇编语言入手来写一个程序的。呃，这里的话也是一样。

我们也是可以用直接的用smarile代码去写一个安卓程序了。所以如果我们把这样一个smarile代码给学好的话，哎，那么我们能够对语言程序进行一些比较更加高级的一些改动。

甚至可以改变整一个程序的一个执行流程之类的。好，那么这节课话就讲一下如何的去哎去编写一个smar代码，来加深一下大家的一点印象。啊，首先呢我们先来说一下一个插代码的一个插入啊，就像前面的几节课中。

我们已经讲到了一个log的一个插入了。啊，第二节课已经说到我们可以通过log来打印出程序的一些消息。哎，好，其实啊这样一个原理是这样的，我们可以用打开一个按Q来看一下。



![](img/88f1c0c6675b4fc40effcecc05abff56_5.png)

好，我们首先来打开我们的目标程序。啊，这一次报门的一个原约程序呢是一个最基本的一个hellowork程序。啊，是那种安卓 studio的默默认的一个程默认的一个程序来的。好，我们先来试一下。

这是一个叉log。那么这样一个叉log的话，在前面几节课中，呃，就是从在第二节课程吧，应该是第二节课中已经有提得到了。我们来看一下它是怎么样去实现的。好啊，这里好等它原完成以后，找到我们的目标的一个类。

比说这里在。先预习一下。好，那么这你。

![](img/88f1c0c6675b4fc40effcecc05abff56_7.png)

可以看到啊，这里它是会显示一个hello word字样，然后在一个方法中给打印出来。好。

![](img/88f1c0c6675b4fc40effcecc05abff56_9.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_10.png)

好，先我来先把旧个给删掉。你好lo味。我们来安装。

![](img/88f1c0c6675b4fc40effcecc05abff56_12.png)

好啊，这就是这一次目标程序，点击按钮，可以下面可以出示一个提示框work，就是这一个自后算。那么对这个这样一个V0，我们可以利用就是V0的这样一个计存器，我们可以实用右键，然后插入代码。

插入lock来显示出我们要打印的消息。比如这里我要把整个V0计存器的一个数值给打印出来，可以插这样一句代码。好，我们再来编义运行一次。



![](img/88f1c0c6675b4fc40effcecc05abff56_14.png)

接着来打开我们的某一个monit。也，就是我们的一个监测器了。在这个在前几节课中有介绍得到。

![](img/88f1c0c6675b4fc40effcecc05abff56_16.png)

好。安装。查一下喽。

![](img/88f1c0c6675b4fc40effcecc05abff56_18.png)

好，我来点击运行。

![](img/88f1c0c6675b4fc40effcecc05abff56_20.png)

哎，可以看到他就把这样的一个字符串给打印出来了。啊，我们来回头来看一下这样一句话。这样一句话它到底是怎么样去把我们的整一个寄存器给打印出来呢？可以看到我们这里就只插入了这样一句话，就是这样一个静态方法。

而这样一个静态方法的话，它是来自于这里这里就是这个目录，它是这样一个类中呃，所操得到我们这里按一下刷新好，就会看到啊它这里整一个按卓Q，在我们插入这样一句话之后呢，就插入了这么一个类。

就是M0安卓Q里面发现整一个类的里面有一个log文件的一个类的一个实现。

![](img/88f1c0c6675b4fc40effcecc05abff56_22.png)

哎，那么自然就来了。好，我们就可以发现原来它是插入了怎样这么一个log的一个什么代码，才达到了这样一个呃输出log一个效果。哎，那么那么相信大家都可以想得到啊，再试一下，我们也可试一下，可以这样改了。

我们也可以这样来在这里我们也可以这样手写一下自己想要的一些代码，然后给全弄上去，哎，这样就来弄就能够弄成我们一个属于私人的一个破解的一个代码库了。好，就是这样一个也很简单，我们点点击这里插入代码管理器。

好，可以看到整一个安卓q，它已经内置了三个一个呃模板了。首先第一个是一个load library，也就是一个呃SO文件的一个加载。一个动态库的一个加载。然后第二个呢就是一个log了。

就是我们常说的一个打打印消息，可以看到哎，这里外部就块引引用了这么一个mar代码，也就是说这里我们可以插入的一个类。然后第三个是一个tt的话就是类似于呃类似于这种效果的一个东西。



![](img/88f1c0c6675b4fc40effcecc05abff56_24.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_25.png)

好，这是一种显示文字的一个方法。好，那么这里我们就来尝试去自己去手写。

![](img/88f1c0c6675b4fc40effcecc05abff56_27.png)

手写这样一个sile代码吧啊嗯还是一样，我这里来跨就一个hello world的一个呃例例子来进行一个说明。首先我们要插入一个类，就是像它那样超插入这样一个log类。我们先要找到我们想要插入的地方。

然后创建一个文件。

![](img/88f1c0c6675b4fc40effcecc05abff56_29.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_30.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_31.png)

好，这里打开。这里创建一个smide文件。引正谁一起。比如说在一起床。好，后缀名是在一个 money。接着点击刷新。我发现我们的文件已经插入过去了，虽然它目前还是一个空白的文件。

那么在这里我们就根据呃普通的样个那样一个smarile格式来编写这样一个代码了。好，我们来看一下一个基本的一个smar文件，它应该有哪些部分。首先第一个是它的一个图声明，就是它的一个classus。

证明它是属于哪一个类，然后是它的一个负类的一个声明。

![](img/88f1c0c6675b4fc40effcecc05abff56_33.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_34.png)

好，我们来写了。耶class。好，看一下这样一个文件，它是在这样一个目录下。哦，那么这里呃这是一个java的一个oper卷。我们就这样写，就像前第二节课介绍那样，前面加个L。

然后后面跟的是我们的一个类的一个。嗯。使用的类的一个地方。好，这里是一个hello的泪，然后后面以分号结束。好，那么这一个就是这样一个类所在的一个地址，然后L，然后在这里从这，然后接着是它的一个负类。

负类，也就是它继长于哪里。一般来说我们都是都是从一个opject来进行一个继承的opject的话是呃java里面所有类的一个基类。如果它没有指定负类的话，都是默认是opject的一个类型的。好。

那么这着在下面的话，本来是一个field的。但是这里我们没有field。那么这里我就插与一个静态的方法。然后用这样一个方法去返回我们想要的一个字符串。



![](img/88f1c0c6675b4fc40effcecc05abff56_36.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_37.png)

好，那么再看清楚了，下面我就来反馈一个呃函数。

![](img/88f1c0c6675b4fc40effcecc05abff56_39.png)

我们就要超越一个函数，然后返回我们想要的一个的一个字符串。比如说这一句好。

![](img/88f1c0c6675b4fc40effcecc05abff56_41.png)

首先每一个函数都是从一个inme开始，然后一个end method结束了。好。那点ad weather。好好，接着这样还不行。呃，虽然这已经有一个方法了，我们还需要对这个方法进行一个声明。

比如说它是他访问的是是什么，它是不是一个静态函数的。好，我们比如说我们这里也要把它设置为一个py公有的，然后是ty。好，它还是一个静态函数的。接着后面要跟着我们的一个函数名。

比如说这里我就命名为这样一个。

![](img/88f1c0c6675b4fc40effcecc05abff56_43.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_44.png)

Hello。好，后面是一个整一个类的一个整一个函数的一个描述呃，函数描述和函数的一个这是一个函数的描述符，后面跟着。比如说证明要返回最后的话，跟跟的就是它的一个返贝值了。比如说要返回一个迅字串就L。

然后是呃java。然后是那头是俊。

![](img/88f1c0c6675b4fc40effcecc05abff56_46.png)

这是讲一个训内在的属于的一个地方。哈。就是类似这样一个样子，这样是一个函数声明的一个头。接着我们后面每一个函数发都会发现每一个函数后面肯定是会以跟着这样一个东西的。那么这样一个点local是什么意思呢？

这一个意思就是声明它到底使用了多少的一个本地的一个继存器呃，本地计继存器啊，就代表以V开始，然后以一个数字结束的那些计存器了。比如说V0就是定一个本地继存器。

然后V一就是第二个V2就是第三个如果说我们这里呃它说明使用了三个本地计存器，那么所使用的范围就是V0V1和V2，如果如果这里我们使用到一个V3的话，就可以发现它就会报出一个错误。

说我们的一个计计存器已经超出了一个范围了。那，一般来说呃我们这里能够声明的最大最多的一个计存器呢是16个啊，这次已经完全够用了。好，那么这里我们就来声明我们的一个计存器了。



![](img/88f1c0c6675b4fc40effcecc05abff56_48.png)

loccos然后后面跟一个数字，这里我们只需要使用一个locs，然后点一。好，这是一个计存器数量。接着我们就来说明一个字符串，把这样一个字符串给放到一个第一个计存器里面。

然后把这样一个计存器进行一个返回。

![](img/88f1c0c6675b4fc40effcecc05abff56_50.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_51.png)

好，cost train。用这个来生成一个。自我餐。好，让他做唱首间行，然后就返给。turn object啊我们的一个计算器的一个内容给返回过去。好，那么这里就是一个方法给写明了。哦。

那么这里我们就要看到这里了。好，我们调用我们要调用这样一个方法，然后用它返回的一个字符串来替换上面这个字符串的一个值。好，我们进行个调用。呃，上面这里我们说明的说明的是一个静态方法。

那么这里我们调用的既然是调用一个静态方法了，invo。好，检测方法里面第一个就是参数了。那么这里的话我们说明的是一个零参数的一个地方，参数就是零了。接着跟的是我们的一个class的一个类型。

就是我们一个方法所在的一个类。好，是一个箭头，箭头后面跟着的就是我们的一个方法的一个说明，就是在在这里。好，这个就是我们整一个方法把给。这里它就把回了一个4G内存的值。

我们把这样一个4G内存的值给重新的赋予到V0里面，利用一个mo star二9的方法。好，放到V淋里面去。那么你这么一来进行一个编历，我们来看一下运行的一个效果。



![](img/88f1c0c6675b4fc40effcecc05abff56_53.png)

好，安装。点击唉可以发现我们要找一个修改啊，就是代码插入已经成功了。这里反回的字符串已经被改成了我们这么一个方法所调所反回的字符串。哎，好，就就会发现。

其实我们这样插入代码是完全可行的当然编写起来的话可能需要呃比较熟悉java要属于这样一个s代码的一个语法，还有它的一个声明才行的。好，我们接着来编写下一个函数。呃，上面这里呢是一个静态函数。

静态函数一般是比较容易编写的。好，比如说这里我们想一个证明一个类。对证明一个fi，然后我们把回这样一个fi。那么这样会如何呢？每一个fi我们可以再往上翻一下好，我们找一个例子，我们找一个例子。

哎可以看到哎，这里会有上面一个点，然后后面跟着一个证明类型和一个名字，然后它的类型哎，这是什么意思呢？其实这个就是我们一个类中的一个变量的一个声明。



![](img/88f1c0c6675b4fc40effcecc05abff56_55.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_56.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_57.png)

一个内容的一个全局一个属性变量的一个说明。比如说这里是一个iner型的一个呃属性一个s的一个变量。然后这里是一个st内型的名名叫rot的一个东西。那么在java里面的话，它就是这么一个意思。

比如说这里是一个main activity class。接着它是从一个activityiv从这样一个类中扩展出来的。好，可以看接段。这会发现它首先上面上面那样一个ink形了一个some。

就是这么一个意思in送。好，这个是一个sstr内型的一个lock ten。好，这里就这么一个意思。那么那么所谓的feel呢就是表示这么一个东西了。好了，这里我们也手动的给它添加几个fe。呃。

添加一个一个feer的话我们的方法是这样的。首先是一个feer一个呃声明，接着是它的一个访问属性，然后显是静态的和方冷。如果是翻筒的话，就可以直接给辅补一个字母串上去了。好，我们这里来试一试。



![](img/88f1c0c6675b4fc40effcecc05abff56_59.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_60.png)

点。ELD然后接着是一个。声明。也是它是一个静态和banal就是一个。呃，不可修改的。好，后面跟着的是我们的一个名称，我们的一个fe的名称。比如说这里我们就用1个加。



![](img/88f1c0c6675b4fc40effcecc05abff56_62.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_63.png)

跟着是一个冒号，冒号后面跟着的就是我们的整一个fe的一个类型了。这里我怕去建为一个java类型。这样的话它在这一个类。好，我们就这面一个最内型的。好，接着由为它是一个翻楼的。

所以我们要直接的对它进行一个辅助才行。

![](img/88f1c0c6675b4fc40effcecc05abff56_65.png)

好，那么后面的补来几个肉串，我们命名为这样一个东西。

![](img/88f1c0c6675b4fc40effcecc05abff56_67.png)

好，那么这里我们再来新建一个方法，来把这样一个字助串给呃。把把起起去。呃，一样的啊，一个对于一个静态的一个feel的话，我们同样的用一个静态的一个方法来进行一个返回吧。呃。

方管声明的框和上面一刚才讲的是一样的。好，一个metter开始一个点and matter然后结束。接到。我们要取出这么一个field。好，我们将依个 s get 个。先先拿上面一个啲计算车来使用。系。

这是一个。接着。我们要S gett后觉。这样一个方法看一下它的说明，它的说明就是读写在一个静态对象到V中，我们就把这样一个呃我们这里的是一个静态对象。

我们就把这一个属这个对象所对应的一个名称来读到一个V0里面。好，后面跟着是我们一个呃这样一个飞的上面就有这么一个东西了。



![](img/88f1c0c6675b4fc40effcecc05abff56_69.png)

对。看一下哎，就这一个东西，我们先在上面一个类，然后是它对对应的一个be的一个描述符，这一个和方法的一个描述是一模一样的。



![](img/88f1c0c6675b4fc40effcecc05abff56_71.png)

好。对呀。哦，不是这里。然后再把这一个进行一个返回，返回一样，用于turn的卷。这里方给V0。好，我们先来改变一下函数的一个调用。在这里我们就把这次我们调用一个hello word2的一个方法拼译。



![](img/88f1c0c6675b4fc40effcecc05abff56_73.png)

嗯，等它变压完成，我们来安装来看一下效果。哎，这已经成功的发生一个静态field了。

![](img/88f1c0c6675b4fc40effcecc05abff56_75.png)

哎，比如说那么在这里，比如说这一这样一个logo，我先在说明一下，这里是使用一个计存器数量，对不对？刚才已经说好了，那么这里如果我改成零的话，可以发生什么事。那么按理来说，我们说明了零的计存器。

但这里我们确实偏天使用了1个VV0了。哎，那是那显然有给他一个描述的不符了。那么这种情况会发生什么事呢？我们来安装来看一下。



![](img/88f1c0c6675b4fc40effcecc05abff56_77.png)

好，它并通过我们运行，哎，就会发现整一个程序给异常退出了。我们查一下一个异常代码。好，这个好像它出了一个ification error，证明它的一个解法不对了。



![](img/88f1c0c6675b4fc40effcecc05abff56_79.png)

这就是我们生命的一个寄存期数量不够所达所变成的样的一个错误。那么这里先说一下。好，接着我们来进行下一步。呃，这里我们是返回了一个静态的一个fe，对不对？哎，那么下一个我们来分为一个普通的函数。

然后再这样一个普通的一个函数里面的话，我们要返回一个字符上哦，哎，那么这一时候，比如说一个普通函数，就是它并不是属于静态的。如果它不是属于静态的，那么它就有一个要求了。你别每一个。



![](img/88f1c0c6675b4fc40effcecc05abff56_81.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_82.png)

呃，普通的函数它首先要有一个对象，然后这样一个对象它得先初始化学行哦，那么这里就出现一个初始化的函数。呃，可以到这里的每一个类呢，它都是有这样一个初始化的一个函数的哎，这里就是它的一个初始化函数。

然后这里就是它的一个静态初始函数，然后这里是它的一个初始化的一个函数。它每个类都是肯定会有一个初始化函数。那然后你们在新建在一个类的时候就可以自动的调用。有时候我们在选那样一个教代码的时候。

并没有明明明确确的去把这样一个初始化函数给写出来。但这个时候呢整一个程序，一般都是给我们去调用的一个默默认构造函数来呃调用它的一个负类的一个构造方法。那么这里我们是一个opject类型的一个负类。好。

那么这一个时候我们的一个静态呃一个构造函数的话，应该这么写。好，pro。捏个开始。你好一个MS别入。接着我们的访问属性是pub。好好，那么名称就是一个固定是1个IIT证明它是一个初始化的一个值。

前面的话还有还有一个construct的一个声明符。好，那么这一个就是每一个呃初始化函数的一个声明了。那这种初始函数，它默认都是返回值为word了。



![](img/88f1c0c6675b4fc40effcecc05abff56_84.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_85.png)

好，这里。这是这样一个声明。接着在里面我们要调用它到它的一个负类的构造函数了，注意一下，这个时候它并不是静态的。那么对于这种的话，对于这种不不是静态的一个方法，它每1个P0都是代表了一个Ds值针。



![](img/88f1c0c6675b4fc40effcecc05abff56_87.png)

好，那么我们就利用到这样一个di时指针来进行一个调用了。好，首先是点locgo。

![](img/88f1c0c6675b4fc40effcecc05abff56_89.png)

好，这一次我们不需要使用到任何计算器了。好，我们利用1个P0，也就是D时时针的一个负类负类负类的一个方法。啊，负类的方法我们就用这样一个。



![](img/88f1c0c6675b4fc40effcecc05abff56_91.png)

一个op的一个初始化。呃，这是一个呃初始化的时候，我们就用一个directect一个方法进行一个调用。



![](img/88f1c0c6675b4fc40effcecc05abff56_93.png)

呃，对于每一个初始化也就是这样1个INIT的方法，我们都是使用这一个invol direct。但是如果对于其他方法的话，都是用一个invol来进行一个调用的。好，那么这样一个初始化函数给写好以后。

我们再来写一个我们真正需要的一个函数。我们一个麦子开始，将一个M麦结束。后面跟的是我们的一个呃访问属性。然后是我们的函数名称。杠LNG杠 stream。好，然后上我们的。呃，寄存器使用的是一个数量呃。

还是一样。我们这里使用一个cos stream来创建一个轴餐。放到V0里面去。う。怎么穿成这个样子，然后把把还这一个win的值。好，然后这里我们就要在一个所需要的地方调我们插入的这样一个函数了。好。

那么这个函数我们怎么调呢？首先这个函数是一个ad里面的，它不它不是静态的，并不能使用一个inver调，我们得给它给付一个新的一个直线。好，那么看清看清楚了。这里我们首先给一个就现来创建一个对象。

用 new of new。然后后面跟着我们的一个计存器，然后是类型ID来创建一个新的对象。我们这里把一个对象放到一个V0里面，后面就跟着的是我们的一个类的一个名了。比如说这里是我们这一个类。

就把这一个类给跟上去。好，这里就创建了一个这么一个类，对吧？这里就创建了这样一个类。

![](img/88f1c0c6675b4fc40effcecc05abff56_95.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_96.png)

呃，下面有这有没有写掉啊，我就直接写吧。呃，我们这里创建的这样一个类，呃，但是这样创建还是不够的还是不够的。我们还要利用它的一个计算方法invo。然后direct。后面跟的是一个参数，呃。

这是一个空参数的一个方法。后面跟的是一个这一个包括这个类的一个初始化的一个函数，也是这样1个IIT的1个。好，也就是大家对应整这1个IIT的一个方法。接着我们再来调用这样一个oppo9里面。

就是V0这样一个op9里面的这么一个方法啊，还有3。那这一个方法也就是非初始化函数的话都是用invot visual。来进行一个家用。好，这是首先传递的是在一个oppo脚对上的一个指针。

接着我们传递的就是我们的一个类的一个名称了，一个描述符。哦，这里的话要用一个箭头来进行一个隔开，把上面返黑的一个str的值再重新的呃。给绑它到桂林松去。好，那么这里就写完了。

我们来测试一下一个呃文写方法有没有错。那，这里的话可能这种就是被镜态的话调用起来可能比较麻烦，啊，是很容易出现一个漏错误的好，我们调用一下power for好还是一样。



![](img/88f1c0c6675b4fc40effcecc05abff56_98.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_99.png)

这里是这里啊，我们上面的结果被下面给覆盖了，我们把这个给删了。好，给一下。

![](img/88f1c0c6675b4fc40effcecc05abff56_101.png)

喝很糟。

![](img/88f1c0c6675b4fc40effcecc05abff56_103.png)

进行调用，哎，发现我们的调用已经成功了。好，这么这里的话就是对于一个普通的一个方法的一个调用了。

![](img/88f1c0c6675b4fc40effcecc05abff56_105.png)

嗯，肯定是一谋为首的。好，我们来下一步下一步的话，我们就来初始化一个普通的一个fell，然后从这样一个fe里面给取出我们的一个数据。



![](img/88f1c0c6675b4fc40effcecc05abff56_107.png)

呃，比如说这里一开始我们这里是初始换了一个静态的一个field。好，那么这里我们不想使用静态了，我们使用一个。我们需要一个手动助子画的一个东西。好。他2。因是它的一个类型。是一个视区类型的。



![](img/88f1c0c6675b4fc40effcecc05abff56_109.png)

哎，对于这一种非静态的话，我们应该怎么办？对于这种非静态化，我们一般都是需要去进行一个呃初始化的。那么这一种时候初始化哈可能可以在就是任何地方进行。如过一般的话，我喜欢是在在1个构造函数。

也是初始化在1个IIT函数里面对我整一个fi给复制。那么对fi复制的块，我们使用这么一句代码，那是一个呃现在初始化一个存件，然后使用一个ile object来进行一个复制的。



![](img/88f1c0c6675b4fc40effcecc05abff56_111.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_112.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_113.png)

好，那么这里我们就需要使用到一个计算器了，我们把这里改成一。好，那么这个时候V0的执行器就可用了。好，我们把一个sstr的一个呃。那么放到一个V里面。嗯。

接着把我们的整一个V零给的值给赋予给这一个fi用ip put。我不觉。ipad的卷就是这么一个东西了。我们把这样一个V0，就是前面V叉2值放到VY中。好，这里是V0。好。

那么这里我们这1个HST22它怎么表示呢？这个它是我们整一个类里面的一个属性？所以这里我们用于应该用Ds指针来表示它是在这里的，这里就是P0啊，P0就是Ds指针。接着是我们这样一个类的一个描述符呃。

这样一个域的一个描述符，它是它从属于这样一个类，然后这样一个命名的。好，方法也是类似于这样的一个形式的。好，弄回去。



![](img/88f1c0c6675b4fc40effcecc05abff56_115.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_116.png)

所以就要跟着一个箭头，好跟着我们的一个这个。

![](img/88f1c0c6675b4fc40effcecc05abff56_118.png)

好，那么这里就是对应的一个feel的一个初始化了。哦，那么这符号初始化化以后，我们再来写一个方法来让它进行一个调容。



![](img/88f1c0c6675b4fc40effcecc05abff56_120.png)

没见。4。At。使用到一个计存器。好，那么这里我们先来取取到这么一个bit值，把它放到一个V影里面。呃，上面使用是使用一个ipod来放进去的。那么想要取得取得的话，相应的来说要使用个I get。呃。

put get的话是一对的。我们这里I get的话就是把一个UR里面给放到rex中了。好，那么我们的VS就是我们的一个目标计成器4V0。好，这里对应的是我们的一个。呃，电子层里面的这样这么一个玉。好。

我们给铺过去。然后对这个威廉进行一个摆回。好，这里我们再进行一个调。看一下运体效果。呃，这一步慢慢来。对说。



![](img/88f1c0c6675b4fc40effcecc05abff56_122.png)

嗯，那么这里就是一个fi的一个呃插入了。

![](img/88f1c0c6675b4fc40effcecc05abff56_124.png)

写了哈，这里是这样是一个操作。好那么这这几点的话，就是我们要再手动的去从零开始去写一个smile代码，主要注意的几点的几点的一个内容。那当然了，一般来说我们并不会这样直接的去手写的。

我们可以在一个呃APK程序中，我们写好一个java代码，然后把我们的目标代码给写完以后呢，再进行一个反编译，再对反编译出来的一个sm代码给拷进去。那么这样就可以了。

我们一般呢是不需要这样呃熟写呃熟写这么多东西了。当然这里我写的话主要是为了加正一下大家的的一个印象，呃，让大家来熟悉熟悉这样一个调用的一个过程。



![](img/88f1c0c6675b4fc40effcecc05abff56_126.png)

好，那么在私在私底下的话，可以尝试着去这么做来看一下啊，你们是不是能够真正的去熟悉整一个smile的一个语法。



![](img/88f1c0c6675b4fc40effcecc05abff56_128.png)

好，那么这是第一个部分，我们来呃尝试去写一个这样一个代码的一个东西。然后这是它的一个基本的一个格式。好了么下面的话就来真正的来说一下一些小技巧吧。首先啊这里我们能够插入什么样的方法呢？



![](img/88f1c0c6675b4fc40effcecc05abff56_130.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_131.png)

呃，在这里操作了管理器中，可以看到它已经提供了一个最为原始的一个log，也就是一个呃这里打印出这一些消息的一个方法了。



![](img/88f1c0c6675b4fc40effcecc05abff56_133.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_134.png)

这是他提提供了小米走一log。

![](img/88f1c0c6675b4fc40effcecc05abff56_136.png)

把打印出程序消息的一个方法，按照ki中已经知道了。然后第二个是一个load library，load library也就是一个SO库的一个加载。我们现在可能暂时还要不到啊，那么这里我也暂时不说。



![](img/88f1c0c6675b4fc40effcecc05abff56_138.png)

好，接着我们还有一个是t choice。

![](img/88f1c0c6675b4fc40effcecc05abff56_140.png)

tack trust的话顾名思义也就是一个堆栈跟踪。啊，那么这样一个堆栈跟踪有什么用啊？有什么用啊？我们先来试一下。好，现在试一下，我们把这么一句代码给呃创建到这里面去。

我们再里新建一个step trust的一个方法。

![](img/88f1c0c6675b4fc40effcecc05abff56_142.png)

表示一个对战跟踪。然后后面的一个。要。后面哪个调只是调用这么一个方法。我靠他训然不能要拷贝。那就。嗯，嗯。哎，我靠。我这里就调用这么一个方法啊。

这里我们就尝试了对我们刚才新插就是新创建的这样一个steadt trust的一个方法来进行一个调用。要的话就这样呃插入代码在这里可以找到。好，这插入了这么一句代码。

我们看一下我们插入了这么一句会有什么样的效果。变形进行一箱。

![](img/88f1c0c6675b4fc40effcecc05abff56_144.png)

好，我们这个时候我们一行以后就要关注一下呃。我们关注一下我我们的一个monitor了。好好。这里报出错误什么错误，no from here找不到我们howlo这个clo是我们是我刚才相面的一个问题。好。

那个不管我们看一下这样一个size的一个函数呃 upize，就是把我们来产生运行过程中的一个对账的一个信息给动出来了。嗯，可这也可以看到当它激活这么一个动的时候，一会一层一层的往上给搜索。

把我们整一个调用的一个流程给打印出来。哎，可以看到这是一个非常好用的一个方法。当我们把想要的地方的一个呃函数调给打印出来的话，就可以慢慢的给给跟踪上去。好，那么可以看到，比如说我们的这外一个on事件。

this一个on事件的话，它是从在一个view中给掉的，然后后面是个handhand call back，然后是一个dispatch。那后上面就是我们的一个activity thread了。哎。

这么一层一层的跟上去，就很容易找到呃我们想要的个地方了。

![](img/88f1c0c6675b4fc40effcecc05abff56_146.png)

那么这个通常是在我们呃对于一些关键的一个代码，通常都会插入这么一句，哎，这样看到调它的一个地方，从而回溯上去的。这这里就是一个t一个调。

还有另外一个就是一个mes choicem choice的话就是一个函数方法要跟踪。那么这么一个跟踪的话，在上一节课的话已经给大家演示过了，就是从这里哎在这个它标呃就是一个me。

就是一个方法跟踪和这个按钮的方法是一样的。有一点不一样的，是这里我们是手动的通过插入这么两句代码来进行一个激发。



![](img/88f1c0c6675b4fc40effcecc05abff56_148.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_149.png)

从而而来。获取它的一个函数这样的一个文件。好，我们这里也可以试一下。

![](img/88f1c0c6675b4fc40effcecc05abff56_151.png)

选择一个操作代码。好，新建。好，开始好，我们抄这么一句。从我们的一个头来进行一个插入。下面的话先删掉啊，这个不重要。是也是一下也。好，我们这里插入我们的一个。M trust does。嗯，好。

然后对有有开始这样，那当然就会有一个结束，我们对应的也来创建一个结束了。

![](img/88f1c0c6675b4fc40effcecc05abff56_153.png)

结束代码就对应的这一句stop trash。

![](img/88f1c0c6675b4fc40effcecc05abff56_155.png)

好，我们再函竖尾也插到这么一句。停止它的一个跟踪。好，接着我们这里还需要赋予一个权限啊。呃，对于这两个方法的话，它是有它都是需要一个对于SD卡操作的一个权限才行的。好，这里就是对应着这么两个权限了。



![](img/88f1c0c6675b4fc40effcecc05abff56_157.png)

把这两个权限给添加上去，就是加到这样一个一个minfi下面，啊，在这里添加这么两个权限。

![](img/88f1c0c6675b4fc40effcecc05abff56_159.png)

便例来看一下运行的一个效果。啊，很脏。

![](img/88f1c0c6675b4fc40effcecc05abff56_161.png)

看一下你这里的一个呃新鲜一个显色。

![](img/88f1c0c6675b4fc40effcecc05abff56_163.png)

好。

![](img/88f1c0c6675b4fc40effcecc05abff56_165.png)

好，这里这里他就是说我已经把一个trarust的一个C给存放到这么里面那个地方，这一个就是我们这一次跟踪的一个文件。我们可以把这样一个跟踪的文件给动出来。



![](img/88f1c0c6675b4fc40effcecc05abff56_167.png)

呃，动的话也是一样使用ATP的命令，这里是1个ATP库，然后就是一个输出的一个指令，后面跟着的是整个内存的一个路路径。



![](img/88f1c0c6675b4fc40effcecc05abff56_169.png)

那是。DN。这是我们在一个机子上的一个路径。然后最后一个参数是我们一个本线路径。比如说我这里直接动那个哎盘中还回车。好，那么就可以在F盘中来找到我们这里动出来的这样一个文件了。好，就这一个了。

这个文件的话，我们可以使用monit来进行一个打开了。

![](img/88f1c0c6675b4fc40effcecc05abff56_171.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_172.png)

这里这里这里也会是一个大。动出来。嗯，好呃，这里他说了一个dto with the try，改是它出了一些错误。嗯，这个因为用用的比较少，那么这个请大家在自己在下面给测试吧。呃。

这也不知道为啥出了一个错误。

![](img/88f1c0c6675b4fc40effcecc05abff56_174.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_175.png)

那么下面的话就是一些对于字符串来进行一个处理的一个函数了。比如说是一个字符串格式化的一个指令。哎，比如说格式化我们就可以这么写。



![](img/88f1c0c6675b4fc40effcecc05abff56_177.png)

还是一样的，代码插入的话，可以从代码管理器中给呃插一遍。那么这里个讲我要板然我就。

![](img/88f1c0c6675b4fc40effcecc05abff56_179.png)

我就呃简单的去演示一下就好。好，比如说这里我们要调用一个。利用这样一个方格的方法，我们先要初始画一个格式化手串，然后给新建一个二数组来进行一个填充。然后我们需要只给填充上去，才能这样一个方法了。

那那么这些的话是对于一个字符串处理的一个处理的一个方法。那这里是一个替换的一个方法。好。好把这个句化方法给弄上去。



![](img/88f1c0c6675b4fc40effcecc05abff56_181.png)

我们操作一个代码。一个新建。好呃，这里我调用这样一个替换方法。保存。

![](img/88f1c0c6675b4fc40effcecc05abff56_183.png)

好，我们进行一个替换，看一下有什么效果。操代码然是刚才写入的一个replace。嗯，来看来看一下，那一个replace的话是一个呃自动串一个替换，它用到了三个参数。第一个是我们的一个原呃一个字串。

然后第一个。然后第二个的话是我们啊要替换了原来的一个代码。然后第三个是最终替换的一个目标。那这两个的话都是对一个叉的一个替换的。好，我们给一个V给复值。cos嗯，这里是一个全水块。

ch secret call记得应该。应该是不能用字符串来进行一个替换，先在试一下。然你哦，我们这里。比如比如说我想把一个L给替换成一个W。好，我们先来这试一下，最要把它一个词给返回。

入把上面替换接果回到V点上去调匀好给一下。搓西裤。

![](img/88f1c0c6675b4fc40effcecc05abff56_185.png)

好，我们来看一下一个音频效果。

![](img/88f1c0c6675b4fc40effcecc05abff56_187.png)

那也看到了已经把L给全部调换成一个W。

![](img/88f1c0c6675b4fc40effcecc05abff56_189.png)

那么这里就是一个字符串替换的一个方法。哎，那么大家的话也可以尝试着去试一下，把自己喜欢的一些方法给打包成在一个什么代码给替换到一个呃安卓Q里面，然后自己去慢慢的去整合。

然后实现属于自己的一套一个破解的一个代码库，呃，这这也是比较有意思的一件事情啊，呃，干这个活，虽然呃平时收集起来比较麻烦。但这个弄好的话。

那么在需要用到的时候就可以呃方便了我们很多的一个能够节省我们很多时间的。因为你不可能把能够把我们全部的一个代码给去记录，对吧？



![](img/88f1c0c6675b4fc40effcecc05abff56_191.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_192.png)

那怎么可能呢？好呃，这么一个就是一个自动串处处理的一个方法。唉，那么最后看我来接来介绍一个，就是一个vivo debug，也就是一个等待继存器了。那，等待那个调试器了。

这一个vivo debug的话在前面已经讲交到过。那么效果的话相信大家都已经知道了。

![](img/88f1c0c6675b4fc40effcecc05abff56_194.png)

就是哦就是会让我们整一个程序会等待这样一个调试器进行去挂机的一个效果。好，那么这里就不演示了。

![](img/88f1c0c6675b4fc40effcecc05abff56_196.png)

那么这一个就是我们啊这一节课想要讲的一个课程一个内容，就是能够进行一个呃一个mile代码的一个整合，然后给插入。嗯，好啊。

那么接下来的话就我就打算以1个APK文件来综合的运用上面一个这些技巧来完成一个破解。啊，那么这一次的话，我我我为大家准备了这这一款游戏。



![](img/88f1c0c6675b4fc40effcecc05abff56_198.png)

我我们现在安装来看一下它的一个预行的效果吧。嗯，我们来看一下它有没有它在运行过程中有没有什么提示，可以让我们去找得到一个切入的一个关键的一个地方。好，我们现在就行一个安装。

那这一次的话呃其实先是一款大家相对于比较熟悉的一款游戏，它就是神庙逃亡。

![](img/88f1c0c6675b4fc40effcecc05abff56_200.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_201.png)

好，我们来打开来看一下它是一个呃什么样的一个情况。

![](img/88f1c0c6675b4fc40effcecc05abff56_203.png)

我们现在打开一下。你好。这里可以有一个购买的一个选项，我选择购买。直接睡觉。

![](img/88f1c0c6675b4fc40effcecc05abff56_205.png)

你这样一来这样一来的话，哎也可以看到，刚才这里有一个提示叫做叫做用户取消操作。哎，可以看到，其实它是有一个呃非常明显的一个提示了。那么我们就可以尝试的去从这么一个地方来进行一个入手。



![](img/88f1c0c6675b4fc40effcecc05abff56_207.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_208.png)

好，哎，用户取消操作，我们来搜索这么一个字符串，来看一下能不能够直接的搜索得到相关的一些信息，然后进行一个定位。



![](img/88f1c0c6675b4fc40effcecc05abff56_210.png)

好，我们这里在1个GVB中已经打开好了，我们来搜索一下。那也是用户取消购买。好哦好，就这样了。那么这里就是选项显然是一个呃取消不满的一个地方好我们双击。就到达到达这一个地方。

on用是 over cancel，那么这里就是取消一个购买的一个操作了。然后这里显然就是一个购买成功时后的，应该经过哪个地方，然后然后这里是购买失败。那么这里呢就是一个呃支付相关的一个类容。

我们进行重命名。好，接着我们在这个地方，我们查找一下它的一个交叉引用。我们找一下在哪个地方变用到这么一个函数，哎，然后一步一步的往上给回回缩回去，然后给修改掉。好，右键我们寻找一个交叉引用。

发现找不到好，这里这里可拆下药。发现呢其实其实这一个程序是找不到的。哎，这是为什么？那是什么？那是因为整一个程序它并没有直接的一个呃对它进行一个引用的一个地方。它并不是一个直接的一个引用。

而是通过一些进接的一个方法比如或者说从它的一个子类中可以发摄出来，然后进行一个调用的一个一个样子。它并不是直接引用的。那么这种情况可以怎么办？哎，那么这个时候我们前面学到的一个方法就能够用出来了。

前面我们学到的一个啊用来到某一个对账的一个方法。好，那么这个时候我们在这里给插入一个动对账。哎，那么程序运行运行到这这里的时候，就会自动自动的去把它一个对账信息给啊到出来啊。

那么这个时候就能够一层集成的上去了。好，我们来进行一个操作网。现在定位到这么一个类中，然后进行一个对账的一个。



![](img/88f1c0c6675b4fc40effcecc05abff56_212.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_213.png)

还有那这个类的话，就是这里呃game center撸I然后类名的话是1个AG。这个呃电力 center。呃是UI嗯是AG。



![](img/88f1c0c6675b4fc40effcecc05abff56_215.png)

好，我们定位到这么一个方法中，在这里的话就直接插入一个呃。到我追这样的一个方法。たくし。猫进行一个编译，然后来看一下这整一个程序在哪里去对它进行一个运行的。好。因为这里是重新编译了。

我们要把一个原版游戏给删掉才行。

![](img/88f1c0c6675b4fc40effcecc05abff56_217.png)

哦哦，那么这个时候的话等它安装完给你好以后，我们就要来关注一下整个呃一个monit中所打印出来的一些log消息，来看一下呃，它的一个对账信息是怎么一回事。



![](img/88f1c0c6675b4fc40effcecc05abff56_219.png)

Ne need to success。嗯。个注是。

![](img/88f1c0c6675b4fc40effcecc05abff56_221.png)

我们就来看一下吧。

![](img/88f1c0c6675b4fc40effcecc05abff56_223.png)

进行一个安装。那，程序已经跑起来了，我们来看一下啊，我们点击购买时候，它可以把整一个对账信息给啊放出什么样的一个情况来。哎哎等一下等一下啊，这里就出现一个意外情况。你可以看到呃。

我们在一个改完云满程序以后，它会出现这么一个的确提示，您正在使用的是大王整的软念，有不可预测风险请下载支持正版。哎，这是什么一回事啊？那是什么东一回事？

这就证明了整一个程序它它仅测到了我们对它原来原来的一个修改，这是怎么实现了啊。我想大家应该知道，我们在每一次安装一个程序的时候呢，都要先对它去进行一个一个那个签名。那这个签名的话是由我我们自己来签的。

对不对？因为程序它自然也会有他本来的一个签名文件，然后他在启动的时候，就可以检测一下它所使用的签名是不是它的的一个原版签名。哎，如果发现这个签名我不对，并不是它的原版文件就可以随时接的进行一个拒绝启动。

那么这个话就是我们常州的一个呃签名验证。

![](img/88f1c0c6675b4fc40effcecc05abff56_225.png)

呃，这里是在一个安卓保护中用的到比较广泛的一个内容。那当是那当然其实这一个签名验证的话，想要过掉也是不难也是不难的。它是有一定的一个呃规律的。好，我们就来看一下这么一个签名验证码。

首先我们对付签名验证的一个思路的话，和我们对付一些一般软件的思路，其实是一个样子的，也是一样，也有一个中文字符串提示的，就说中文字符串。如果有一个log提示的话，就说lockck的一个信息。

啊那么这里这么多log之中，我们先设置一些过滤来找一下我们想需要的一个log，比如说呃这一个是一个神面条神庙逃亡，然后它的一个呃对应着一个包或者是一个过滤的话，是这么一个字符串，我们设置一下一个过滤。

然后来过滤一下一个信息。

![](img/88f1c0c6675b4fc40effcecc05abff56_227.png)

然后那么这里就设置为这个地方。

![](img/88f1c0c6675b4fc40effcecc05abff56_229.png)

以它的帮瓶为一个过滤。好，就过滤出来了这么多的一个信息。呃，大致的再来翻一翻吧。可以找到嗯。并没有找到什么特别有用的信息。好，那既然这样的话，我们就来直接的去进行一个。

我们就直接来说一下这一个中文字由串，来看一下有没能够找到找到什么提示吧。啊临声的时用的是大版软件，我们就说这样一个大版软件的一个中文自助串。宝贝儿。嗯。

在这里找到我们回到这样一个安卓出大面来进行一个搜索。

![](img/88f1c0c6675b4fc40effcecc05abff56_231.png)

搜索。哎，这里已经搞到了啊，这么一个啊这助串提示呢，它是在一个资源文件的时候，我们看到这里的winds的话，它是在一个resource的文件中，也就是一个资源文件。



![](img/88f1c0c6675b4fc40effcecc05abff56_233.png)

啊，然后这里是一个呃assecess的这些文件里面可以找到它有这么一个东西。然后这里就是对应着它一个这一个就就串的一个名字了，就是为了它都是它一个程序，为了适应多国语言所制作出来的一个语言文件。好。

那么这个字不差，这个这个名字。那么相应的它对应一个英文的一个名字啊，也可以从这里给折造出来，就是繁体版的。好。我们再来翻一下par就是搜这么一个名字，可以看到在smaile代码。

也就是从一个代码中会有一个直接的一个引用。就从这么一个内中啊，然后一个GC1BC的内中，一个A的方法对它进行一个引用。这里就是提示我们是一个盗版软件的一个显示。



![](img/88f1c0c6675b4fc40effcecc05abff56_235.png)

好，我们在GEP中可以找到它。好，这里是呃机器，然后是1个BK。只是。嗯，等我们找一下这里继C，然后是1个BK。啊，大家可以来看一下啊，呃这一节课程序的话。

可以看到它的一个类名的跨度是以这样奇怪形式所出现的。其实这是程序的一种混淆。啊，这是呃谷歌控方所提供的一个混淆一个方法叫做一个prolog。嗯，它的一个主要作用就是对一个类名就是名称进行一个混淆而。好。

那么这样混下以后，就可以发现整个程序变得没有那么好读了。哎，但当然想要还原就想要还原的话也是很容易的，可以进行一个嗯。这里可以进行一个重命名来进行一个还原啊，那当然也可以尝试跑一下一个脚本。啊。

这EB中已经收到了一个还呃最抗一定混淆的脚本了，就像一个relen什么什么class。那跑一项的话，它会根据整一个类的一个呃属性啊，或或者说是扩展类。比如说它是从哪里派送出来的。

就可以根据这样类似的一些信息来进行一个成命联了。呃那当然在这一节课中的话啊。

![](img/88f1c0c6675b4fc40effcecc05abff56_237.png)

并并不会用么大啊。🎼可以看到这里就是重命名以后的一个情况，这是一个是吹个的中派生出来了，就会跟着一个后缀名这样一个样子。好，嗯，也算是比较有有用的一点吧。好，那么这里我们定位到这么一个内中。

然后这里就是它显示一个呃盗版的一个助串。我们找一下盗版助串在哪啊，这里就是一个盗版的助串。先稍再切开大白。好下一个好，这里也是一样显示大版。好，那么这里要看。啊，这是SHG黄色色面显息啊。

不是这个不是这个。第二个什么还不说。好，这里是显示大版的。好，嗯，那么这里已经找到这么一个呃显示一个消息的一个地方，下面的话就可以创建两个按钮，一个是一个下载，然后一个是退出。然我们这里是一一对应的。

然后这里就是下载的退出当中的对应的两个的方法啊，那么在这里我们直接修改这么一段函数，把这个去掉，那当然是可以的。但是呢这里我们就想用一个呃更加好一点的方法，我们并不来这样直接改，我们来往上来跟踪一下。

看一下它是怎么取出这么一个呃一个签名的文件，然后进行一个验证的。好，我们这里只要是看到这一个这么一个判断这1个ARG4的一个低的一个属性来看一下。

那么这个显际上就是一个呃一个签名的一个正确性的一个教育的。如果这么一个布的一个变量，它是一个一个触的化是是一个非法文件。我们来找一下它的一些相关的一个消息，我们来找一个交叉引用。

大可以看到这里有这么一个摄引用。那么这里呢就是一个呃取出来进行个判断的一个地方。我们到它复织的一个地方吧。好，这上面。双击一个进去，哎，可以看到这里是取出来，然后这里就是对它是进行一个复制了。

好我进行一个命名。这CT。嗯。那么这里的话，如果它自里要设置为for才行。如果设置为cho始的话，就是一个非法文件了。那我们就来继续的我们来把这么一个函数的一个加校引用。哎，哎发现一样一样还是找不到。

哎，那么这个时候相信大家已经比较熟悉要怎么干了，对不对？好，我们在这一个方法来参与我们的一个得战跟踪。走到这里是BEN，然后DEAL是什么什么的。



![](img/88f1c0c6675b4fc40effcecc05abff56_239.png)

我们定位到这么一个类轴好，在这里A和DA。好，在这。订阅到以后呢。好，对应的这么一个地方，呃，下面就是取出来，那么上面就是进行一个设置。我们这里的话就来参与我们的一个对战跟踪。好呃。好哦。

那么这一次应该能够成功的应该会会以成功的一些当出一些有有用的一些消息了。我们来进行一个跟踪，来看一下呃，盗取出来的一个东西是什么一回事。等着去慢慢的去跑啊。嗯，那么在会人的这一种情况。

也就是说以这一个文件来说啊，如果我们想要找找到它的一个引用的话，实际上是并不需要通过这么一个方法，是有其他的一些方法去找到一个呃。



![](img/88f1c0c6675b4fc40effcecc05abff56_241.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_242.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_243.png)

校验哪个地方的嗯，那当然这里的话我C了整个课程的一个理想，才使用这一个对待跟踪的一个方方式。呃，很多情况下的话，这样对账人的跟踪并不是一个最好的一个方法来的。呃，这点请大家留意一下吧。好。

我们我们来进行一个安装，来看一下它的一个签名家印的掉样的一个地方啊。好，这整一个程序间已经跑起来了。好，我们等它一个完成一个量啊，这里已经到接到了。我们来往上跑一下，来看一下它的一个呃一个对战。哎。

这也就是我们蹦出来的一个对战了。这也就是我们一个设置什么什么地方。哎，下面往往上跑下去可以发现，它是从这里唉，我么跑下去，我们再再找一下。是不是叫这个地方啊。

好好正跑下去会发现它是从这么一个地方来进行一个。呃，初始化了。我们站一遍吧。好，因为刚才他整个程序出现了一个异常退出。我们再来一遍。好，哎那么这里就稳定多了。

那我们接下来找一个最这样的一个洞的一个到片的地方。可以看到这里只要有两个两个动不出来的一个堆待信息。啊，首先证明它这一个整一个设置的话进行进行了两次。那么第一次是从这里从这里这里在这里一直一直跑下来的。

那么第二次的话，我们往下翻一下。好，这第二次的po系统这里呃，这两个应该是不一样的啊。呃，看一圈应该是不一样的。也就是也就是说他从两个不一样的地方都来进行了一个对象的跟踪。

然后最终呢还是调用这样一个函数。好，那既然知道这样，我们就来一步一步的来走一下它是怎么一个调用的方法啊。好呃，原理还是一样的。我们来跟着这么多的一个方法，一个一个的往上给转回去。

首先是一个呃机械控体系的一个配函数。是对应着这里，我们在注一堆中找到它。在这里就C property，然后 see in place。嗯，这这最最最这这种嗯，是一个。必息。阔客气。

啊是CL一个place就着这个好，那就是呃这么一个方法。

![](img/88f1c0c6675b4fc40effcecc05abff56_245.png)

那这里就是生成的一个方法了，后面跟着一个oberject么一个toe一个for呃，那么应该是调用到这么一个地方来设置为一个示范了。那这里直接强制的改成为下面的话，就是把这样一个出和 for估计是可以的。

但显然这样并不是一个好方法，可以看到这里是一个有可能是一个长期一个调用啊，我们再来往上找一下，是一个并不是最直接的一个判断一的一个地方。我们找到一个C点A点A的这么一个东东。好，AIBC点A点A。

Okay。好在这。后你。然后是一个A的方法，可可以看到往上爬一下，哎，可以看到这里可以这里好，还是不怎么懂。我们再继续往上翻。可以到这么一个方法，然后C点C点B。好就子了，取出一个reult的一个词。

然后这里是从一个jasonop9中取出来的，就是一个结果。好，我们还是不懂，还是看不懂什么意思，继续往上翻。找到1个GCPK点A的一个地方。只是有四个 b k。然是一个一的方法。哎，你可以看到啊。

这里就有有一点意思啊，看到有一个pos操作，然后前面是一个助画个前面一个是APP key，然后第二个是一个s，这个赛是什么意思啊？赛置的话很有可能是签名有关了。因为杀人英文名字就是签名了。

我们来看一下这里一个被一个pos进去的一个数据是怎么一回事？双击你这一个B的一个方法。你可以看到这里整一个就是一个取出一个签名纸的一个地方了。这也这个你取也就是这么一个方法。

就是呃一般用来取出签名的一个特征，就是取一个package then，然后取一个package配age managerage，然后再从这样一个东西中取出一个package或里面的一个签名纸。啊。

我么进行一个什么名？前面首先。这也是dess。好，前面的一个V廉这里取了的也是一个package呢。一个包名，然后这个是一个package manager。好，这里取出来。

就是我们的一个签面的一个结果了。那么这里求我们的一个呃前面的一个数据，然后附加到接着再这样一个方法处理一下，然后就返回了我们看进入到这么一个方法里面。哎。

可以看到这个方法实际上就是调用了1个MD5去进行哪一下处理。好，慢慢跑下去。那我只能然后后面再填一个0，是吧？前面填0，这显然是1个MD5加密的一个地方。好。

我那么我们就可以综合看到实实际上对这里的一个签名呢，它是对于整一个签约的值进行1个ND5运算。然后呃后放到这么一个地方中，接着以一个pos方式，然后这么一个网站中来进行一个验证的。

然后验证验证的一个回调，就是这么一个BL，也就是我们的这里呃我们刚才找到了一个O4个Z或者是算一个失败的地方。这里双击进去的话，这看到一个呃网络验证成功时后的一个回调，就是跑到这么一个地方了。好。

其实这么这是一个一一对应的一个东西。啊，那既然这里知道这里是一个pose的操作了。那当然理所当然的，我们也可以利用前几课节课所学到一些信息来对它进行一个作帮，来说一下他的到底正版软件。

它发出来的一个信息是什么样的一个东西哦我。我们就进行一个桌包吧，我们先在安装它的一个正版的一个软件，然后进行一个桌包。桌包前期的一个设置啊啊是一样的。好，我们进行一个安装。前面的摄氏度是一样的。



![](img/88f1c0c6675b4fc40effcecc05abff56_247.png)

打开我们的一个招标软件。

![](img/88f1c0c6675b4fc40effcecc05abff56_249.png)

我们注意的去关关注一下被po出来的这一个网址。

![](img/88f1c0c6675b4fc40effcecc05abff56_251.png)

哦已经安装好了，我们进行一个坐包吧。

![](img/88f1c0c6675b4fc40effcecc05abff56_253.png)

我们看一下它是怎么处理这个网址的一个呃内容的。

![](img/88f1c0c6675b4fc40effcecc05abff56_255.png)

あああ。这里看对里的这一个网址有没有？我看一下嗯。嗯，在这里一然后是这个地方。好，那么这一个就是它po出去的一个消息了，可以看到方法是pose，然后一个地址在这里，这里就是我们输出输去的一个消息。

可以看到APPK也就是对应着这个。

![](img/88f1c0c6675b4fc40effcecc05abff56_257.png)

对应着这样一个的一个内容呢是是这样一个东西，接着是一个sign，也就是我们我们的一个签名，签名的话应该是这么一个字符算。好，这是我们我们的一个签名。然后知道这么一些东西以后。

我们就把这个东西给错了给弄出来了吧。这是我们的一个赛散的话是这么一个内容，我们把它全部给拷一下。嗯。我们把它的个一个数据给一个抽取出来吧。223A2233860。好在这里在这里。嗯。

把这个数据给弄出来啊。后面数据这么多，我们给直接拷贝一下。好嗯。那么这一个就是我们给输出出去的1个ND5的一个值了。呃，前面的2哦给大家看一下吧阿文。



![](img/88f1c0c6675b4fc40effcecc05abff56_259.png)

嗯，可以看到啊他收据收费的话嗯。是每个一一都是我门买。哎，不行，嗯，我就来说一下吧，前面的1个22322呢它是一个比较有特征的一个东西了。223AL22呃就是一个冒号呃，一个一个冒号，一个什么的。

就是一个jason的一个格式呃，就是表示一个呃字上前面也就三斜面是一个两个冒号给括住这着。呃，然这是一个冒画，然后后面跟着一个方法证明，下面跟着的是另外一个字符串。

然后这一个字符串就是我们留了的一个算的一个值。然后完了我们再再一个一个冒画每个转探个双引号在一个双引号来表示的这样一个字符串的一个结束啊，这是一个精准方法中比较。算是特征的一个东西啊。

那么在两个22之间，也就是这样一个呃双引号给扩者中间一个字符串，就是我们的1个MD5值了。那这样我们在这里尝试的去把我们的这样1个MD5值给替换掉一个呃前面前面签名验证的一个地方，我们把它给替换回去。

来看一下我们的一个验证，是不是就直接过掉了。

![](img/88f1c0c6675b4fc40effcecc05abff56_261.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_262.png)

好，我们找到这么一个内装，啊，就是这一个签名，获取一个签名MD5的值的一个内装。好，我们搜一下。长度是34对，好我们找到这么一个地方，是一个呃AIB去然后编一个内容。



![](img/88f1c0c6675b4fc40effcecc05abff56_264.png)

找到它的一个清明的一个值。

![](img/88f1c0c6675b4fc40effcecc05abff56_266.png)

好，AB。然后是一个G，然后是一个B。

![](img/88f1c0c6675b4fc40effcecc05abff56_268.png)

嗯，呃，这一个方法是。这一个方法是一个P的一个方法。

![](img/88f1c0c6675b4fc40effcecc05abff56_270.png)

找他定定位一下。好，在这然后这里的话就直接的去返回我们的一个目标的一个签名文件了。一个签名数据了。好，我们这里去查阅我们的代码，放一个str。放到鱼里面里面知的话是我们的一个签名值。

你要返回return，返回一个4G内型的lo。好。你。这里我就尝试着去对它的一个呃取X点5以后的数据给进行一个返回。那当然如果大如果大家有兴趣的话，也可以改一下它的一个sign的一个值。

来进行一个搜索let来直接改他一个签名返回的一个数据。呃，其实上这个程序的话，在验证的地方的话，应该是并不止这一个。应该是并不止这么一个呃地方的。他线段流程应该是挺长的。好好。



![](img/88f1c0c6675b4fc40effcecc05abff56_272.png)

比如说这里可以搜索这么一个sH这种串，就可以呃就是这么一个属性，就可以找到它的一个验证的一个这几个地方啊，我们来进行一个安装嘛。那也可以看到它是与它相关的话，嗯是一个。建赠。验证的地方的话可能有这么多。

哎，这是一个ge举数。哎，这里也是那这也是可以看到它取出一个签名词相关的一个代码有这么长有这么长。啊，这些都很有可能是有一个清理验证所相关的一个。每个属性好，可以看到前四个都是有可能的。那当然这里的话。

我们就只关注这一个来看一下是吧。哎，也可以看到我们这里的一个签面已经已经pas掉了，它已经没有显示我们我们的一个。



![](img/88f1c0c6675b4fc40effcecc05abff56_274.png)

嗯。一个数据了啊，那既然过掉了，我们就来进行行下一步吧。下一步的话就是一个取出它的一个校校验的买，就是说它的一个购买的一个地方购买啊，我们点击。



![](img/88f1c0c6675b4fc40effcecc05abff56_276.png)

![](img/88f1c0c6675b4fc40effcecc05abff56_277.png)

取消。

![](img/88f1c0c6675b4fc40effcecc05abff56_279.png)

过好取消操作哦，可以放到我们的一个对账也荡出来。它是从这里一步一步进行一个回调的。好，那么呃购买这一步的话就留给大家来进行一个呃操作吧。呃，那么这节课作业的话。

就是请大家来完成我们的这么一个游戏的一个破解吧。呃，可能他还有一些清民清民这样的地方，可能会没有处理的掉得的到了。那么这一点请大家下面自己去进行一个处理。然后完成一个内购购买的一个呃方法。好啊。

那么这节课就到此结束了，谢谢大家。

![](img/88f1c0c6675b4fc40effcecc05abff56_281.png)

🎼。

![](img/88f1c0c6675b4fc40effcecc05abff56_283.png)