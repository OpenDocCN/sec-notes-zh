# 经典15年i春秋渗透测试系统化教程 - P53：课时1  Web应用其它常见漏洞总结（上） - 老网恋教父了 - BV1n54y1B7F7

。好，我们这节课给大家讲解一下这个web应用其他常见内种总结。那么在我们渗透测试过程中啊，呃我们经常会遇到一些麻烦，例如呃测试账号密码不能提供啊，那么这个时候我们摆在面前的，只有一个登录页面。

那么在在这种渗透，在这种渗透测试情况下。呃，我们还是有很多的一些突破口啊，找出一些漏洞。那么下面呢是一些方法的一些总结。大概就是目前大家可在。嗯，不管哪一个公司看到的这个渗头测试报告里面呃。

大概也就是这些类啊呃我大概总结了25个，当然还有其他的一些内容。嗯。呃，常见的一些。一项命令执行。呃，越常访问，注入夸赞。那么上传内段，这些常见的包括CSRF逻辑的。

那么这些我们就是在课程里面已经讲过的讲过到的一些内段。那么我们我就在这个文档里面就没有去写了哈，很多内容就没有去写。呃，要写了一些就是说。都是一些就是说在报告里面提取出来啊。

自己在工作过程中大概就是说写了一下。希望对他对大家有一定的帮助。好，我们来首先看一下第一个啊，第一个呃暴力破解啊，用和没合并了啊，这个在课程里面讲过，但是呢我们在这里还是总结一下。就说在一般的情况下。

就是说对企业做渗流采试。就是说这个没有给你提供一个账号跟密码啊。呃，管理员账号密码就是没法登录，因为登录扫描的话，我们登录进之后可以扫出那种更多啊。包括一些乐场类种啊，这个是很重要的。一般的就是说。

找内容的话，还是还是希望就是说能在登录后来进行寻找内容。啊，渗透城市啊，但是有些企业是不允许的啊，要不允许你登录。因为他怕这个登录扫描的话，有的时候会。给这个网站带来危危险啊危害。

就是说把数据库里面的资源删掉了。因为扫描是让发生这个指令，有些发生了一个删除的指令啊，注消啊。那么这些指令这都是比较危险的，尤其是我们删据数据。在到致这个最终这个网站崩溃。所以。

一般情况下还是企业做渗透程序，企业一般情况下都不会提供这个账号密码给你进行的渗透程序。呃，不管怎么样吧，就是说呃如果我们找到这个后台或者登录的地方，都可以试一下。这样的一些密码账号密码。

像AD名AD面啊，这样testt或者test123啊，密码为有的是test123456啊，都有可能哈。这个是用的比较多啊，就是说这个账号啊，test账号这个密码的也也是或者123456啊。

大家可以挂个字点就跑一下。还有就是weblock，那么这个是呃中间件的一个后台账号密码。还有就是说路otpassword啊这样的一些账号密码都是用的呃比较多的tomo卡德啊。

包括这个呃PSP myAT面啊、路ot路扯啊这样的账号密码。啊，这是第一个方面，就是说针对这个嗯默认账就是说默认账号密额。当然前提条件建议大家就试一下，如果没有这个默认账号密额。

大家可以挂一个字典去跑一下啊，跑一下，那一般落口令都会跑出来。呃，大家可以看过这个渗透测试报告做的比较久的，一般的网站都有这个漏口令啊，漏口令有一些OA啊邮件系统啊，只要我们有他的这个员工的这个用户名。

运户名这个邮箱啊，包括邮箱地址啊，这个地址可以在这个网上的一些泄露出来的各个百度去进行旋转或者视频库里面可以找都可以找得到。那么找到之后，我们进行挂一个字点去跑，还是很容易找出一两个路口链掉。进去之后。

我们可以进行一个。嗯，深入的进行渗透。第二个是扫这个敏感目录和这个备份文件。那么这个也是一个很大的学问啊。建议用的包括BRPR挂一个字典去扫目录啊，这个目录扫好了，那么一般对你渗透。作用很大。

尤其一些敏感目录，敏感文件都可能会被你扫出来。像一些备份文件啊。上传文件及编辑器的页面啊都会被拦陷啊都会被拦陷。那么下面我举一个实例，渗透实例。那么这个。大家可以看一下啊这个。啊。

可以通过这个一般的情况下，你不知道啊，就是说这个没有这个路径。例如你不知道CARTON。但这个路径呢，我们是这个扫描器。这个爬虫没爬到，那么我们只能通过这个暴力破解啊，一些专门跑目录的这个工具来爬。

跑到之后，那么我们。那么再进行拆后面的目文件跟目录，拆到之后，大家会发现有一个这样的一个文件，叫lo个 in点。HTION一看就是str two的是吧？啊。

包括有一些嗯log in点D啊这样的一般的str two。那么这种情况下的话，我们就可以试一下这个用这个工具试一下这个看有没有死装去的动。好，建议大家用K8的啊。这个工具。啊，比较完完善。

然后在这里就不太影示了，在课程里面讲过，你放在里面一看，点击执行啊，在这里输入你的执行命令，你点一执行，哎，发现这个地方确实是一个strtra斯。明年执行那种。啊，这个是很重要的。

还有一个就是说我我在这个渗偷测试过程中啊，这个是一个自己真实的一个案例。呃，在测试过程中发现这个网站没有任何内的啊，没有任何内容。结果我扫到了一个网站的根目录，有个微博点2A2。啊。

微博点RAR我把这个微博点AR下载下来之后啊，打开里面发现虽然只有2。02KB，它里面备含了一个什么文件呢，备份了一个config点这个微博点confi一个配置文件。

我一打开里面发现有一个搜的这呃搜serv数据库的这个。连接账号和密码，就SA的账号和密码。我拉到这个账号密有，接着我用Nm去扫一下这个端口开放情况，发现这个1433端口开放的啊，1433端口开放。

而这原许远程连接。我拉到这个SA账号密码之后，我进行连接上去之后啊，发现一个问题，就是说我能执行。系统命令执行。啊，建一个账号密码开启他的远程3389连接上去之后。

再接着我们进行通过这个这台服务器管理员读取，完了就。只以我拿到了系统权限，那账号密码，整个系统的我包括微博的账号密码，我全部已经拉到手了。啊，就可以全部得到手。

包括操作系统啊一读就可以读到他的操作系统账号密码啊我把这个账号密码整合在一起啊再进行。针对整个内网进行扫描。啊，最终我一扫完之后发现一个很大的问题。这个管理员采用了一个密码重用。

有有很多这个其他的服务项都是这个账号密码，这个操作系统的A里面专成的一个密码。包括这个SA的密码。最终我就是说通过这台服务器拿下了整整个内网的每一面。整个内网里面的50多台服务器。

就是因为因为本来这个网站的这个安全系况做的很好，扫描器一个类动都扫不到。但就是因为这个微博点2R文件。就是说管理员在备份的时候备份配置文件的时候啊，他用了一个压缩软件，压缩在在这个网上 game录下面。

导致了整个这个整个内网沦线啊，而且里面都是很多一些重要的数据啊，而且这个网站里面这个用户账号达到千万级别啊，所以说相当危险的啊相当危险。所以说大家做管理来讲也是要比较细心的啊，就是说尤其网站跟目录下面。

网站目录下面不一不要一定不要备份一些重要文件。就是说在这个目录下面，因为是直接可以下载的，直接可以下载。像2A2这样的文件是可以下载，包括ZIP啊，还有一些权限配置问题。这是很重要很重要。好。

在这里我就不再做太多的，就，我们看下一个。这个也是呃这个内段是PSP卖AT面的个一个万能密码，这个是几呃做渗度测试遇见这种情况的是几率几乎是很渺小很渺小。但是有啊有可以试一下，在渗度测试过程中。

大家可以看一下这个。我在这个战斗过程中发现了一个问题，就是说他这个没有这个。嗯，那动，但是他就发现了1个PSPIAD面后台在登录的地方。结果也不知道密码啊，最后我试了一下这个密码呃，这个万能密码。

这个是呃PHPYAD面的一个万能密码，账号为路程啊，密码为这个叫万能密码。大家知道网站都有万能密码是吧？什么SPPSP等一下哦那的。那么这个PSPYA的也有万能密码，大家可以看一下它的PSP版本2。1。

2。1啊。这服务系的一个版本，5。1。6。6。那么在这种情况下，那么我们设一下一万的密码，哎，可以登录上去。结结果。通过这个内种也拉下来。嗯，一个内网啊内网。好，接着我们来看一下夸上防飞型。

这种内容不一定就是说在这个。不一定在就只有这个。呃，有插数的地方才行啊，就是说有的在一些图片下面也也会造成这个X size。啊。他是在这里这个不是我发，不是我我我总结别人出来的一些东西。嗯。

其实我这里也很多这种情况啊，没有去。写在这。啊，就是说呃在深度测试过程中。你易在一些错误的页面。啊，他的图片这个呢看它是一个错误的图片是吧？我们加一个上下一个监控号，再插插入这个夸字代码也会夸大。啊。

有的一些wa啊一些wa啊，它过滤这个夸张。过滤夸张之后呢，我们再输入夸张代码，它也会弹上。就是说这个。呃，我记得是哪个厂商的，这忘记了哈，记得不太清楚，有一个忘夫。他不结果转只要装了这个万户。

每一个页面都可以夸赞，每一个页面都可以挂赞。首先这个万万福的本身的一个铸成了一个夸张这种。所以这一点也要注意一下。哎，你可以看一下信息提示啊。呃，为什么会出现这种问问题呢？因为这个oneof的时候啊。

就说你输入恶一代码的时候，它都会弹一个对话框出来嘛。他这个对话框他一般会告诉你啊，你提交非法制符，请不请不要进行你的IP地址已被记录啊，一般它给提示这样的一些。语句给你就告诉你，你不要攻击了啊。

你在你的IPP已经被我记录了啊，如果你攻击的话，我会报警的。那么这种其实在这个躺出一个对话框带出来，我们把这个对。把这个语句啊我们换成我们的夸张代码，那么就可以弹出我们的这个想要的东西来啊。

想要的信息的原因就是这种原因造成。它其实本身它躺住这个外夫躺住的这个电话框，那么这个地方它其实就是一个夸容，比是说我把这个语句换成我自己的。啊。好，接到我们看一下啊，就是说隐藏域中可能存在明文密码。啊。

这个是啊也是在一个项目过程中，就是说嗯在配置文件里面。就找不到漏洞的情况下。啊，找不到内同的情况下，我会发现这个。嗯，在这个登录的时候，就我用这个这个是绿蒙的扫描器啊。啊，是的我的。呃。

内蒙的扫描器就是说呃内蒙的扫描器，我用了一个平台啊，我们自己有自己的平台去读取这个购类扫描器的一个扫描的结果。在这个平台里面。呃，显示出来。那么这个请救信息啊，响应这个信息。

多久出来之后会发现一个嗯账号和密码。就是说嗯虽然我不知道他的管理员后台管理员账号密码，但是我通过这个响应响应信息包里面可以得到这个账号密码。还有一个就是像这种情况，通过这个。

浏览器就说我随便在这个对口卡里面输入账任何任意账号密码。结果我在这个。查看原原大码这个。查看原码里面就是说我们打开任何一个网页查看。用火虎吧，建议用火虎好一些。在火狐里面。

我们可以在这个里面可以看到这个什么账号和密码。你可以看一下它的密码就是ABC123。Value。啊，这个纸就在这个地方。就是他这个元代码直接写在GS文件里面。啊，直接写来几啊，用这个。福bug啊。

查看里面在这里面可以查看得到这个密码登录的密码。再管你下的面码。啊，他通过这个本地来进行验战的。啊，本地酿仔。明白没有？但是他的。就说你在这里，我们登录的时候，在这里输入账号密码。

那么这个账号密码是否正确的？是通过这个本地来进行验载，叫GS验载。那么在这种年载那么很好的，那么账号编码技能在GS里面本地来碰碰到对比的话，那我直接可以查看这个源代码里面，直接可以找到这个。

密码直接找到密码。那直接登录了。还有一种情况就是说呃康菲个点INC包括其他的一些配置文件啊。嗯，这个微博点XML这样的一些配置文件，直接可以远程读取啊，在IE浏览器里面读取那读取的时候。

账号密码也也直接找出来了，是吧？啊，当口路扯pasword伪空啊，没有密码，没有设置，或者是说它设置到一个复杂的密码啊，都可以在这里可以控制到。啊，这也是比较危险的。

就是说我们在一定要在渗度测试过程中不放不放过任何一个细节，一定要仔细看啊，仔细看返回数据包配置文件，认真去看一下。其在我们看一下这个楼辑内容啊，就是任意用户密码重置。呃，这个楼辑内动就是说应用很广泛啊。

大量的大型网站一般在大型网站。就很容易存在这个楼梯漏道啊，有交易的方面。啊涉及到金额方面。萌萌我们看一下这个。这样的一个页面。这样你输入账号呃，这个手机号码跟图形验证码啊。

它就会发生一个什么短信到你这个手机上面去。然么这个时候是存在一个什么？嗯，80后年的一个。咩容。为什么呢？因为这个我们输入手机号给这个验证码之后啊，点击获取这个验证码。它在这个地方没有时间限制。啊。

这个验证码呢，也就是就手机验证码这个也就是说大概4位啊，一般是4位到6位之间啊，一般不会超过6位啊，最多也就是6位验证码。那么这个6位的验证码，而且是全数字啊，经过我才测全数字。那么在这种情况下。

那么我要破解这个。短信验证码的话是非常简单的。用BRP拦截一个数据包，再接着我们暴力不解就是了。破者破解速度很快的。也就大概如果四位的个情况下的。也就是10分钟左右啊。

就可以得出他的这个正确的这个验证码。正确的年证嘛，也就是思维人员一般10分钟就机节快的话，嗯，把这个BRP这个线程调大一点，10分钟左右就可以跑了。所以说这个也是比较危险的。也就是说一般的情况下。

你在这里一定要加一个时间限制，就是说。我发送短信过程中，你也不能超过上班。30秒30秒之后你要重新。发生这个短信电战码，而且这个短信电战码建议大家使用6位啊，不要使四位太太容易破解了，太容易破解。

还有一个就是挡心炸的。啊，这个呃广泛存在啊呃大网站都有。当然而且这里软件也比较多，大家可以自己去网上去找这短信炸弹软件。那么一般情况下就是说我们的这个。激活账号的时候啊。

你就这个账号激活的时候把登录的时候，让你输入登录名啊，手机号码。嗯，他这个地方有一个获取密码成功啊，在这个地方我们拦截一个数据包啊，拦截个数据包，我们进行一个批量的发送啊发送呃，这个发送键呃。

在这个楼辑里中我们给大家讲过。呃，发生过程中，也要改一下这个包里面的有一些不重要的一些。有。像版本啊，这个浏览器的版本啊。我们的这个版本例如1。1，我改成1。21。3啊，后面这个一呀设置一个变量再进行。

发送存放攻击，也就是说发送一直发送N个啊N个就是1万个榜。那么这个时候他这个发送1万个1万个这个短信。发到别人手机上面去了，这个是非常危险的啊非常危险的。啊，就是说你在这里。输入A方的一个。

邓龙有手机号码。呃，对方的手机号，你知道别人的手机号，反后你在这里输入啊，然后再用比亚迪加个包进行一个发送。我们垃圾短信一发就一大片过去了啊，一大片过去了。好，接让我们来看一下这个SVN啊这个原码泄漏。

那么这个内东就说也是通过扫描器扫出来的这个APPcomAWVS呃，安含的内盟的扫描器都可以扫这个。扫到这个页面之后，建议大家用这个工具。呃，有一个叫做。IE浏览器啊，火狐浏览器都可以浏览。都可以浏览。

但是一般的我是喜欢通过一个工具。通过这两的工具来进行。嗯。把这个地址添加进来。啊，添加网址，把你这个SBN的地址添加进来之后，进行双击浏览就可以来到这个目录。就像文件共享一样啊，文件夹共享一样。

明白没有？那么在这个里面你去找这个呃均要的一些配置文件，账号密码。源代码里面源代码里面有很多有一些。嗯，重要一些数据库啊、网站登录啊、账号密码。一般呢它这个SN里面是公司里面的一些。啊。

上传了一些公司内部的一些。呃，信息哈包括网站程序啊，都在这个SVM里面，公司里面一般公司都会以用SVM来进行发布啊。有了这个之后，我们只要他的这个信息泄露了。

那么我就通过它里面的读取来查这个均啊找这个配置文件网站的一些配置文件。来找这个账号密码。还有一个就是说我们这个。局域网更小。就是我们如果你在这个处于在内网过程中。嗯，尤其是一些。就是说。嗯。

拿下来一套服务器，就算斗测试过来用。那么这个时候我们可以如果这个服务器是内网的，一般是通过AAT转换啊，都是内网服务器。内网服务器的话，我们直接可以清通过什么方法呢？要通过这个。十秒。啊。

等正我们就说取在前面这个。明码密码群用漏洞之外，就是说通过你获取到。本台计算机的所有账号密码及起了批量的一个密码破解之外，就破解其他的这个服务器密码之外。还有一个方法就是扫描。追网共享目录。

那么这个共享日很。很简单的好。我通过一个软件啊，就是扫这个内网共享的这个软件，很多网上。自己去下载一个局域网共享软件扫描。下载下载之后，你扫，你会发现很多有一些内网的一些共享。共享之后啊，你直接。呃。

进入对方这个共享的这个目录，找这些。一些配置文件。呃，配置文件。阿姨。尤其像topom card的右手这样XML这样文件，你可以在这里找到它的一些账号的密码，再进行一些录取。反正你是找一些有用的信息。

就是找你想要的一些信息。这也算一个内容啊，也是就是我们都可以写入到深度测试报告里面去。还有一些非主流的一些漏洞，HTTP小应拆分类的。这个那种用起来比较快的哈，几乎你你是很难就是说。能力不上啊。

这个就是我摘了一个呃，这个图在别人的一个报告里面。拿出嚟的。这个就是一个这个把pos的这个包啊。要改一下，哎，他这个地方有个。拆粉这个楼段他这个地方。这个图还是有点问题啊，哎有点问题。

嗯这个404没有找到，你看。大家看这个你看睡个可家死。本来是他这个地方是可以获取到一些相应的一些信息的哈。啊，注意哈这个信息像科教斯啊，包括这个。有些内有有的情况就是这个。嗯。

IP地址泄露就是说内网的地址。这都有可能啊都有可能，反正这里没有真正去体现出来啊，因为他这里。嗯，拍一些空给啊。睡咗空就室啊。都被过滤掉了，所以在这里图里面看不出，但是你记住一下。呃。

有一些这个什么这里面会扫出一些HTTP响应这个吹分。有这类的这种啊有这类的种。没有找到一个好的案例，摘一个没有摘到。嗯，大家以后会遇得到啊，遇得到的时候嗯再进行一个。这个内种只能送到中低位吧啊。

一般很少写这类内种。我，们来看一下下面一个内容。第11个。要扫一下档口啊。呃，这个也是很重要的。我们一般在对方给一个网站之后啊，我们用N map扫一下，看对方开了哪些端口啊，开了哪些端口。

目前是80端客，不80端客一般的如果你扫，没有发现这种，有的时候你会发现一个惊讶的会发现有什么9091或者21。啊，等等过来那种，我8点8点钟去。43都可，而且这个。嗯，还不一样，那网站还不一样。

就是说有多个网站在这台服务器上面。那么这个时候有其80洞也许这个嗯它是一个生产环境用的网站。也例如这个9091是1个备份啊备份的网站。备份。那么这个时候我而且这个网站做的安全性比较好。

那么这个时候这个网站如果安全性比较弱的情况下，或者没有修复一些漏洞的情况下，我们可以对它进行攻击。攻击完之后再跨拿下服务器之后再再来到这个网站。我们这个都有可能哈。都有可能。所以这个在深度设置过程中。

我们一定要注意啊，扫一下档口，档口扫描啊。因为你像用绿母N map都可以啊，免费的是N map。因为这个微博这个内存扫描跟系统扫描还不一样哈，系统扫是专门扫系统内种的。微博只是扫微博方面。一切流动的。

所以在渗读过程中取到的这个如果这个。网站没漏动，那么你建议用系统扫那就是扫一下系统，看有没有什么高位的漏洞。而且开封的一些端口啊，这个端口很重要。好，接着我们来看一下这个内洞呃，这个路内洞是一个。

读取那种就是说。往任一文件读取。呃，这里有一个页面，这个页面呢，只要你输入这个用户名名称。啊，而且后面还说密嘛，但是在其他的地方，我们就审描一下。你要进入其他的页面。

必须要通过Z里进去输入账号密码才能进去。不然的话你你任何页面都访问不了。那么遇见这种情况。啊，我发现了一个问题，就有的时候啊你可以找漏洞的话，如果系统各方面都没有漏洞的话。那么你可以这样。嗯。

可以试一下这个。那文件读取。啊，我在这个发现这个文档这个地方啊，帮助文档相关软件这个地方。有一个路径，就是来到这个页面，这个文件有一个，因为文档下载嘛，包括这个帮助文档这个地方有一个下载。

这个下载这个地方呢有个fi类，这个等于这个参数。那么我们这个参数改了成这个啊，点点杠点点杠就是这个。相对路径啊相对路径里面的这个ETCpassword就是操作系统的么ETC目录pasword。

我可以把你。把它读取啊，可以读取。啊，读取。读取任意这个。帮我说。啊，SSADOW了这这个这个程序这个。密没得这个文件，你那个事。啊，这个是比较危险的，就说我们读到这个之后。嗯。

可以进行一个针对这个路册账号这个密码进行。破解哈希破解。呃，我们也可以读这个网站目录的一些配置文件。啊，玩让目的一个配置文件都是可以的。所以说它这个也上一个高位内洞哈，上一个高位内种。注意哈。

还有一点就是说嗯这个我摘来一个图哈。这个度跟这个不一样。跟这个还不一样。你你看一下我这条，我这个也是通过这个绿蒙扫描器摘出来的，绿蒙扫描器都可以找这条。呃，这个图跟这个地址还不是同一个网站。

我这里等于是。这个这个是另外一个网上这个图的。我攒了一个这个在这里可以看得到。啊，可以访问这ETC啊hoss啊这个嗯文件这个详细包里面可以看到这里。我念你。呃。

这个后里面有嗯过联IP地址的里面的一个对应的主件名。朱杰明。一般情况下，我们就读这个账嗯录制密码。报一些网站的目。啊。玩得你先。你通过这些目录，我们可以获取到一些。嗯，账号密码。在扬成读取系统里面的。

所有文件啊任意文件读取啊任意文件读取。这个是也是上一个高位，可以写成高位那种吧，高位那种。还有一些越场的测试页面。呃，这个也是用的比较多的。啊，用的比较多。呃，这种情况就是说。主内上这里有一个网站。

本来是想输入身份证和姓名。边号。你才能来到这个页面。继续留言。但是呢，我。为了我不想泄露我的身真实身份和这个姓名，那么我在这里直接。接这个页面。进入这个页面。那么我就直接浪过了第一个页面。

就是说我把这个路径改一下，改成就是正正常的这个页面。就来到在第二个页面的地址。没有没有。就这样就OK了。这越常就是说本来是要通过这个页面来到这个页面，结果我。我弄过第一个页面，来第二个页面。

我直接接入第二个页面的地址。啊。这个内东也是比较多的，尤其在一些大展啊，也些大展一些交易网上可以。大家可以测释一下。啊，就说我拒在之户，我能不能就是说。第一步不座来到第二步，可不可以呢？啊。

有的是可以的。或者修改密码，我直接绕过去啊，绕过手机键代。把资料填写账号。接入这个路径。后面的这个。成路径。我，这个是下一个这种就是IS的档文件名。好，先把教程暂停一下啊，等一下再接着讲解。



![](img/bb1f6d707882ebb1f62bca04abc3e66e_1.png)

![](img/bb1f6d707882ebb1f62bca04abc3e66e_2.png)