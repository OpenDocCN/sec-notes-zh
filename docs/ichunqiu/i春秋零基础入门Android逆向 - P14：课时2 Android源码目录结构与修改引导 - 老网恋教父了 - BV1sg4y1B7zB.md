# i春秋零基础入门Android逆向 - P14：课时2 Android源码目录结构与修改引导 - 老网恋教父了 - BV1sg4y1B7zB

大家好，我是贾。那么今天就来跟着大家来讲一下如何去呃查看整一个安卓项目的一些代码。啊，大家都知道啊，整一个安卓源码下架以后呢，就有近十几句啊，有上万个文件，这不可能说一个一一个文子去看，对不对？

那么这时候话的话我们要借助一些工具来达到我们快速的阅读整一个代码的一个效果。啊，首先来说一下它它的一个官方的一个应用。就是对这个安卓tud。安卓 studio的话，它是在windows上啊。

在linux上它有在MVC上都是有一个对应的版本的。所以是一个通用的一个开发软件。所以在如果你是在一个关同关图系统上打开在一个ele官网的话是可以下载下载的到相应的一个linux的一个程序的。好。

那么这里的框效果大概就像这个样子给大家看一下啊，嗯，这样一个。呃，在window上的一个无光图的框大概这样子。来嗯，我把它算到这个地方。呃，呃可以看到它是和呃window上是一模一样的。

然后它通过这样1个S脚本呢来进行一个启动，来看一下它的一个运行的效果。好啊，那么这个话它呃和我们以前一样，它是需要去先去配置一个呃JDK乘扣进行一个运行的。那么这里我就先预预装了一个JDJDK8了。

那么它就这样就是运行在一个G发的一个环境之下。那么这也那请大家在下面的话就自行去安装相应的一个JDK了。啊，这个的安装方板块和vi上是非常非常类似的。

也是一样在一个pass配变量中所把一个G变量给导出去就可以了。啊，那么这个就是一个呃linux平台下的一个呃安卓 studio啊，它的界面的话还有什么之源的，和windows上是一模一样的。

然后操作方法也是类似。那么这个的话，如果大家在要在一个linux环境下进行开发的话，可以啊用这个来试一试。好，那么这个是一个安卓 studio。那当然我们这一次目的的话是跟跟大家说一下。

有什么一个有什么好的工具可以去呃阅读我们的整一个安卓的一个代码。啊，首先首先呃如果大家在呃上一期节目中跟大家来说过了，我们如何去阅读整一个安卓的一个代码。啊，呃，怎怎么去编译整一个安卓代码啊。

假如是成功编译完以后的话，会有一个out目录下。然后里面的话就是我们所编译生成的一个文件了。好，那么这里就是我更析所生成的一些呃。一个一个系统的一个镜像。对吧，就在这好。

如果在在我们编译成功的基础之上的话，那么我们就可以使用它这一个呃安卓项目，它自带的一个呃源代码生成的一个呃呃脚本了。啊，那当这还是要先编译完成。编译完成以后，我们就能够使用它的一个原源代码脚本啊。

在这pre里面。好，可以看到一个呃develop to。嗯，看一下啊，看一下啊，在这个目录下啊，develop tools，然后里面有一个啊。相应的一个脚本。帮我们找一下。没。然后吃兔子。嗯，好。

这个IDIDE家人，你这里面的话有一个脚本，这个脚本的话就是用来呃生成一个呃I用来给一个IDEA所生成一个整个项目代码的一个脚本的。好。

那么我们就呃使用到这里面的一个这样一个脚本来进行一个项目代码的一个生成。好，我进来make一遍，先进入到这个目录下面进行一个make。啊，在make之前的话。

首先还是要呃先导入整一个安卓代码的一个编译环境。我们现在进入到整一个安卓项目的一个呃。再点一个目录下面吧。那啊那么在这里的话，由于每次呃。呃，因为每次都都要重新打一遍那个呃那个脚本啊。

说配置环境脚本比较麻烦。那么这里的话，我就呃写了一个呃。写一个脚本呢进行一个辅助啊，大家可以看到，它首先就是导出了我的1个JJDK6的一个环核心变量，在这home加一home里面去。

然后再在pass变量中把这两个呃变量给导进去。哎，大家看到这几个变量框和windows平台上的一个命名规范是一模一样的。那么大家的话可可以根据自己的需要进行一个呃命名。啊，这也就说明了我的1个GDK1。

6的框就放在按到这个目录下面去了。然后从这里一进行导入之后呢，我们就运行一个呃这样1个CR的一个脚本，然后就导入1个AOSP，就是一个模拟器的一个设置。嗯，这一个考核嗯。嗯。

和我们上一期节目所说的是一模一样的啊，也是运行这样一个I那的一个脚本来初始化一个数据。好，那么这里我就可直接运行这样一个呃的脚本了。那可以看到它现在的话就是自动的帮我们配置好整个环境。那。

这样把一个变译变译的一个环境给配置好以后的话，才能够正常的使用一个安卓下了一个make指令啊，还有AM指令M指令之类的。好。

我们就用到这样一个目录下面去develop本 tools idea running。呃，进入到目录下的话，是用1个呃CD指令，这个和winow上是一样了。好，这边这一个。然后再在这样一个目录之下。

运用1个AN指令来，因为AN指令的话，就是对这个目录进行了一个一遍make了。呃，MMMM的代表意思就是对当前目录进行一个make。好。那么可以看到它啊已经生成了一个文件。

一个ja尔文件放到这样一个地方去了。那这个ja尔文件是要在整一个系统编译完毕以后才能够出来生成的好。当我们生成这样一个java文件以后呢。

我我们就能够调用这样一个脚本来利用这样一个java文件来生成我们的一个呃目目标。先返退出返回到一个呃安卓源码的一个子目录。好。再在这里再在整一个程序的主目录之下呢，运行这样一个脚尾。



![](img/a0f198c8add63803b8a78da5a13ddfce_1.png)

嗯。你前。好，运行选在一个SSS选的脚本。好呃，运行这样一个角法，这是一个呃。也就是呃这样一个脚本啊，这个脚本的话，它整一个意色就是生成1个呃IDA的一个目录。好。就是就是执行1个IDA加点加。

就是刚才生成了一个指令。嗯，这有点慢，我们等他们完成。嗯，如果成功了以后就是这样。よし。哦啊如果成功了以后的话，会在整一个程序的总目录下会生成1个IPR文件。啊。

那么大家大家如果对1个IDEA比较熟悉的话，就可以知道在1个IL文件和有IPR文件的话，是IDEA所识别的整一个项目的一个源代码的一个文件。好，那么那么这个时候就能够用IDA去导入这么一个项目。

把这个导入进来以后呢，就是完成了对整一个安卓页码的一个导入了。那么这里我已经完成了整一个呃生成了。好，那么我们这里就是直接的去使用1个IDEA去进行一个项目微代码的导入了。好。

打开我们的一个安卓still。然后进行一个啊项目的导入。你直接使用open就好。好，然后定位到我们的整一个安卓源码的一个录入之下。好，看到1个IPI文件，这个就是它呃IDA所识别的一个项目代码。

我们对它进行一个导入。好，那么等一段时间的话，它就可以完成对整一个安卓系统所有代码的一个呃导入了啊，它可以先进进行进行一个分析。那么大家如果喜欢的话，在linux上的话。

可以自用加一种方法来进行一个代码的一个查看。啊，那当然在linux上的话，还有其他的一些工具，比如VIM之类的。因为用的属性的还有那些看也是可以的好。

那么这里就直接用一个呃呃一个安卓 studio来看了啊。那是导入导入以来以后的一个呃。

![](img/a0f198c8add63803b8a78da5a13ddfce_3.png)

结果是这样一个样子了啊，可以看到还是呃勉强还是说你可以看一下。呃，可读性性还挺高。の。那么这样一个的话就是在Lux上linux上平台的一个导入。啊，那当然啊在这里除此之外的话。

嗯还有一些还有一些其他工具大在后面再介绍。嗯，如果大家呃就是还有这两款工具的话，那么大家可以去自行去搜索一下来看一下，这里是在一个linuxlinux平台上是有一个对应的一个呃程序的。

那么这里呢可再再说一下一个windows上平台上的一个。呃，工略呃，在win上的话，我推荐使用一个呃。把缩写下来进行一个大码的查看。啊，在这里在这里，比如说我要查看一个整一个代码里面的一个某某几个文件。

比如说这里呃我就是整一个安卓4点4的一个代码，我放到这里了。然后我就要查看某一部分，我就在说上里面去对它进行相应的导入。我们决project。来注意一下，千万不要把整一个呃安卓代码都打入导入进去。

不然的话会变比较慢的啊，这里我我们就导入一一部分一部分。比如说这里我就把整一个框架一个framere给导入进去。好，我们再创建一个project，然后进行一个重命名。

你好这里选择bss打开我们的一个代码目录。呃，选择我们刚才的一个原网目录的地方。在这里我们打开一个frame word。好，点击确定。这个的时候这里这里在右面的话选择让我们添加的所有的一个原料文件。

我们选择at all。好，那么这里整一个程序就可以自行的进行一个搜索，再看有没有一个代码文件。你好在这里搜索完以后，我们等它都搜索完。啊，等它搜索完以后的话就可以出现呃，下面就会出现相应的一个文件了。

然后我们然后我们就可以把这些文件给添加进去。对好等一下好。然后这些文件就导入进去了，看到CPP啊，还有ja文件，相应的一些东西都已经导入进去了，取消好。那么这里就是已经导入导入内容。

导入完以后话再进行一个整一个破的一个重构。好，然后就然后让他来自动的完成一个分析。那么这一个的话就是整一个s inside的一个呃项目导入的一个使用了。那么在后面的课程中的话，呃。

如果要进行一个安卓代码的分析的话，基本上都是用这样一个工具来完成的。它在代码阅读能能的能力方面的话是比较强的。呃，相对比起那个安卓 studio来说还是长了一点，不是不是一点半点。嗯。

这一款工具的话在网上应该有啊挺多破解版的。那么请大家去进行进行一个搜索了。就是在这里就这个就这个软件，那么大家可以去自己去下一下一个版本，然后下一个注册码之类的。好，那么这就是一个缩写下的一个使用。

那我们等它一个导入完成来，让让大家去看一下它的一个导入结果，还有他查看代码是怎样一个情况呢。

![](img/a0f198c8add63803b8a78da5a13ddfce_5.png)

那好，那么这个时候整一个项目已经导入完成了。那么在这里可以看到一个类似图啊，还有一些什么之类的啊，这里可以找一下，可以找到一个类意的一个分析，还有什么什么什么。啊，那么这里哎这里这这里冲击双这的话。

就可以打开某某一个文件进行一个代码查看。比如说这里就可以就对一个class啊进行一个查看之类的。

![](img/a0f198c8add63803b8a78da5a13ddfce_7.png)

然后点击他们相面相应的情况的话，会在相面显示它的一个引用，可以看到可以看到它的一个源码。呃，可以看到啊这个软件在一个代码查看方面还是啊挺强大的。对吧。好，那么这样这个就是一个source算软件，呃。

在各方面用用的还是比较多的。好，那么这样一这一个就是一个windows平台上的一个代码查看的一个软件。呃，注意一下，它目前来说好像是在windows平台上有。好查下正这的winds行台上的。呃。

具体来说的话呃不太清楚。好，我们这这里是一个so形 site。那那么我就跟大家来介绍了几款工具了。如果有如果有那个兴趣的话，可以自行的去对代码进行一个呃导入，然后对一个安卓程序进行一个查看吧。好。

那么下面的话还有一点时间就跟大家来介绍介绍一个安卓代码的最基本的一个结果。啊，首先请大家去看一下呃，整一个安卓源码给下载下来以后的话，会看到它下面有非常非常多的文件夹。

然后每一个文件夹里面的块就又会有许多的一个源代码。啊，这个时候的话可能会让大家来感到一个呃一个混喷头喷头什么之类的，可能说看不懂或或者说什么之类。

那其实啊这样一个整一个安卓代码它的一个分布的话是非常非常的有一个呃规律的。它是按照某一种，它是已经把分类给弄好。比如说这里ART就是现在呃非常常见的1个ART模式啊，这是5。

0以后的1个I artRT模式。然后这里是一个一个derrickderrick的话就是一个derrick模式。那么在编译的时候话。

这两个地方就会分别生成1个AIBDVN还有还有还有那个AIBART的1个SO文件。如果是想要查看一个代码的。嗯，代码的一个运行，呃有那个DX文件的一个呃运行和编译情况话。

可以在这两个文件夹中找到相应的一个呃。只要相应代码的一个实现。那么其他的地方的话也是类似的。好，那么具体的话可以来看一下我这里的一个弹录。然后从这一个网站上的话也会有非常详细的一个说明。

啊那等这一个话是对于比较老版本的一个安卓代码的一个说明来的。但是这一个到到比较新的时间级版本的话也是通用的。



![](img/a0f198c8add63803b8a78da5a13ddfce_9.png)

好，也跟大家来说一下，主要的话那么在后面课程主要的话可以讲一下这样一个标语的一个呃东西。啊，这一个就是所谓的drry修理机了。然后刚才就已经啊出现过的一个development的话。

就是用于开发方面的一些东西啊。比如说NDK的一个源码，还有一些还有一些其他的1个SDK之类的，这是与开发方面有关的一个文件。那么developers啊。

那么这里的话就给大家看一下某一些弹幕的一项目的一个源码。还者说某一些嗯项目的一些呃写法的一些呃基本的一个东西。然后看享这这系整个系统的东西啊。你说。那么呃在这里在这里啊。这几个其实并不好说。

那么这里的话醒大家啊自己在下面去呃主动的去看一下吧。啊，那主要是看一下这个地方啊，另外还有一个就是一个LIBC的一个库呃，那个库的话是比较重要的，好像是在对。

但是在一个光景里面的话可以找到这样1个LBC还有1个DL的一个几个库，结构SO文件的一个相关相关的一个实现。啊，如果是想要对某一些函数进行一个类型的一个修改的话，可以在这里找到相关的一些呃说明的。好。

这里请注一下。好，那么其他的话就请大家下面自己看了。那今天的课程的话呃先短一点，就在这里结束吧，谢谢大家。

