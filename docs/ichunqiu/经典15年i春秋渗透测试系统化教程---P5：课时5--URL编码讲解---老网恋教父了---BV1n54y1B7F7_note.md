# 经典15年i春秋渗透测试系统化教程 - P5：课时5 URL编码讲解 🔗

在本节课中，我们将要学习URL编码的核心概念、作用以及它在渗透测试中的实际应用。URL编码是确保数据在网络中安全传输的关键技术，也是绕过安全过滤机制的常用手段。

## 概述

URL编码，也称为百分号编码，是一种将特殊字符转换为安全格式的机制。它最初的设计目的是为了安全处理URL中不常见的字符和二进制数据。如今，这项技术已演变为渗透测试中绕过防火墙和过滤规则的重要方法。

上一节我们介绍了渗透测试的基础工具，本节中我们来看看URL编码的具体原理和应用。

## URL编码的作用与原理

URL编码的主要作用是确保能够安全处理一些不常见的字符和二进制数据。它的核心原理是将不安全或保留的字符转换为一个百分号（`%`）后跟两个十六进制数字的形式。

在实际应用中，编码就像给数据“化了个妆”。数据本身的含义没有改变，但表现形式不同了。这常常能绕过防火墙（WAF）的检测，因为防火墙可能无法识别编码后的字符串。许多攻击载荷都采用了编码技术，因此理解编码的作用至关重要。

## 常见编码字符对照

在渗透测试过程中，需要记住一些最常见的编码字符。以下是关键字符的编码对照：

*   **等号 (`=`)**： 编码为 `%3D`。看到`%3D`就必须知道它是由等号变来的。
*   **空格**： 编码为 `%20`。
*   **单引号 (`'`)**： 编码为 `%27`。
*   **井号 (`#`)**： 在某些上下文中也可能被编码。

这些字符的编码和解密过程是可逆的。例如，`=` 和 `%3D` 可以互相转换。

## 编码工具与类型

除了URL编码，还存在许多其他类型的编码方式。

以下是常见的编码类型：

*   **URL编码**： 格式为 `%XX`，例如 `%20` 代表空格。
*   **HTML实体编码**： 格式为 `&#xXX;` 或 `&#DDD;`，例如 `'` 代表单引号。
*   **Base64编码**： 基于64个可打印字符来表示二进制数据。
*   **十六进制编码**： 直接使用十六进制数表示字符。

有很多在线工具和Burp Suite等渗透测试神器都内置了编码/解码功能。Burp Suite是渗透测试人员必备的工具，功能非常全面。

## 编码实战应用

现在，我们通过一个实例来看编码在实际渗透测试过程中的用途。

![](img/10c0004b92150f2392eaf02611255a04_1.png)

![](img/10c0004b92150f2392eaf02611255a04_2.png)

假设有一条SQL注入语句：`' UNION SELECT 1,2,3 -- -`
在传输过程中，它可能会被自动编码为：`%27%20UNION%20SELECT%201,2,3%20--%20-`

![](img/10c0004b92150f2392eaf02611255a04_3.png)

这里我们可以看到：
*   `%27` 对应单引号 `'`
*   `%20` 对应空格

![](img/10c0004b92150f2392eaf02611255a04_5.png)

在某些严格的输入检查场景下，如果不进行编码，注入语句可能无法被服务器接受，从而导致攻击失败。例如，在查询数据库名时，系统可能只接受编码后的参数。

因此，在渗透测试中必须建立编码的思维框架。你可能会遇到各种编码，需要知道使用什么工具对攻击载荷进行编码，以及在得到响应后如何对其进行解码还原。对这些操作必须非常熟悉。

## 总结

![](img/10c0004b92150f2392eaf02611255a04_7.png)

![](img/10c0004b92150f2392eaf02611255a04_8.png)

本节课中我们一起学习了URL编码。我们了解了URL编码的设计初衷是确保数据传输安全，如今它常被用于绕过安全检测。我们掌握了等号、空格、单引号等关键字符的编码形式，认识了URL编码、HTML实体编码、Base64等多种编码类型。最后，我们通过一个SQL注入的例子，看到了编码在实战中的具体应用和必要性。熟练掌握编码与解码，是渗透测试人员的一项基本技能。