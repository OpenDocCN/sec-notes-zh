# 经典15年i春秋渗透测试系统化教程 - P34：课时1  验证码分类及原理讲解 - 老网恋教父了 - BV1n54y1B7F7

呃，我们今天这节课给大家讲解一下这个捏战码的安全。那么这个验证码啊，什么是验证码？验证码就是这几个。首先它的英文单词一个缩写啊，CIP啊TCHA。他有这些单词来进行。

主要就是说一个检测有computerau public。trainingt to tell computer and humanman party。

那么这个就是呃翻译成中文的意思就是全自动区分计算机和人类的这个图点才试。它的一个缩写。那么逆代码它主要作用它是一种区分用户是计算机还是人的这个公共权自动程序。

它可以防止就是说恶意暴力破解密码、刷票、乱坛灌水，有效防止这个某个黑K对这个某一的这个特定的注册用户。特应的这个程序来进行暴力破解的方式进行不断的一个登录尝试。那么实际上用这个验证码。

是现在很多网站通用的一个方式呃的一个形式。那么我们利用比较简易的这个方式实现这个功能。那么这个问题由计算机生成B。品判，但是必须只有人类才能解答啊，由于计算机无法解答。

这些问题所以回答出问题的用户可以被认被认为是人类啊，这现在马来主要作用是做什么样的？他主要是解决这个啊。过意破解密码、刷票、灌水等等，就黑客攻击的。现在就是说大部分网站都有这个验证码。

你看1230612306的验证码是最最变态的啊，什么变态。以前那些验证码很多网站，包括现在也有部分网站验证码比较弱。就是我们在这节课要讲到的，后面还有一些实验，有几个实验给大家会演示。

后期就怎么样去突破验证码。我们是对这方面的一些防御啊修改。Yeah。那么聂战宝他是最早是2002年有这个卡内卡内基美这个基美丹大学这个路易。路易斯的方案啊提出来的，还有IBM的嗯这个也。赵启成啊。嗯。

看。起出。但是后面这个注册商标就是说卡雷基。每旦大学他注册这个申请这个把这个验证码申请为注册商标，但是在2018年4月21号被拒绝。然，后面大家可以自己看一下。那么现在我们主要看到它的第二部分啊。

那作勇刚才在前面给大家讲过就是。刷页的用的，就是说以前就是说没有验证码的情况下。啊，让他发广告啊，一大片就是用个自动工具刷刷的啊。是。现在有有了验证码之后，那些工具就很难识别，很难识别就是嗯你刷广告。

就是批量的去到一些论坛去刷发帖的话，就存在困难，包括这个后台密码暴力破解，前端用户暴力破解。啊，没验证码的话，别人就是挂一个字典平安的用户。一一跑跑一大片这个漏口令，这样的话是比较危险的。

这样的后解决了这个网站的这个安全性。那么它的作用主要是防止这个黑盖对特定的这个用户注册，特定的这个程序啊暴力破解方式进行一个不当的尝试。那么实际上这个验证码它是现在很多网站的通用通信方式。

你像银行都有啊，招商银行啊、网上银行，包括百度社区，它都采用了这个验证码。那么我们就利用比较简易的这个方式实现了这个功能。实上登录就是说需要输入验证码。在以前05年到06年的时候。

那是很大量的网站都是没有验证码的，基本上没有验证码。那，登录的话，输只要输入用户名密码，就登录上去的。但是这个比较危险啊。虽然是带给用户带来了方便，但是给这个安全带来了这个麻烦。就是说。嗯。

用户不安全的，对拜？在这里就是要提醒大家，就是说。在这个网站，就是说你你对你的这个密码。一定要设置嗯数字加字母加退殊符号，6位以上就建议是8位以上。这个是标准的8位以上密码。

不要使用这个1234来的这些简单的密码，或者你自己的这个呃用呃这个密码跟用户名相同啊，是吧？密码123456啊。包括你这个自己的姓名啊或者身啊，都要用这样的一些，然，或者是什么嗯。嗯，前面是你的网站名。

后面一个花A就是一个。这样的一个符号对。对右箱符号，那么后面再接一个什么嗯。2014是吧，20152013嗯，这这样的密码或者什么12，后面再接1个123或者，或者是这类密码是吧？这是相当不安全。

因为有规律，所以说很容易被这个黑K破解啊，或黑K破解。Yeah。那么这个就是验证码的一个模式，就是说当你发帖的时候，需要包括登录的时候，需要你输入这个验证码。好，下面我们接着来看一下这个概念性的东西。

大家自己看一眼，看一下就行了哈，就知道它的作用啊，它是做什么用的啊，后面的更记方式我们用实验给大家演示。所以这个大家自己看一下，不在这个做太多的啊序。那么首先我们来看验证码呃。

接着我们来看一下验证码的分类，它主要是分有JFGF动画验证码啊，这个就是这个主嚼的这个验证码通过是一个一般的情况是通过一个静态的图片。那么静态的图片，它是比较容易就是被OCR软件可以识别啊。Okay。

这个等一下会给大家嗯演示一下，就是说怎么样去突破验证码进行对网化后台管理员暴力破解。我络是的识别机不容易接受。辨别哪哪一个这个图产是真正的这个什么。验证码图片就是GF动画形式的，是这个还是比较安全的。

就是动的。你看D3EF10还有一个汉字啊，这个比较恼火，它还是动的啊，这个动一下，就是你鼠标你点一下它就动的，它变化的，它是一学啊，这样的话就是说一般的工具是很难识别的啊，很难识别的。

只要你的库量比较大。可以提供这个清晰的图片的同时，可以有效的这个防止这个。识别机的这个识别啊，就是软件的识别，就是黑客在攻击的时候，它有一个软件啊，这个软件就是说嗯采用这个OCR的OCR的方式。

OCR大家应该接触过。尤其我们就是在网上下载文档的时候，你看就如说都是在文档，你是不能编辑的那些数籍啊，不能复制里面的内容，那么一些盗版的书就用这个。复印机把复印出来之后，就是。在网上再网上。

我们如果你想把里面的内容提取出来，那么你要通过OCR这类软件，批量的直接把它。OCR一下就那么OCR之之后，那么这些文字就可编辑这些文字。嗯，可以编辑就是直接比它可以改内容嘛。你就是说这个数据基本上。

对别人如果在再利用里面的内容来做其他的，是不是没有一点这个安全这个防护啊？那么据统计哈，动画加F这个验证码，这个仿这个垃圾注入啊，就是这个推广方面的一些广告啊可以达到百分之百啊。

是一个非常有效的这个验证码的一个创新模式啊，同时加F动画效果可以达到多达百种啊，也可以增加网站的这个页面的一个美观效果。啊，这个是现在就是东莞形式的是比较少，就是说现在很。那在国内上没有嗯大量流行啊。

看接着我们来看一下手机短信的验证码方式，这个用的是目前是最多的啊，就是说你在微信上面或做其他的网上交易的时候，都要你就是包包括这个银行啊，淘宝啊，后面这个验证码都是采用手机短信这个验证码方式。

因手机验证码都是它是通过这个发送这个验证码到手机上面。那么大型网站尤其是购物网站，都是提供了这个手机到信验站。当时手机档信啊这个需要做一个限制，就是说发生短信的时候，限制在60秒钟，约人1分钟。

如果你输入这个一分钟之内，如果你还没有把这个验证码输入到。网站这个来进行提来进行交易的话，那么这个验证码就过时了啊，这样的话有效的就是房子的这个配K在这个一分钟之内，把这个验证码或者4位到6位。

这个验证码把它暴力破解。啊，如果你这个时间设置个5分钟或者10分钟，那么比较长的情况下。那么这个验证码也是可以暴力破解的，挂1个BORP一下子就跑出来了。尤其45代验证码是相当不安全的。

所以手机电站不一定安全。手机电站是你需要时间限制的30秒或者一分钟，你必须要输入正确的这个链字板，不然的话你这个就不行啊就。好，我们接着看某些这个验证码记录商提供手机短信验证码服务。

那么各个网站通过这个接口发送请求到这个接录上的服务器。那么服务器它发送这个手机数字或者字母到手机中由记录商服务器统一做这个验证码验证啊，就是说这个有一个专用专用的这个一台服务器。

专门负责这个验证码啊进行一个验证的。Thank。我接着我们看后面手机语音连怎码。呃，这个语音也是目前来讲国外用的小网录啊，像哥歌啊。是吧。他就是用他的语音靓才嘛。还有这个。



![](img/915cabc4f7005441ad1e5ed596237dec_1.png)

你们看一下。在购gle里面有一个。Yeah。没打开这个。我这也打不开啊。我疯了。呃，本来是可以打开的。嗯，我这边应该赶了耗时耗时又好像被封掉了。嗯，要登一下VPM，然后这里就不登了哈。呃。

其实一般情我看一下。

![](img/915cabc4f7005441ad1e5ed596237dec_3.png)

换个换个浏览器试一下。

![](img/915cabc4f7005441ad1e5ed596237dec_5.png)

![](img/915cabc4f7005441ad1e5ed596237dec_6.png)

Yes。Yes。Yeah。

![](img/915cabc4f7005441ad1e5ed596237dec_8.png)

。哦，我在这里说一下吧，打不开。呃，这个是呃就手机语音验证码，这个在go个包括这个UBT啊上面都使用啊，在国外用的相当多，喜欢用这个语音验证码。所以在验证过程中。他是通过什么方式呢？

他就是说呃过gle或者嗯包括他们那边自动的会打一个电话给你对你的手机会响，你接通电话之后，他就会告诉你真正的用户，你的验证码是多少啊。他在告诉你直接原因告诉你，你再直接输入到这个。

你在验在码这块框里面再进行点确认提交啊就可以了。它中间站是采用这个啊语音验载啊，语音验证就是UT B啊，它就是这么做的啊，这个这种方式我觉得是相当安全的啊，比前面的方式还要安全。

你看这里就是只只要用户对手机或者座机能正常接听电话，就一定能收到语音验证码啊，他就会告诉你验证码实现自动语音播报，同时短信也能同时发送到这个用户手机。哎，发这个短信好像是不发的，好像UUTB好像是不发。

嗯，我记得啊，因为前段时间我一直在有呃上UTB这样的网上看视频，所以说包括有有些网有些这个视频是不原先看的啊，尤其你的微P不是就是说你的IP不是美国的啊。

韩国的日本的或者其他的朝鲜的那么他每有些视频它比如为嘛18周岁啊等等这些这那内容，他就不难看，要你输入这个呃手机验证啊是吧？这个手机验证，就是要输入某个国家的中国的手机号码还不行啊，人家韩国的内容。

你要输入韩国的手机号码啊，还你还要输到这个。嗯，验证码这个没办法，这个没有有有什么办法呢？这个嘞语音验证码。啊，这个也是很难突破的。但是有一个办法，像UTB它这个验障码看视频，这个很好突破。

它每个国家是不一样，所以你如果列到你你的VPM是日本的，那么你当开VPN连美国的，那美国它真没有限制。那有些国家比较开放啊，不需要这个看视频，有些东西，有些内容它是不需要这个验证码的。在这里提一下。

那么同时也能啊发生到这个用户手机上面，比是短信的形式啊，主要是为了这个商保险啊，万无一失。啊有的好我记得好像我刚才说过这个UTB好像是好像是不发短信的，好像是直接语音的啊啊就是说好像有多两种选择。

有多种方式选择吧，有有箱接收吧，好像还有一个这个手机的一般的是采用语音啊，我喜欢用语音的。没有一说，马上他这个打电话过来。啊，第三种就是这个。嗯，第四啊这是第四种视频验证码。

那么这个视频验证码也是相当安全的，就是说。它是这个验证码中的一个新秀啊，将到一个发散趋势。那么这个视频验代中的手机数杂字母和这个中文组合而产了这个验证码啊，动态的。嵌入到这个MP4。

包括这个flash里面啊，等于可就是这个视频中增大了这个破解难度。那我们验证码视频这个动态动态的这个变化，随机响应啊，可以有效的防制这个防范这个质典攻击啊，重举攻击等一些攻击行为。

视频这个中的这个验证码字母，包括数字组合字体的这个形状、大小、速度的宽慢，那么显示的效果，包括这个轨迹的动态变化。那么增加了这个恶意抓屏破解的难度，其安全度远高于一些普通的一些验证码。

而且这种验证码形式使用或不会受到这个。不会感到这个枯燥啊，由于其提高了这个机器的识别难度，从而可以降低用户的识别难度。是使得这个用户更容易变卖。但是由于需要较高的继续支持，那么此种验证码。

到目前反正国内是没有补价，几乎没有136没有也没有采用这个视频的方式。那么国际上已有几种提供这个服台公司，其中还包括一家中国青岛啊这个。印象派的这个信息技术啊有限公司，他这个印象服务平台也有。



![](img/915cabc4f7005441ad1e5ed596237dec_10.png)

那么你看见目前我觉得这1236，它这个验证码相当面条。那在国内来讲的话。

![](img/915cabc4f7005441ad1e5ed596237dec_12.png)

我的这个13米的就是买火车票。能看到这个。Yeah。

![](img/915cabc4f7005441ad1e5ed596237dec_14.png)

![](img/915cabc4f7005441ad1e5ed596237dec_15.png)

你看上天说这个登录名密了，你看这个验证码才这个。啊，要你想胶卷老虎，你这个工具没法搞这个东西，你工具很难拉，你基本上拉拉不过去，除非你看有楼辑来种了有。不然的话你没写，你看你人那有有些你家找不出来。

还要去哪里找胶卷，有些，你看这些胶卷，这些胶卷是吧，这些胶卷大家考有的是数学题目，考考智商的，你看西引啊，西引是吧？你看考考智商的这个玩意花生但是搞这样搞这样的验证码图形的啊，在这里写这个做题啊。



![](img/915cabc4f7005441ad1e5ed596237dec_17.png)

这是国内的国内的国内的比较变态的就是1306。那有的时候做伤害不行，有些验造玩家搞不出来。但是嗯手机啊手机这个语音验证码短信验证码目前还是嗯我看的比较多的哈，包括GIFGIF动画信息。但是第四种视频。

这个念战目前少。啊，目前是没有普及。前面沙菌还是挺多啊，用的还是比较广泛。那，我们来看一下这个验证码的这个原理，这个整体的这个验证码实现原理。那么这个实现原理呢，就是我们你学过了它这个原理之后。

后面对我们就是做这个验证码突破是有很大的帮助。你要知道是怎么回事的。首先我们来看一下验证码有客户端，有服务端。那么客户端。因为就是我们的用户服务端就是服务器，就为我为用户提供服务的呃网站的服务器。

我们客户单他首先就是我们用户首先要向这个。服务端发生一个请求，请求之后，这个服务端收收到之后，它就会响应创建一个绘画。它有一个绘画设想ID，同时会生成一个什么面代码给K服端。啊。插那个手机的一个验证码。

它是手机的哈，还有一个绘画。第三步做完之后，他还在接着做什么呢？服务端会将这个验证码他一起发给这个。客户端，那么客户端他怎么做呢？客户端收到这个这个绘画CID啊跟这个呃服务单给我们这个验证码。

就随机查证的这个验证码。那么就有用户就有这个客户单，就是客户端的这个用户去输入这个验证码，连通这个设试ID这个设试ID它是嗯。一次性掉好，就是说当你刷新验代码的时候，那么这个CCID它就会不一样了。啊。

如果生产低。他一直保持不变的，那么是存在漏洞的啊存在漏洞的。嗯。比如说客户端提交这个呃，收到之后，就再接着用户输入这个验证码，连同这个设试ID给给我们这个服务端。那么服务端接着他怎么最后一步。

他怎么做呢？有服务端他做怎么做呢？他就会嗯。验证这个验证码。看是否正确。重时验证码如果是正确的个，正确的话，他就会销毁当前的付款返回给。Q户它啊，你这个验证码是正确的啊，可以允许登录啊允许登录。

它就是这样的一个过程。这样的一个过程。啊，这里原理我给大家洗你洗了一下。现让我们看一下它这个安全这个案例，就我们这个给大家讲解一下这个。年咱们的这个相应的时点。我们要突破这个验证码。

比如说我们通过这个大家知道这个原理之后，那么我们需要突破突破这个流程，大概成是四个方面着手啊。第一个是客户当队管安全问题，还有服务。第二个是服务的安全问题。第三个是验证码的本身问题啊。

还有一个就是说念什么楼辑设计问题啊，12306以前是老老被那个了哈，老被干掉了。就是说那些软件大量的，那这刷票软件太多了啊，那是后面他搞了一个图形化的这个。呃，验证码之后啊，就是现在现在最复杂的验证码。

啊，后面又报了一个人了，就是说这个验证码这个流这个逻辑来的，好像又出问题了，又被突破了。但现在又把这个规段又修了，现在现在还没有新的办法去突破这个12306的这个验证码啊，就目前来讲啊还没有看到报出来。

比如说。最新的还没出来。啊，记住这四个方面，我们现在看一下。首先第一个是K国装队这个问题。那么我这里举了例子，拉拉污远的一些案例啊，我这里没搭建环境嘛。如果我等一下扯出的话，也就是两个案例。Yeah。

它这个验证码是由客户端这个GS文件生成啊，并仅仅在客户端用这个GS验载。我们来看一下兰开大学的一个案例。



![](img/915cabc4f7005441ad1e5ed596237dec_19.png)

て。Yeah。

![](img/915cabc4f7005441ad1e5ed596237dec_21.png)

您看一下。南开大学择登录页面的时，就是用户登录页面。它是采用的这个本地的GS来进行对这个。验证码验证，也就是本地碰到，本地碰撞就是很不安全。在用户他自己的这本地的这个GS文件来碰断啊，是否这个验证码。

就是说验证码与用户在本地来进行对比，看是否正一样啊，一样就正确，不一样就。

![](img/915cabc4f7005441ad1e5ed596237dec_23.png)

你就老过去了，那么这样的话就很简单了。

![](img/915cabc4f7005441ad1e5ed596237dec_25.png)

那本地的GSGS突破就很简单了。那么你写一个脚本，啊，你看这个别人写了一个脚本，这个配合脚本直直接绕过去了，直接在本地对比。



![](img/915cabc4f7005441ad1e5ed596237dec_27.png)

![](img/915cabc4f7005441ad1e5ed596237dec_28.png)

直接弄过去。

![](img/915cabc4f7005441ad1e5ed596237dec_30.png)

啊，这个是。退货单这个验证。那们当然K股刀舰战的方法有很多好，对突破方法太多了，也可以用BIP拦截一下。我把本地的这个删删掉，就不做不做两证了。因为本地嘛本地是没有把街市禁了。嗯。让他不得比较。不比较。

就是说直接在这个包括这个验证码的这个输入代话框，我也可以删掉。啊，这个利用火狐的这个后面直接把这个参数删掉啊，不做粘在的。因为不是浮务动验证，既然是本地验证，和验不验证都无所谓啊。

我直接BIRP把这个验证码这个相应的参数把它干掉，不要了。把GGS禁用这样呢不就绕过去了吗？这很简单，是吧？就跟这个我们上传那段前面给大家讲过，就是这个关于这个客户端GS通货。反正B2B的面13就解决。

上传来的就就是这ke端的嗯ja验证的方式啊，这是一种方法。就是但是他这个文远这个案例，他写了一个配合脚本，我觉得是这个没必要，你先把这个简单的东西搞得太复杂了。好，接着我们看一下第二种方法。

在你哒没输错哒客户了。啊，客服了。大大姐，大家我跟你讲，这种案例也比较多啊比较多。我就是呃微信刚推出来没多久的时候。那么我是第一个把微信的这个任一手机号可以修改密码。啊，任意注册账号。

任意注册账微信任意注册账号，也不管谁的手机我都可以。我不我随便输一个手机号就可以念就可以呃注册一个账号。而且他发送这个验证码到对方手机，我不我不需要拿着手机，我直接。可以知道验在码？为什么？

因为我发现他他在这个微信的这个首页上面，他有一个首页嘛。他这首页在HTM的代码里面。它采用MD5的就是验代码在发送过程中，同时在这个HTM的管件里面有一份。那么这个我打开这个查看HTM的源码的时候。

发现有，但是它经过加密，采用什么MT5加密的。另为D5加密五六位的全数字的密码，放在网上一解就解出来了，那也是相当不安全的。非种神一样的程序员，所以说别别说别管就是其他的一些案例啊，比如说索尼啊。

一些我国内的一些呃考试报名系统啊。啊，包括微信刚开始都存在这个内容。还有的就是说嗯把件代码直接发送到Q掉里面，客户端在Q6里面，或者输字到这个呃listporthe是吧？啊。

这个数据包里面啊这个返回的数据包其他在字段里面，采用MD5为值啊，或者编码的奔64加密的一个编码形式。那么这种编码以及要通过BIRP啊，或者网上都可以放的进去，一解一解码就出来了。MD5加密的数字。

那几秒钟就解妹出来，太容易被攻击者破解啊，印象破解，得到原子。包括有些它进行加固了或者加盐了，那这种也是。可以破解的也不安全，应该选数字的嘛，一般键怎码它是没字母的，手机键在码。啊，这个你看索尼。

包括一些考试大学的一些案例。

![](img/915cabc4f7005441ad1e5ed596237dec_32.png)

那我这里把地址给大家提供了。又整理了一份。

![](img/915cabc4f7005441ad1e5ed596237dec_34.png)

你你看。我这个念证码，他就写输出到这个。页面里面啊页面里面。

![](img/915cabc4f7005441ad1e5ed596237dec_36.png)

你看这个再接着看一下。

![](img/915cabc4f7005441ad1e5ed596237dec_38.png)

Yeah。

![](img/915cabc4f7005441ad1e5ed596237dec_40.png)

Yeah。

![](img/915cabc4f7005441ad1e5ed596237dec_42.png)

，嗯，我然打不开啊。可以的。

![](img/915cabc4f7005441ad1e5ed596237dec_44.png)

你看。😊，他这个年代码，我们在这里查看源代码的时候，你会发现一个什么问题，那个8017。你看。他妹密有他把这个8。17拆翻成4个图片，8。17的IMG8MGD安上GEIMG7这比较。比较可笑的一些。

那就搞成这种方式。所以一看我就知道在这个里面最严重的，这个也是不安全的。

![](img/915cabc4f7005441ad1e5ed596237dec_46.png)

有神一样的程序。这这些现在码的Q不到。那么第二第三种是。面扫码输度在扣解信息里面啊，扣解信息里面。嗯。呃，在这里我们也提了哈在这里也提了然单独拉出来也单独拉出来一些案例啊。

一些案例就是哪哪些账会存在这些。有些系统默认不显时验上码，而是在用户校念错误一次之后才会出现啊，这个也很多啊，我在深速测置过程中也遇见过不少。他刚开始登录的时候。

他第一次登录没有没有连长码输入用或命令码。他就为了很给用户增加这个体验，就是说。不会麻烦，因为优会输对面的码输。每次都要输验战码比较老火的一件事情啊，增加为了增加用户的体验之外。

它不需要用户体输入验战码。但是当你密码输入两次错误或者三次错误之后，那么验证码就掉出来了。那么你后面输入就每次就就要验证码，每次都要验证码。所以说这个还是比较。

比较好的啊比较好的防止这个暴力破解啊暴力破解。嗯是如何判断呢？就是说这个网上是采用这种方式的这很简单，你你随便输入几次面膜错。来看他会不会在后面会。出现在干哪？那么这种验证码。

它有的时候它会写像这种形式，有的时候它会在扩制中写入一个标记哈，比如logo1R2等于1。这代表错误。那么接着他在当你输入第二次错误的时候，或者等于2它一次累累价会累加三次错误。就是碰到扣的信息里面。

的扣的就是说。呃，在库调里面。嗯，它会累加累加123456。当键输入3次错误之后，它就会放到这个尾3的时候来进行一个弹出一个。嗯要你输后面登录的时候，需要输入验证码。

还有有的是在这个sessions在绘画过程中加一个标记。加一个标记来进行计上这个捏算码凑误的一个累加啊累加。那么他的这个突破方法。怎么突破呢？他就是说攻击者如果不带不不带这个扣调时提交H对比请求。

或者说攻击者不更新扣调时中在这个logoER遇到错误的反复的的提交呢。那么这样是不是成序啊因为无法获取到这个科就是和C3D不那个根记者是首次访问的，对不对？这样的话就突破了嘛。初不过去了。

就是说我不更新科就。我不跟你课就是，他每次都是一嘛？每次睡衣的话。一直是一那一直是一的话，我是不是可以暴力破解了和密码批量来拆机了？但我一直不需要输入这个验证码，因为它是一个累加嘛，它直接达到3次之后。

它就会出现验证码。这里有很多举个例子。吉祥航空啊，航空公司也出现这种呃多次一些大战。

![](img/915cabc4f7005441ad1e5ed596237dec_48.png)

看看。

![](img/915cabc4f7005441ad1e5ed596237dec_50.png)

这个。真人扣得起来。而，且他这个是根据绘画啊，试一试。写个程序跑，我，看看代码是不是照样数据返回银行。Yeah。在买机票的唉，就这样拖了。过学时间没有不过过学时间。我们还有很多。



![](img/915cabc4f7005441ad1e5ed596237dec_52.png)

She。5173。

![](img/915cabc4f7005441ad1e5ed596237dec_54.png)

所以说大家以后。唔该。我直接写过了，这课再写到这里面来了。

![](img/915cabc4f7005441ad1e5ed596237dec_56.png)

Yeah。好，关于这个写嗯写到这个cols里面，你绘画里面，我们就给大家讲这里。在家网上有污染上面有很多这样的案例，大家自己去看一下。嗯，什么今后遇到这种方式的时候，怎么样去突破？Yes。呃。

接着我们看一下服务担问题。这年咱不过期，没有及时销毁。导致这个验证码复用，这个是目前最常见的。呃，很多网站他是。就是说在念站的。就是说验证码在我们微博服务器对应的一个设选的值的时候。

如果完成第一次验证不标记这个设选已经失效的话，就会造成同一验证码反复可用。啊，比如说我们这个图里面。第二个就是就是我们这个。就是我们这个绘画。我们这个事项绘画就是说发给给这个服务当的时候。

而客户端提交的这个验证码，联通设上发发给这个服务装内型。就是服务端验证码，就是这个服务端这个验证这个验证码没有销毁当前这个规划。为什就要出现在这里。比如说服务端在验证这个用户发给发过来的这个用户名密码。

改验证码之后。正确还是错误？验证完之后，应该要对当前的这个。现证把这个绘画要进行消除销毁，如果没有销毁，那么那么就存在漏洞。存在漏洞。那因为没有销毁嘛，那么下次用户还画一个工具还可以进行提交的。

批量提交，这样漏洞就产生了嘛。那么就造成了这个同一验证码反复可用。此时，那么验证码就不再有用。攻击者在扣脚中带固定的摄像和固定的一个验证码字符券就可以轻松暴复。うん。嗯，这个是比较多的。

大家可以这里有一个苏宁这个易易购。那么这个我会。嗯，等一下会单独给大家拉一个实别给大家演示吧，后面再演示吧，先把这个案例讲完。还有一种就是我们这个没有进行非通化碰断。

就很多时候我们这个遗留掉了这个验证码过程中的验证码伪坑的情况。比如我们去掉库解书的每个值，或者请求这个验证码的这个参数，这个也有大量的案例，有很多这个么 shop啊CMS。这个。

ES8这样的这样的系统啊都有。就是说我它直接可以什么。

![](img/915cabc4f7005441ad1e5ed596237dec_58.png)

去掉。Yeah。

![](img/915cabc4f7005441ad1e5ed596237dec_60.png)

比如说把它这个对话框去验证码的这个地方，这个参数把它直接删掉啊，删掉。

![](img/915cabc4f7005441ad1e5ed596237dec_62.png)

。Yeah。你们来看啊。

![](img/915cabc4f7005441ad1e5ed596237dec_64.png)

よ。大家可以打开看一下。

![](img/915cabc4f7005441ad1e5ed596237dec_66.png)

你看他这个念证板。

![](img/915cabc4f7005441ad1e5ed596237dec_68.png)

没眼蛋没4个1是吧？没说。你在这个用BRP拦截，拦截之后，你把它这个。输念代码这个地方，这里前面是usilname aD米是吧？这个用户敏捷地方，后面password等于AD米，就是这个输密码的这块坑。

后面念代码就是这个。

![](img/915cabc4f7005441ad1e5ed596237dec_70.png)

![](img/915cabc4f7005441ad1e5ed596237dec_71.png)

我帮你把这个我把这一节把它删了，不要了。那么就只有这一节再连上这个后面的这这一节。那么我不要这个字的，那么就绕过去了嘛，对不对？



![](img/915cabc4f7005441ad1e5ed596237dec_73.png)

这也是一种方法吧，因没有进行飞控他们。当他胃空的情况下。他没有去判的的衣服条件。那么就造成了这个漏洞。就是说。接着我们看一下产生的验证码这个问题的一些。就是说你像139。

这个就是说这个验战版内内存库有线，你看12306现都在验战嘛，它内存库是比较大的哈，要各种图片要各种显显得。



![](img/915cabc4f7005441ad1e5ed596237dec_75.png)

![](img/915cabc4f7005441ad1e5ed596237dec_76.png)

![](img/915cabc4f7005441ad1e5ed596237dec_77.png)

有数学题，有学科题，生活中乱七八糟他都包含进去了。您看这个。我么1234是吧。在139的这个突破和图形验代码要绕过来的。他这个图形验证码，他他是什么？导出的关键功能就是防止这个程序自动化攻击。

那它这个念造码比较简单哈。因为这个139的这个图这个。重新那个验证码。他都是采嗯他都是采用的同一套这个。陈念。你看就是说一衣1234。那火车就1234，你在这里。重新验的么1234。

那么们在这里就是说比较简单是什么意思啊？它就是就这么几个东西，没一副火车啊，你再去刷新一下，有其他的再刷新其他的。但是我们可以把它的更库全部提取出来。我们再进行破解。因为他的库比较小，所以说。

可以突破可以突破。除非这个库要相当大，然后别的就是没有，因为他他就是用户就是根记者，他可以收集这个库啊，把它每次保存，每次保存。保存之后，我们在本地换一个工具来进行来进行识别。这样就就突破过去了。

由于本地比较。啊，因为我这个库里面有嘛。这样不就绕过去了。就是说。啊，你在嘛，你在设计的时候，不非你采用这种方式，一定要这个。互比较大。他概会比较大。



![](img/915cabc4f7005441ad1e5ed596237dec_79.png)

呃，接着我们看一下其他类型的这个验证码 logo虎，比如调试更能啊，还是这个设计缺陷，像阿里巴巴。某个员控登录接口的这个验证码就可以账户。啊，你包括163126等等这些电代板都被撞酷了。

因为它的电载码它是比较弱啊比较弱。它这个落的拿里就是说跟这个139的1样。他这个验证码这个验证码几类，他的这个答案，就是这个答案，这个什么一一法火车刀啊，191234这等等。再刷一下这几个这几个。

就有的人，他把整个网站的这个库全部收集来，就是他这个答案全部收集来，在本地来进行校验。

![](img/915cabc4f7005441ad1e5ed596237dec_81.png)

啊，来进行碰了来进行识别，这样的话就捞过去。在有了这个库之后，然后挂一个工具就很快的。

![](img/915cabc4f7005441ad1e5ed596237dec_83.png)

还有访客的呃，金克隆啊，你说不是。那个京东好像也也有，他那个捏证码库也出来了。啊家那个会议出来。啊，也也是可以绕过的啊，会绕过刷单啊，现在刷单经过经过了好多人在刷单，闲段时间一直刷。在网上也也在卖。

也在卖这个那你开一个店，我给你刷单。你们刷半你互相刷，给点钱。我收费好像也不高。哦，还有这个财付通啊，你看财富通。嗯，都绕过来，就么点其他的一些一下。还有一些大家自己看一下吧，有后后面形式的忘了密码啊。

忘了年代码，后面形式的。这个我就是。但是有些归类方面就没得归类在这这几个方面的，都放在这个其他类型的件证码啊。要大家学习年代码，要突破的研究念代码，大一定要把各方面的一些。稀奇古怪的一些案例都整理一下。

这样的话大家就分好类，大家自己在学习过程中就比较方便了啊，给大家有一定的帮助。不然的话，你刚学一点吸一点，不总结的话也是不行的。好，接着我们看一下念代码太简单容易被机器识别。OCR这里我。其他两个人。

对是其中一个广大症状。呃，这个被攻击的时候呃，也是我们。当时我也参与了吧，参与了这个提供这些解决方案啊，写他文档也老虎。因为这个验证码，其实光大证券它这个验证码。还行吧。嗯。

因为被用户这个发到物远上面的啊，被人发到物远上面，就说这个验证码可以被识别。啊，就他随便找了一个绕口令啊，绕口令它这个是针对就是用户攻击啊，用户前端登录的就是涉及到一个金额方面啊，就是说一些。



![](img/915cabc4f7005441ad1e5ed596237dec_85.png)

信方面这个大家可以看一下。当是那边就是光大那边，光大那边就打电话过来啊，打电话过来。说这个东西怎么样去解别，怎么样去解。哎，怎么发到个微信里？



![](img/915cabc4f7005441ad1e5ed596237dec_87.png)

啊，这个微信的啊微信的这个你看微信的任意用户修密码修改啊，就是说微信的所有密码啊，都可以采用采用这种那种机型，可以修改修改密码。那么这个影响也是当时比较大的。也是那个验证码的问题，就破验证码问题。



![](img/915cabc4f7005441ad1e5ed596237dec_89.png)

![](img/915cabc4f7005441ad1e5ed596237dec_90.png)

现在这个漏洞已经修不走修补了。我看讲大增长广大增长是经验。

![](img/915cabc4f7005441ad1e5ed596237dec_92.png)

他亲自亲自接触到的一个东西。

![](img/915cabc4f7005441ad1e5ed596237dec_94.png)

其实也不算什么内洞。当时。

![](img/915cabc4f7005441ad1e5ed596237dec_96.png)

那也就是说这个人也是怎么说呢？嗯，也不该说百分之百被识别吧。我看了一下他的这个工具啊，他一个这个工具。



![](img/915cabc4f7005441ad1e5ed596237dec_98.png)

也没有百分之百好。他都是瞎速的。啊，但是他在这个文章，在物染上面有很多东西写的比较夸张的。但是我们因为我在这方面也研究过很多东西验证码的东西，他这些根具都有啊，他要达到这个级别的，他是很难的哈。



![](img/915cabc4f7005441ad1e5ed596237dec_100.png)

![](img/915cabc4f7005441ad1e5ed596237dec_101.png)

然后他的这个用户名，因为用户名它有这个规律的，它这个。像这个光大证券这个资金账号。它是前面的运后面还是比较长的哈，还有很多一些组合，在这些他也写了吧，那你大家自己认真去看一下。

银行卡的资金ID是按顺序来生产的，确实按顺序来生产。按这个顺序上讲，但是他有些地有很有很多东西不一样的哈，每个人都不一样。所以他这个东西是没办法，就是说很难就是说。



![](img/915cabc4f7005441ad1e5ed596237dec_103.png)

批量的他就是国家道为什么他找一个弄了一个这个loc口令啊。比如说他而且他的密码就是按这个123456888吧来进行账库啊，来账库加装这个验证码来进行破解。



![](img/915cabc4f7005441ad1e5ed596237dec_105.png)

![](img/915cabc4f7005441ad1e5ed596237dec_106.png)

当时当时撞到了一个撞到了。

![](img/915cabc4f7005441ad1e5ed596237dec_108.png)

嗯。按这个方法来就是。

![](img/915cabc4f7005441ad1e5ed596237dec_110.png)

但是他这个验证板其实他有一个后面当时是这么解决的。那这个验证码可以识别嘛？图形验证码。呃，但是为了解决这个方法的话。就是说你打开这个地址的时候。还是就是我最终的解决方案，我在这里讲了，就是说看一下。



![](img/915cabc4f7005441ad1e5ed596237dec_112.png)

是我们才那种。我在这里给大家。经常用到的一种方法。就当你这个密码输入两次错误或者三次错误之后，那么这个面证码它自动变复杂。



![](img/915cabc4f7005441ad1e5ed596237dec_114.png)

然正我先说一下吧。就是说当我这个验证码你识别，如果通过工具暴力破解的时候，批量的话做的时候。当你密码使使用两次到3次的次。那么我这个。统设错误有密码错误，你在后面再往后面去暴力破解的时候。

那么他这个验造满就这款工具就不行了。啊，这个工具百分之百不行，为什么这个验证码会变的？这个变厂变成什么样的呢？就公开始简单的验证码。当你密码。错误3次之后，那么他的这个验证码加加缓线加干扰码。

这样的话你这个工具就识别不了。识别不了，所以说后面是这么解决的一个问题。

![](img/915cabc4f7005441ad1e5ed596237dec_116.png)

所以当时他出这篇文章的时候。

![](img/915cabc4f7005441ad1e5ed596237dec_118.png)

搞得相当夸张啊，没有相夸张，只是没什么影响。今家还是比较糯啊。也不是说他这个网上写的那么那样，你当时第一时间就到了我们这个手里。那这里你搞的是高的哈，你能想那搞。你看。在网上搞的是搞得像那个一样。

搞得泪火朝天，搞的夸张挺夸张的。

![](img/915cabc4f7005441ad1e5ed596237dec_120.png)

那，没什么，其实这个的这种技术也不算什么，等一下我会给大家演示。马那就给大家演示一下。当时是怎么做的？嗯。行吧，那么我们关于这一点呃微信的这个暴力破解，其他的一些案例，大家呃全部列在这里哈。

大家自己看一下啊，我不在这里做太多的讲解。嗯，下面我们就是说给大家。把这个练习给大家讲解一下。那么首先我们在这里我先把这个虚拟机打开。



![](img/915cabc4f7005441ad1e5ed596237dec_122.png)

啊，第一个第一个我先把这个环境打开吧。那第一个例子我们就拿这个网站来陈述一下，等一下。

![](img/915cabc4f7005441ad1e5ed596237dec_124.png)

啊，先讲到这里吧，等一下把环境调好，我们再讲解。

![](img/915cabc4f7005441ad1e5ed596237dec_126.png)