# 经典15年i春秋渗透测试系统化教程 - P20：课时3 XSS的三种分类（DOM，反射，储存）（下） - 老网恋教父了 - BV1n54y1B7F7

嗯。

![](img/f48ef4784097777bf8e1964e6a08957f_1.png)

帮我们看一下啊，他这个弹模型的。呃，在百度一搜就很多。

![](img/f48ef4784097777bf8e1964e6a08957f_3.png)

呃，在百度一搜就很多。呃，大模型它有有一些区别哈，它确实有一点独特性。它就是涉及到这个层次是不同的。所谓的这个基于盗型的这个叉SS。他涉及到的两个层次。不是服务端和这个浏览器当。

而是浏览器当的抓我斯个层和HTML层。明白没有？也要更精确的来说，就是服务服务器脚本变成客户端脚本啊。



![](img/f48ef4784097777bf8e1964e6a08957f_5.png)

呃，我们就着看这里，他这个关于这个盗墓型的一些介绍。也就是说很多一些框张，现在都是进行了一些过滤啊防御。你像监控号啊，它不是你看这里它不他把它过滤掉。



![](img/f48ef4784097777bf8e1964e6a08957f_7.png)

那么这个大模型，那么它基本上是OK的，它一般都是很暖过滤。

![](img/f48ef4784097777bf8e1964e6a08957f_9.png)

那么我们看一下他他这篇文章哈，他怎么写的。

![](img/f48ef4784097777bf8e1964e6a08957f_11.png)

啊，你像这这种一看到这里的一般都是过滤的，过滤掉的。

![](img/f48ef4784097777bf8e1964e6a08957f_13.png)

![](img/f48ef4784097777bf8e1964e6a08957f_14.png)

嗯，他这里。嗯，被过滤的。

![](img/f48ef4784097777bf8e1964e6a08957f_16.png)

![](img/f48ef4784097777bf8e1964e6a08957f_17.png)

啊，他的老个方式采用编码方式老过的。

![](img/f48ef4784097777bf8e1964e6a08957f_19.png)

哎，他这里这个关于这个盗模型。啊，他对于查找这个大模型叉S的方法是。要是通过户狐浏览器F12件。呃，调用这个插件啊，这个非要这个插件也就是说。嗯，非要bu非bug啊，就是这个啊这个插件。

定位到你发的内容上面，就是调试工具有一个箭头。可以这个选择这个网页的位置，此定内容就是说。来调这个呃盗模型的夸张。那么这里的话我。



![](img/f48ef4784097777bf8e1964e6a08957f_21.png)

我使用我的这个。嗯，一段代码啊，这里有一段代码。那么这张代码呃也就是说domo型的一个。呃，夸赞给大家陈述。呃，第。刚才前面就说过了，他盗墓写的一般的是在什么。



![](img/f48ef4784097777bf8e1964e6a08957f_23.png)

算了，在在什么地方？是在这个。嗯。浏览器当的这个家务斯里斯里和H天美。

![](img/f48ef4784097777bf8e1964e6a08957f_25.png)

他这样他这四行代码就大概就是第一行代码就是获取这个什么。嗯，在这里我们浏览一下吧。

![](img/f48ef4784097777bf8e1964e6a08957f_27.png)

![](img/f48ef4784097777bf8e1964e6a08957f_28.png)

第一行代码这一行代码。呃，就是获取到这个UID这栏的这个这个地址。document document这个URL嘛，点URL就获取地址把它显示出来。啊，过去这个地址地址栏的地址。又稳当时 u r l 咯。

那么第二行就是说。嗯，过去这个。

![](img/f48ef4784097777bf8e1964e6a08957f_30.png)

咦要 r你咯。要啊，你喺度。呃，6等于111。你家。他是这么他是这个意思。

![](img/f48ef4784097777bf8e1964e6a08957f_32.png)

那就输入在直，把它获取。显示出来。啊，也就是说它这个倒模型的叫是道墓术啊，盗墓术通过一个倒幕术的形式，在这个java school来来进行一个扩赞。他是没有直接这个呃参数输入输出的话，他是通过这种模式。

你看。呃，通过这种模式。就获取到这个呃。地址啊，就是我们在这个地址来进行输入。

![](img/f48ef4784097777bf8e1964e6a08957f_34.png)

他有一点小嗯跟这个。仿射型的这个夸张是差不多的啊差不多。那么你在这个地方去输入一些。会意的代码。我举个例子。你现在这里输入夸张代码。



![](img/f48ef4784097777bf8e1964e6a08957f_36.png)

这样的话就OK了。行么对吧？而是这样的一个形式，你看一下它的代码。

![](img/f48ef4784097777bf8e1964e6a08957f_38.png)

![](img/f48ef4784097777bf8e1964e6a08957f_39.png)

而这样的一个形式。跟防晒型跟陈就型嗯。

![](img/f48ef4784097777bf8e1964e6a08957f_41.png)

有一点不一样啊，它是采用了一个什么，你可以在这里可以看一下。嗯，在这里是。可以，它的源代码是可以看到的啊，直接没有输入输出的地方，那就是说采用一个。嗯，在这个stable之间跟HTM model之间啊。

再以一个脚本的形式。啊，能进行显示出来。

![](img/f48ef4784097777bf8e1964e6a08957f_43.png)

这个就是一个弹墓型的一个夸张。有要大木树的形式啊稻木树的形式。

![](img/f48ef4784097777bf8e1964e6a08957f_45.png)

呃，关于这个的嗯大模型的这个夸赞。大家在百度里面嗯有很多详细的一些讲解。随便点一点吧。

![](img/f48ef4784097777bf8e1964e6a08957f_47.png)

他这个大模型就是说。

![](img/f48ef4784097777bf8e1964e6a08957f_49.png)

延长性比较高哈，浙江夸张。嗯，什描是很多时扫不出来的，靠手工来进行挖掘。啊，所以说它的隐蔽性比较好。就是。不是直接输出的。先放一个正常的内容。啊，你可以看看表。



![](img/f48ef4784097777bf8e1964e6a08957f_51.png)

他是怎么服？我们拉一个啊，刚才那个页面嘞。我在这里。你就先发一个正常的内容啊。在这里通过这景。在这一个地方来进行写内容啊，写的夸张的内容。啊，一般是这种这样来进行调试啊，进行调试。

通过这种方式调试比较好。啊，就是把正常内容啊替换一下。

![](img/f48ef4784097777bf8e1964e6a08957f_53.png)

就定位到你发的内容上面。调试工寓里有个箭头。这个箭头就是这个箭头。大家看一看别人的经验哈，都看一看。

![](img/f48ef4784097777bf8e1964e6a08957f_55.png)

诶，我这个地方打唔开啊。这有个箭头吗？箭头在这里看你响定它一个红框嘛，你看到没有？对不对？😔，这种话是。



![](img/f48ef4784097777bf8e1964e6a08957f_57.png)

你即讲肉。然后再看你这个发送的内容，看有没有。有没有什么隐藏的属性或者自定义的属性？明白没有？有些你像这有一般的请个通槽情况下，有这种，你看有这样的一个标签。



![](img/f48ef4784097777bf8e1964e6a08957f_59.png)

呃，还有的这一个地址啊，tailll标内容啊，那么我们直接在这些地方呢进行插入这个。二一点嘛啊。那这些地方呢。查看代码可以看到。



![](img/f48ef4784097777bf8e1964e6a08957f_61.png)

你看别人是怎么插入的。

![](img/f48ef4784097777bf8e1964e6a08957f_63.png)

![](img/f48ef4784097777bf8e1964e6a08957f_64.png)

怎么样去牢固的？嗯，采用这种方式，你看。

![](img/f48ef4784097777bf8e1964e6a08957f_66.png)

对不对？😔，就隐藏的一些。

![](img/f48ef4784097777bf8e1964e6a08957f_68.png)

哦。徐信。

![](img/f48ef4784097777bf8e1964e6a08957f_70.png)

好，我们这个。

![](img/f48ef4784097777bf8e1964e6a08957f_72.png)

接着我们看一下其呃其他的一些实实例。

![](img/f48ef4784097777bf8e1964e6a08957f_74.png)

在盗墓型的嗯，第一个我们就讲到这里，我们看一下第二个。

![](img/f48ef4784097777bf8e1964e6a08957f_76.png)

一我我就。VPN被退出了。我连一下VPM。好，我们点击一下盗模。那么这里有个呃个来这个大模型的一个测试哈。啊，测试。



![](img/f48ef4784097777bf8e1964e6a08957f_78.png)

那么大家就在这个里面来进行调试你的这个列子啊一些案例。

![](img/f48ef4784097777bf8e1964e6a08957f_80.png)

啊，举个例子吧，看我们就先定第二个。

![](img/f48ef4784097777bf8e1964e6a08957f_82.png)

那么怎么去做呢？我们猜一道很简单的代码。有欧代码。

![](img/f48ef4784097777bf8e1964e6a08957f_84.png)

那么你直接在这个地方，你看这样行吗？绝对不会你加一个记号。

![](img/f48ef4784097777bf8e1964e6a08957f_86.png)

看他女一个O，对不对？

![](img/f48ef4784097777bf8e1964e6a08957f_88.png)

那么这个内容你随便写。嗯，谈完第一次怎么不疼？刚才我们已经弹出来了哈。对不对？😔，哦，我们个查看源单码看一下。刚才已经弹出来了。你看他他就是在这个。在这个之间吧。对不对？在这里。所以他一般是在这种。

重新打开一下。把，这个蛋码复制过来。

![](img/f48ef4784097777bf8e1964e6a08957f_90.png)

![](img/f48ef4784097777bf8e1964e6a08957f_91.png)

哎，他现现在他好刚才刚刚会。能弹出来，现在没弹出来是吧，我们不用管他呗。

![](img/f48ef4784097777bf8e1964e6a08957f_93.png)

![](img/f48ef4784097777bf8e1964e6a08957f_94.png)

也可以是看一下其他的点。都一样。我们不想管好，它谈不躺都无所谓，东西在这个地地方之间。嗯，这个这个大墓型进入一个死循环。海ello客程。嗯，这个就是我们刚才的一个例子。大家可以看一下。跟我们刚才一样吧。

嗯。跟我刚才一样，这个列第一行代码，它其实代码没显示出来嘛。因为他动态的。那么在这里他嗯第一应该跟我们刚才写的是一样。第一项在我们写的时候那个路径。那么你在这里可以。写他的写他的一个。

后面加一些我加一个井号，看行不行啊。需要看他这嗯，在这也看不到他的元旦吧。你老个才帅。嗯，他直接输入把这个地址输出来了。好，我在这里我就不调了哈，其实是可以谈对话框的。呃，刚才也弹出了一个。

就是唉现在不谈了，不谈了，我们不管按方法就是这么扯试啊，关于这个呃盗模型的夸张。

![](img/f48ef4784097777bf8e1964e6a08957f_96.png)

大要在本地去跳。嗯，这个关于这个网站推荐给大家专门采下叉SS的灯的。嗯，下面我们总结一下这个三种这个。猜S类型。呃，一个是反碎型的，反碎型的是什么？呃，它是怎么样一个过程？

就是说我们用工具者输入什么OE代码，那么他给你返回什么。对不对？那么程序型的嗯，它是跟反射型的区别是它直接存取到了数据库里面。那么大模型它就是一个大模数型的啊，一般的情况下。

它是在这个啊这个s或者HTL一个区间。嗯，之接。那么这个刀模型的它是跟这个防晒型的。嗯，差不多啊差不多啊。只是他有一有一些小的区别，它没有直接像嗯反正型的直接找一个参数，直接输入。他。

所以说他这个还是有一些小的区别，而且我们找怎么样去找盗模型的方法，刚才也给大家来网上也有相关的方法，刚才也给大家也。



![](img/f48ef4784097777bf8e1964e6a08957f_98.png)

演示过了，然后到时候直接在这个右键啊，用这个fi布，你就输入一个内容进去之后啊，用这个来调试。啊。

![](img/f48ef4784097777bf8e1964e6a08957f_100.png)

本书内容替换成让恶意的代码来进行调，看它是否存在这个呃盗墓型的一个夸张。好，关于我们这节课，我们就嗯这三种类型，这个叉SS类型我们就讲到这里。



![](img/f48ef4784097777bf8e1964e6a08957f_102.png)

那么嗯下面我们后面再给大家讲一些工具的一些。嗯，包括玩具这个叉S漏动啊，下一节课再讲解。

![](img/f48ef4784097777bf8e1964e6a08957f_104.png)