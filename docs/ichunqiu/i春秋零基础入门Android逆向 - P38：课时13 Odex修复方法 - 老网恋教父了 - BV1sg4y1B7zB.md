# i春秋零基础入门Android逆向 - P38：课时13 Odex修复方法 - 老网恋教父了 - BV1sg4y1B7zB

🎼홍。

![](img/bd320506450f7ed91192c7df69bd661f_1.png)

![](img/bd320506450f7ed91192c7df69bd661f_2.png)

嗯，好的，呃，大家好，我是蒋石爱邦。那么今天的话来讲新的一课。这一节课的话将会从一个源码上去分析整个系统是到底怎么将1个DEX文件来转换成1个ODX的一个文件的。那么在开始讲这节课之前的话。

相对上一节课所讲到的一个脚本脱壳的一个方法来进行一下补充，进行一下扩展。那么上一节课的话就跟大家来介绍过一个是实用一个脚本来进行一个脱壳的一个方法了。啊。

那么不知道大家有没有尝试过来运用这样一个脚本去拖一下其他壳来看能不能够拖出来。啊么我希望大家都多点去尝试一下。那么那个脚本的话还是有挺多不足的一个地方的。

那那么这那么现在我就来用这样一个脚本来做一个事例来看一下能不能拖过这样1个360的一个壳。那么360也是我们前面的。前面课程中已经讲到如何去进行一个手托的壳了。

那我们来看一下用脚本是不是能够把它正常给弄出来进行一个安装。

![](img/bd320506450f7ed91192c7df69bd661f_4.png)

那么这里嗯我们还是按照我们上一节课方法呃在程序中跑起来，然后直接挂接进行一个脱壳。

![](img/bd320506450f7ed91192c7df69bd661f_6.png)

![](img/bd320506450f7ed91192c7df69bd661f_7.png)

好直下t上去。嗯，找到想要的一个dcation，然后进行一个to，进行一个dump。嗯。哦，我们等一下IDA加载过去，那么在这里直接进行跑一个脚本。好，那么前面已经说过了嗯。

这里它里面就加载了4个一个ds文件，前面两个啊前面两个是我系统它本身自道用ex post来插入的一个d文件。那么后面两个才是程序，它本身APK从一个名字可能够看得到了。

首先第1个APK文件的话是一个可本身的一个数据里面就存放一个可入口点之类的。然后第三个哎 cookieook为号为三的这一个文件的话，才是真实的被可解码过的一个数据。啊，我们来对它进行一个。编号为3。

好，那么大家注意一下里面输出的一个内容。因为这里的话呃，因为在360的话，它是会对内存中加载过数据进行了一些处理的。好那大家注意看一下这里的一些数据。哎，可以看到啊。

里面这里我们显示它分析出来有1000多个类，然后再到到再编化为这样一个类的时候的话，它后面有这样一个提示is past。那么这么一个一句提示什么意思呢？哎。

这句提示就表明了我这个脚本没有办法去找到它原始的一个代码数据，所以就跳过对这样一个类的一个抽取的一个提取。哎，既然他跳过了这么多类，哎，那么我们既然我们邓出来的一个数据的话都是不正常的。哎。

这个也是非常呃有意是有原因的。因为361的话，它可以对我们的一个需对脚本需要用到的一个一些数据呢，进行了一个自灵清空的一个做法。那么在这里我们也可以去看一下弹出来的一些数据。他是怎么回事？好。

我们跑到这个地方。然后用一个。要0艾it先打开来看一下。好，那么接下来跑1个DX的一个脚本。

![](img/bd320506450f7ed91192c7df69bd661f_9.png)

对我们跑到class中去，那外里面有很多类的话，里面呢都是别有一个class数据啊，可以看一下啊，我们找一个类就这样一个类。那么看一下里面的class data现数据是0，哎。

证明它当中的一个class中的真实的一个数据的话，都都没有了。哎，我们看一下其他类也是一样的。那么像这种情况所反变一出来话一些类的话，中间都是一个空的一个情况的。哎。

在这里我们可以尝试去用IDA去打开来看一下，那么就知道哎为什么这里动不出来空以后会对我们的程序造成一个什么样的影响。



![](img/bd320506450f7ed91192c7df69bd661f_11.png)

好么在这种情况的话呃，对I对就一B说是无效的EX文件。那么是因为它的一些签名时，还有一些内存的对接情况，呃，里里面有一些bug没有修。那么在这种情况也非常简单，先对它进行一次一次的一个进一个反变译。

再进行一个编译一次就好了。

![](img/bd320506450f7ed91192c7df69bd661f_13.png)

![](img/bd320506450f7ed91192c7df69bd661f_14.png)

![](img/bd320506450f7ed91192c7df69bd661f_15.png)

好，我们先对它进行一个反利，然后再编一次。进行完一个缓变仪以后，哎，我们再去进行编译。那么这样编译出来的一个文件，等于一个dess文件的话，就是没有一些异常错误了。

也可以看一下这两个ds文件之间相差了400多元。是因为当中有你是因为我们这里弄出来这样一个ds文件里面的一些数据呢，没有被。



![](img/bd320506450f7ed91192c7df69bd661f_17.png)

被它被这样1个S文件给关联上去，是有有一些数据变成一个无效的一个数据了。我们看一下，我们在这里重新进行一个百个1以后，所获取过来的一个dss文件里面的一些函数它是什么样子的。比如说这样一个man替体。

我们走过去进行反映，哎，可以看到里面的一些呃静态数据的话还是正常的。那一旦我们找到一些函数的话。对，就变成这样一个狗鬼样子了。好，还有这样一个min kit里面都是空的，因为它数据都被清空掉了。

那么我们在这里找一下其他函数，哎，其他类也是一样的。有一部分的类的话，它它当中的一个des文件数据，或者说一个cas中的一个具体数据的话，都被干掉了。哎。

那么这这种时候我们动不出来数据就是一个非法是一个不正常的一个数据啊。另外面对这样一种情况，情况，我们应该怎么办呢？



![](img/bd320506450f7ed91192c7df69bd661f_19.png)

![](img/bd320506450f7ed91192c7df69bd661f_20.png)

呃，正如我们在这些手工脱壳时候的话，要找到那样一个脱口点。那么在这里其实我们使用一个脚本也是一样，需要找一个脱口，需要要找一个脱壳点才能进行的才能进行一个正常的一个脱壳的。



![](img/bd320506450f7ed91192c7df69bd661f_22.png)

嗯，那么这么一来，我们那我相信大家就知道了。哎，我们弄脚本的时候也要找到这样一个脱壳的一个地方。好，那么在这里我们就尝试着哎去寻找这样一个脱壳点。



![](img/bd320506450f7ed91192c7df69bd661f_24.png)

![](img/bd320506450f7ed91192c7df69bd661f_25.png)

好，那么是还是一样，我们先来家载朋友们。上一节课上几节课主进行分析的一个360的一个数据。

![](img/bd320506450f7ed91192c7df69bd661f_27.png)

![](img/bd320506450f7ed91192c7df69bd661f_28.png)

うん。好，在这里。那么这里我们就来找一下这样一个脱合点在脑。我们现在的话以一个手动调色方式来启动我们的一个进程。



![](img/bd320506450f7ed91192c7df69bd661f_30.png)

![](img/bd320506450f7ed91192c7df69bd661f_31.png)

好。嗯，我们来看一下，我们用1个3IBK方式来乘以杠D杠N的一个选项，以一个调色放式启动，然后用IDA来进行个挂接。那么这上面这一步的话，一切都是与我们进行手剥手动剥壳时候的内部的操作是一模一样的。



![](img/bd320506450f7ed91192c7df69bd661f_33.png)

![](img/bd320506450f7ed91192c7df69bd661f_34.png)

好。

![](img/bd320506450f7ed91192c7df69bd661f_36.png)

我打开，然后进行一个调试。

![](img/bd320506450f7ed91192c7df69bd661f_38.png)

打开一个mon。

![](img/bd320506450f7ed91192c7df69bd661f_40.png)

![](img/bd320506450f7ed91192c7df69bd661f_41.png)

然后进行一个挂接，找到对应的class文件。我在这里的话没有看出。看不到话我们得太随便。重新打开。

![](img/bd320506450f7ed91192c7df69bd661f_43.png)

好我这么一来的话，哎，这一切都是与我们的一个呃。首托方式是一样的。那么该下断哪个地方还是要下断点，然后该进行一个调试性设置的地方，还是进行一下设置。那么现在的话已经来到一个J load的一个地方了。

在这个地方，哎，我们现来跑一下脚本来看一下当前已经扎加载了多少个SO文件啊，加载了多少个1个DS的一个文件。呃，这样一个脱壳机的话，它除了哎除了可以用来进行一个脱壳的话。

也是可以用来帮助我们辅助定位来看一下整个程序是在什么时候来加载一个ds文件啊。比如说当它刚开始在这样一个这样onload的一个区段的时候，它当前只加载这样三一个dess文件。那么在慢慢往下跑下去的话。

我们可以找到哎在某一个函数过以后，它就加载第四个dess文件。哎，这个脚本也是具有这样一个分析的一个功能的。好，慢慢跑下去找到那个。要一个这耳童环式的地方，哎，在这里。在这里在这个函数中啊。

前面已经分析分析得到在这个函数中的话就可以解密自身的一个d数据，然后进行释放到内存中完成一个加载的啊，我们在这就函数先跑一个脚本。那么看一下目前还是只加载了一个三个一个东西。

当我们使用一个S8来步布这样一个函数以后，它内存中到底会变成什么样的样子呢？好啊，这些断点都取消掉。嗯。啊，那么那一来的话，就已经从这样一个这样 on node的一个区段给跑出来了。那么这样跑出来以后。

哎，我们再来跑一下脚本。那那么就会发现这个函数过后，哎，它又加载多新的1个IDX文件了，那么就可以直接确定它是从这一个函数中来进来完成一个Ds文件的释放，还有加载了。并且。在这种情况之下，哎。

就在这一个点，就是说跑完这个函数以后，马上加载一个ds文件的时候呢，我们可以尝试在这一个点来进行一个脱壳，就是跑一个脚本来进行一个dom的提取。那么对于3这1个360的壳来说的话，在这个地方下一个断点。

然后呃断上来以后，直接在这里就能够当出最为原始的一个dess文件数据了。那么这里像这种情况动不出来数据的话，就直接可行并能够呃完成一个分析，然后进行一个脱了。那么所以哎在这里的话，也不需要我们去手托。

来一步一步一步跟进去进行一个分析了。那么这就是我要对上一节课只要进行的一个补充。那么里面的话就包含了一个脚本的一个使用方法，还有说一个脚本脱口的一个时际点。那么这这是一点补充。

那么接下来就来完成我们今天的这一节课的一个特长。嗯，上一节课中呢已经讲到一个to壳。然后对那个APK文件的话，我们拖出来拖出来了2个DS文件。

第一个就是直接从它加载过以后的一个呃加载过以后的一个des文件数据。那么另外一个就是一个加载前的一个des数据。那么为什么要动出这两份数据呢？那么理理论上来说，这两份文件是不是应该是一样的呢？哎。

其实这两份文件是不一样的。我们可以用一个文件的一个比较工具来看一下这两个数据？啊，那么打开来看一下的话，就能够看得到。哎，他们虽然哎大部分是一样的，哎大部分是一样的对吧？我们把这里取消。

把它整个文件都显示出来。只能看到这里大部分数据呢都是相等的。但是其中有一些区段，由于有些快的内容，哎，像这种情况，内容有某一个字节确实不一样。这是为什啊？这是因为整一个安卓系统，它在加载的时候呢。

会对它消息加载的一个ds文件进行一个优化。还有一个校验。只有哎通过校验通过优化以后呢，它才能够正常的进行一个运行。那么这个优化和校验的话，哎，它一一方面可以提高整个安卓系统，它运行的一个速度。

那么一另一方面的话，也可以预先来判断出整一个程序有没有某一些写法上了一个BUG之类的。从而大大的减少我们进行我们的程序一个崩溃的一个概率。哎。

它能够知道这这么一方面的一个呃原因哎有这一方面原因在那么我们我们就来看一下，经过优化了以后的一个de词文件，它到底变成什么一个样子。因为我们要在这里讲一下这个优化。那么是非常重要的。

因为原始每个文件是没有经过优化的。然后我们从内存中给动出来数据的话，确是经过优化。那么优化以后的一个数据的话，实际上就不能够用于一个进行一个脱口的一个情况了。我那么我们可以尝试一下去编译的话。

就会发现经过优化程序的话哎。我们在进行反变译程源码的时候，它就没有办法给编译回正常的一个代码，并且程序运行的时候就会产生一系列一个异常。哎，那么在这里我们来对它们都进行一个变译为原始的一个smar代码。

来看一下是怎么样的一个情况。

![](img/bd320506450f7ed91192c7df69bd661f_45.png)

![](img/bd320506450f7ed91192c7df69bd661f_46.png)

看好，那么这里继续使用一个baest mark的一个指令。然，分别把它给环游培训。好。这是一个，然后呢这里是另外一个。那么这个UB check的话就是原始的没有被经过优化的一个。电是数于。



![](img/bd320506450f7ed91192c7df69bd661f_48.png)

我们再将两者来进行一个比较。

![](img/bd320506450f7ed91192c7df69bd661f_50.png)

好的，哎，比较一下。我们哎，那么在比较完以后就会发现它里面有相当多的一个类文件都会发现是不对等的。我们点进去一个内中来看一下。哎，可以看一下里面有几个函数是不一样的。是不一样的。我们在这种情况。哎。

比如说这个函数这个函数前面的一大部分的一个类的一个dell，还说一个input的一个操作都是一样的。但是它里面有某一些函数确实不一样。

比如说它在优化之前应该是这一句的一个invo direct的一个操作。那么它优化以后的话就变成一个involIT一个range的一个操作。然后那么在这里程序检测到这个是经过优化的一个函数。

那么它就直接来进行一个，也就是禁止了，然后以一个love来代替。哎，那么这里返回也是一样的。哎那么这里应该是返回一个word了。那么在这里。

它优化以后的一个操作的话是一个反馈一个word barrier。然后哎这里也是一样。他发现这是一个经过优化的一个代码。那么在这里他就直接用一个lob来进行一个代替。那么像这一种经过优化以后。

代码文再进行编译的时候，哎，那编译出来，这里的数据依旧是一个lob的数据。那么这时候至于我们原始的一个代码不一样了。那么像这种经过优化的代码经过编译，哎，然后运行的时候。

那么就会毫无悬念呢就产生一个崩配。因为它程序的逻辑已经改变过了。那么今天我们就来看一下整一个安卓程序它是怎么样，对这些代码来完成一个优化的一个操作了。好，我么还是一样。

我们要跑到整个系统的一个里面去分析一下它的一个源码。那分析源码工具的话是这样一个source算的一个工具。那么从网上可以下得到，也也可以直接找到它的一个注册码。好。

我们在这里我们就来直接分析它的一个源码。那么它源码路径的话就在这个地方，一个VI analysis里面，它有一个opport对不对CPP另外还有一个验证的一个文件。

那么它优化和校验的话都在这两个文件之中。好，我们就来一步一步的进行一个分析。

![](img/bd320506450f7ed91192c7df69bd661f_52.png)

先来打开我们那个project。

![](img/bd320506450f7ed91192c7df69bd661f_54.png)

啊，找到。先来看一下优化这个地方。嗯。那么所谓的优化就是从一个dash数据来转成ODEX文件的一个方式了。我们就来看一下整个系统是怎么样完成从这两步的一个转换的。好，我们来看一下优化。那么这优化的话。

它来用个入口点，哎，就在这个地方。那么其他地方会说其他函数中呢，一个类加载的时候的话，就会调用到这么一个方法，一个优化class方法来完成对整一个ds文件的一个优化操作。那么在这里可以看到，哎。

当它以这样一个方法进行调样的时候，它就会对一个类进行一个优化。那么这样下面的话就可以对类中的每一个方法，比如说一个直接的方法，还有一个visso的me来进行一个优化。那么调换到这个函数。

我们跟过去看一下里面再根据传进来参数。首先来对它的一个flag进行一个判断，看它是不是一个l的函数，或者说是一个虚函数。那么假如不是，那么也就是说它存在一个实际上的一个代码。哎。

那么在这里下面就会对它实际存在的一些代码来进行一个翻译。好，我们来再来看一下它是怎么做的。首先它会从一个呃函数中来获取到它的一个代码的一个长度，还有说它的一个一个代码的一趋始地址。来。

这里个是一个instruction的一个起始地址。我们在讲一个mess结构体的时候，或者说在写一个壳的时候呢，哎前前了一个动态代码这修改的时候已经用到这个结这个值针呢，我们把这个指针给改掉。

只能够把它的一个代码给改掉。但是那时候我们还没有进行一个优化，对吧？哎，那么在这里他就获取到这个指针，然后对这样一个指针中的一个代码来进行一个直线的操作。哎，首先是一个指向代码的一个结构。

然后另外一个就是我们指向代码的一个长度。那么接着他们呢就会对我们的代码来一步一步的完成一个校验。他们在这里就是进行每一句每一句呃一句一句来进行一个。高好，比如说它会从首先的话。

就可以从我们的一的一个指针中来获取到它的1个OP code。那么在对于安卓来说的话，它总共有1个200多个OP code。

每1个OP code就是它每一句代码的头一个字己的话里面就会存放着这句代码到底是用来干什么的。比如说哎比如说在于代码头一个字节，可能它就存放了这么一个指令，就是一个put的一个指令。

或者说哎头一个字节会存放一个cos的一个指令。那么这都是由于它的1个OP扣来决定的。然后它的OP扣的话，哎，又会决定这个指令，它到底藏多少个字节。

然后他就会根据这些数据呢来获取到当前的这么一句这这么一行代码，它到底占用了这么一个instruction instructionstruct中的多多少个字节长度，哎，就把这些数据给给算出来。

然后一步一步进行一个优化。好，那么下面就来了，它会对我们前面取出来的一个1个OB扣的一个类型，也如说是Ia或者说是 ideaa bullet。是这一种类型可以进行一个判断。呃，给选。

然后给判断完以后的话，就把它的一个可以进行了一个优化的一个代码给进行一个复值。比如说I get还有I getI get back back的话，都全部会变成一个I get quick的一个形式。

或者说变成这样一种形式。哎，那么下面的话，它就可以完成这些字节进行一个进行一个替换了。我们在这里就举一个例子来看一下，正如前面我们就已经对比过这两个memory，这两个dometry的一个数据了啊。

里面也看得到有一些内容，有一些数据的话是不一样的。

![](img/bd320506450f7ed91192c7df69bd661f_56.png)

![](img/bd320506450f7ed91192c7df69bd661f_57.png)

好，我们打开它来看一下。

![](img/bd320506450f7ed91192c7df69bd661f_59.png)

嗯，用一个例子来做事例，可能大家比较容易懂。好，比如说哎这个是优化之前，那么这一个是优化之之后，哎优化之前还有优化之后可以发现优化前的话是1个F一的一个情况。那么优化之后的话却变成了1个01了。哎。

那么它是怎么呢？怎么改的呢？我们就来看一下这个F1它到底代表了什么1个OP code，然后它在内存中又会被优化成一个什么样的情况。那么跟过去找到1个F1。唉，首先。没花钱有块有花后。哦好。

那么在这里我应该是命名点命名错。那么该这里应该是是1个01变成1个F一的一个情况。那我们来看一下。首先1个F一的话是这么一个繁词，一个retturn word barrier。然后我们找到01。啊。

001的话，它对应的代码就是一个return y的一个指令。哎，那么这就就是为什么呢？哎，这样一那么这样一来，我们就来就可以看得到，这里实际上的一个优化。

比如说就单独对于这一行这一句的一个优化上来说的话，就是把这样一句return word的一个指令给改成这一句指令了。那么对应着我们的一个smarile代码中，也就是变成这一种修改了。

本来是一个return word了。哎，现在就变成了这样一种形式。哎，那么这么一来就是一个优化的一个情况了。那么对上面的来说也是一样的。invo direct invo direct。

我们来从O code code中来找到它对应的一个指令。嗯，我在这里的话呃，把就在这里附附近吧。OP code。那么大家也可以尝试自己去找一下，就是就是把通过把这些OP code来进行一个转换，哎。

就能够达到。哎除了把OPQ进行转换，还有把它的一个参数也进行一个修改，哎，从而达到一个快速的一个加快它里面内存中的速度的一个效果。哎，那么这就是一个OP code的一个寻找，还有一个替换。

呃么在这里他就会根据每一句中哎给找到的一个OP code来分别来去做一个映射，对吧？哎，找到Ia还有什么之类的，就把当前的一个所说OB code给找出来。

然后把他们应该替换为什么样的OB code给复制下来。哎，把这些进行一个switch进行一个记录以后，那么下面就跳转到相应的一个重写的一个结构中。

比如说哎这比如说上面这些数据就可以调用到这个这句代码来进行个重写，对吧？可看到。那么现在这里把这这些初始的数据给复制完以后，就可以调到这个函数中去。那么在在这个函数中。还在这个函数中的话。

就可以完成对于OP code的一个重写。那么下面的话这些代码就能够看到哎upOP code就是进行一个指令的一个替换。那么它这里就是通过这样的一个外循环中的一个itch判断来不断的进行操作。

来把它里面所有可以让我们进行一个优化的1个OP code代码都来进行一个优化。那么注意看一下，这里的实力全化是分为两种的。哎，看这些注释都都知道了，这里的话分为两种，一种是一个必定要进行的一个优化。

那另外一种的话就是一个非必要的哎，就是可以通过一些设置来把这个优化选项给取消掉的一个优化代码。那么这里的话存在两种优化。哎，那么这里就是通过这样的一个一个不断重写来完成一个代码的一个优化的。

那么这一边就是一个代码优化的一个操作了。哎，首先获取它的它的长度，那么具体的一个操作的话，那么希望大家有兴趣的话，可以去跟过去看一下啊，那么这一个是代码优化。那么除了代码优化之外呢。

还会有一个叫做代码校验的一个情况。有时候我们d插的一个。弹出来的一个dess文件数据的话，里面会看到一句非常扯淡的一个代码，就是一个。就是直接是一个froszy session。哎。

有时候我们来登出来d文件数据就是这这样一种情况，直接直接抛去一个异常，导致我们不知道他原来的一种原来的一个代码是什么样的一个情况。哎，这也是由于它一个d文件校验不通过是导致的。

由于它呃在进行一个文件校验的时候，发现它的代码非法哎调完以后肯定会造成崩溃以后，那么他就会把当前OP扣给进行一个改写，给直接抛去一个异常，可以让系统来进行一个捕捉。

那么这一切操作的话都是在一个代码校验的这里进行一个操作的。然后我们再来看一下这样一种代码校验，校验它到底干了什么事情。那么校验代码放在这个地方和一个优化代码放案在同一个目录的，我们寻到这个地方中去。好。

那么到这里以后还是一样，先导它的一个入口点，每一个入口点都是从一个vely开始。那么从里面的话，再对我们的一些方法来进行一个校验。好，从一个class中来取出它的每一个方法。

一个是direct method，已经已经是一个reial method。取出来以后的话，哎，那么前面的这块话还是一样，还是一样，然前面优化是一样，就取出它的一个指定地址，还有说一个指令长度。

然后再对它的1个OP扣哎这些东西来进行一个判断，进行一个校验。假如他哎这里开始了开始了对1个OP扣的一个类型啊进行一个判断。还也说是一个呃。还有是我们的一个计存器的一个类型。

这些的话都会都会来进行一个判断的。那么我们看到哎看到有这么多判断，有这么判断。假如我们在这里哎他校验失败以后会发生一个什么样的一个情况呢？那么在这里，假如他既失败的话，就直接返回一个forse。

那么它返回force以后啊，对它原始的代码造成哪一些情况，哎它就会跳转到这样一个bu情况。那么下面就可以输出一个失败的一个指令。还有说什么一些其他的一些fo漏。他甚至他甚至对于这样一个类的话。

也是不会进行一个加载的。啊，那么这么一以来，哎，他将失败以后。就会对我们原始的一个可以出来个代码来造成的一个影响。所以唉所以像这种情况的话，对于我们to来说，本来对程序运行来说这样一种优化。

还有说它的一个这略话是非常必要的，是有利于提高整一个系统的一个运行效率，还有它的一个稳定性的。但是对于我们托来说的话，我们只需要它对为原始的一种数据。你它把我们原始代码都进行的优化以后。

那么我们动出来的数据的话，就不是原始代码了。那么就如果假如要修复的话，那么要修复的地方就非常非常多。那们在这里我们就有完全有必要去把它的一个优化，还有说它的一些教育呢都取消掉。

那么怎么取消我们只需要改这么一个f就可以了。那这一个设参数设置的话，在安卓目录下这个地方中可以找到那里面的话这么一些f的数据。那我们走到一个安卓效中看一下。



![](img/bd320506450f7ed91192c7df69bd661f_61.png)

好，我们在里面的话可以看到，这是我一个build上面的一些设置。唉呃，当然这个的话是我从改改了安卓系系统中的这个设置来导致这种情况的。哎，可以看一下。

我这面呢这里的话已经把它的一个验家还有优化给全部设置成为启动了。所里的V表示一个ve，就是一个家哎N的话就是no进行一个取消over的话就是一个，然后里面也是一样直接设置为一个取消。



![](img/bd320506450f7ed91192c7df69bd661f_63.png)

![](img/bd320506450f7ed91192c7df69bd661f_64.png)

那么在这里的话也也可以跟进一个安卓代码中，会看看得到它呢到底是从什么地方去调用到这个函数来进行一个专易优化的。好，的在这里我我来尝试去看一下。产生晚晚上进行个回溯。

来看一下这两个标志位在哪里可以进行了一个这样可，看到吧？这有个多位法，还有一个多PT的一个参数设置。好，我们来看一下这两个是在哪里被初始化。好，在这里。在这里在这里。继续往上回溯。



![](img/bd320506450f7ed91192c7df69bd661f_66.png)

哎，是不是教研还有事不是进行一个优化。对，这些都。直接往上就写个回溯。哎，看到了吧？这里的跨度是从1个GDVM中来进行获取的这是1个OPT mode，还还有什么这这样一些东西。那么这样1个GDVM的话。

它里面的数据又是从我们的一个build一个process里面来进行一个获取的。哎，往这么一来啊，就把我们的一个这样优化的一个情况的话都搞掉了。啊。那们这一节课的话就。到此为止了。

那么大家呢不要在下面先尝试着去把这些这个标志位给设置上，然后再进行是内存动取，看一下我们设置之前，还有设置设置之后，我们动me出来的一个单词文件数据有有什么不一样，可以自己去尝试着去看一下，去比较一下。

🎼哎，那么这节课内容的话就到此为止，谢谢大家。

![](img/bd320506450f7ed91192c7df69bd661f_68.png)

🎼。

![](img/bd320506450f7ed91192c7df69bd661f_70.png)