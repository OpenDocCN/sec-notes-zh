# 经典15年i春秋渗透测试系统化教程 - P6：课时6  HTTP方法漏洞利用 - 老网恋教父了 - BV1n54y1B7F7

🎼Yeah。大家好，今天我们这节课给大家讲解一下这个HTTP方法。那么呃有。扫描器一般扫出来的就是叫做它的名称叫做HTTP不安全的风向。不安全的这个方向。呃，这个方法呃。

这个方法它的危害就是说呃呃有一些企业它是不承认的哈，就是说电路开启了dlet啊。呃，或者这个put啊，但是它没有上传权限，所以没有把它当作漏洞处理。它其实是上一种漏洞哈。

那么它这个漏洞到到底有什么危威胁呢啊，有什么危害的，它可以可能会在这个微博服务器上进行上传修改啊，删除微博页面然或脚本还有文件，也就意味着完全可以破坏服务器里面内容，甚至控制服务器都是可以实现的。

那么我们在这里就是说呃给大家就是讲解一下哈，那么。

![](img/9afe1cb3a8f7517d123a30f92bac6022_1.png)

主要是看一下实例啊，他是怎么样去实现的。一个网站不管是在还是R87里面啊，或者tomo cut里面。那么首先要启用这个HDDP方法。那么这个方法首先是如果是在IS里面，那么但是在这个呃微博DIV啊。

就是说大家可以看一下哈，我们首先就是说当我这个HDDP这个如果把这个微博DIV把它呃禁用状态下。好，我们来看一下啊。输入1个IP地址。Okay。Yeah。あっプ？う。呃，也当口是8090哈。

我这里微博站点是8090。好，我们来扫一下啊。大家可以看到这里啊，这个VULS这个地方，它这里是没有开启这个方法的哈，就是说没有铺仇啊。那么当我这个地方，如果。开启这个状态下啊，我们先来看一下啊。

它现在是原始状态下。那么当原始状态下，那么它又是怎么回事的呢？啊，那么在这个地方大家可以看一下啊，在这个地方它就会有显示哈。诶。其实他这里面显示权，它其实这里有一个。

他这里显示什么微博微博DIV那种是吧？微博DIV那种。然，它这个就是我们这个有的就显示这个铺酬啊PUT啊，那么这个如果显示这种情况下，就是说开启了这个不安全的这个方法啊，开启了不安全的方法。

那么这种类段怎么样去用啊怎么样去用，大家要注意的一点，要利用这个漏洞，首先是对方服务器开启了这个不安全的这个方法。也就是说步酬啊，步骤。第二个就是你这个网站必须有这个什么样的权限呢？

我们在这里它必须有一个什么啊写入的权限啊，写入的权限。也就是说它这个地方。这个目录下面也就是说这个或者。他这个安全里面有这个。I有这个写入的，有这个读取写，有至少要保证有一个写入的权限啊。

没这个写入的权限是不行的啊，是不行的。所以那那么我们现在开始利用一下啊，这个当我们点击这个上传。

![](img/9afe1cb3a8f7517d123a30f92bac6022_3.png)

好，我们在这里。咋个我也不睡要。诶。我们就找一个随便找一个。啊，就这找这个吧，我们改个名字哈，名字为TXT注意哈，如果是首先我们上传1个AP的形式的上去，我们给大家看一下，如果当它如果是AP的情况下。

它延续延不延续上传，我们看一下。他是不允许上传的。

![](img/9afe1cb3a8f7517d123a30f92bac6022_5.png)

为什么啊等一下我会让大家看一下这个理由。好，等我破充。

![](img/9afe1cb3a8f7517d123a30f92bac6022_7.png)

好，如果我们这里是ASP好，我们点击上传。啊，那么大家可以来到这个目录。为了演示这个，我们先把这里删掉。そが。啊。Okay。再来试一下。



![](img/9afe1cb3a8f7517d123a30f92bac6022_9.png)

No。啊，他的名字啊群命名为这个的。啊，这个名字你可以自己改。也就是说你这个地方，如果你是九个电子，我在这里改成AP啊，九个电子AP我们来看一下能提交吗？



![](img/9afe1cb3a8f7517d123a30f92bac6022_11.png)

啊。他这个嗯这个名字变成这个TST的啊，TST也就是说它不能直接啊HTTP方法是不允许，直接上传这个。记住哈，它是不允许直接上传这个AP文件的啊，就是AP它它也会把它命名为TST啊TXT。所以说。呃。

这个文件就是说TSC的，它这个是完全上传是没问题的。但如果你上传AP啊、PSP啊、DSP啊啊，这个是不允许上传。所以遇见这种情况，我们还需要一种说法啊。首先前提条件。啊，大家注意哈啊。

有一个地方我们忘记了，就是说这个方法这个地方我们首先用op啊，这个oppo就是我在这个。呃。这个更机实列里面就是说如何啊碰断这个。是否开起来这个。HTTP方法。那么在这个地方我们要给大家说明一下。

就是说啊你可以通过这个软件，就是说这个软件啊来测试，也可以通过我这个工具一样的啊。一般我通过这个工具比较方便，就是说op一个杠就是跟目录啊，网站来跟目录来查看它是否开启了什么方法啊。

我们可以在这里可以看到哈在这里啊我们可以看到有方法。你看这个是危险的方法，是上传意思第是删除的意思啊，还有一个就是目录啊，就是改名的意思啊，改名一般的是就是一个网站要这个方法要成功的话。

就是HTB方法要成功的话啊，一个是put啊，是必须的，就是上传文件上传文件这个是必须需要的啊一个方法。第二个方法。第二个就是。



![](img/9afe1cb3a8f7517d123a30f92bac6022_13.png)

木可以有可以嗯。没有啊，也是可以的，为什么呢？因为可以接口这个ISIS的导文件名啊，你看不是导文件名，是ISIS的文件的这个解析漏洞啊，解析漏容这个解析漏洞是可以。呃，配合这个。可以实现的啊啊可以进行。

就是说对我们这个呃TXT啊，就是说啊我们命名的时候啊，以分号隔开啊，就是大家看过我这个我们的这个上传的一种这接的教程就知道了啊，通过这个IS解析这种直接。嗯，把它解析解析这个就是我们命名的时候。

就是货缀为TXT。但是前面我们就是例如123点AP分号点TST啊，这种文件名这样的话也是可以。也是可以的啊也是可以的，就是说直接可以得到微博逊了啊。前提条件就是说嗯对方服务器层的这个IS1个解析漏洞啊。

没解析漏洞是不行的啊，就是说。呃，我们一个是这个铺草方法，还一个 move，还有一个就是我们这个写入权限。



![](img/9afe1cb3a8f7517d123a30f92bac6022_15.png)

Yeah。好，下面我们来看一下啊，这点。我们现在是现在是TXC是吧？那，我们现在是再来一个。对他进行一个目录更改。好，大家可以看啊它更改是更改成这种名字。好，大家可以看。

这个就是利用了这个IS一个解析内容啊，虽际上通过这个目录更改，改了一下扩张名，但是这种也是可以可以的。好，我们看他告诉你啊，404没有找到。哦，他这个地方应该是TST。哎，还是不行哈还是不行。也就是说。

就算你这样也是不行的。哎，这个好像是可以。哎，改了啊这个地上名字呀啊，这个文件名刚才写错了。好，我们现在改成什么了，改成这种名字了，我们来看一下啊啊，刷新一下啊，已经改过来了，对不对？



![](img/9afe1cb3a8f7517d123a30f92bac6022_17.png)

改过来之后，我们现在在。这个地我们看一下哈能不能访问是吧？呃，这个是一个木马的呃，这个SP木马的问题啊。我换一个码啊，这个码不行。Yeah。Yeah。



![](img/9afe1cb3a8f7517d123a30f92bac6022_19.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_20.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_21.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_22.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_23.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_24.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_25.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_26.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_27.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_28.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_29.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_30.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_31.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_32.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_33.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_34.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_35.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_36.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_37.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_38.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_39.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_40.png)

![](img/9afe1cb3a8f7517d123a30f92bac6022_41.png)