# BlackHat 2020 会议笔记教程 📚

## 概述

在本教程中，我们将系统性地学习BlackHat 2020安全会议的核心议题。本次会议涵盖了从云安全、硬件漏洞到社会工程学等广泛的网络安全领域。我们将按照主题分类，逐一了解每个议题的核心概念、攻击手法与防御思路，旨在为初学者构建一个全面的现代安全威胁认知框架。



## 课程目录与核心议题解析

以下是BlackHat 2020会议的主要演讲内容列表，我们将其按技术领域进行了初步归类，以便于系统学习。



### 云平台与基础设施安全 ☁️

上一节我们概述了本教程的整体结构，本节中我们来看看云环境下的安全挑战。随着企业上云成为趋势，攻击者的目光也转向了云平台。

以下是相关的议题列表：
*   **P1-01**: GCP中的横向移动与权限提升；利用服务账户入侵组织
*   **P7-07**: 我的云即是APT的云——Office 365的调查与防御
*   **P13-13**: CloudLeak——从商业MLaaS平台提取DNN模型
*   **P17-17**: 虚拟私有网络
*   **P32-33**: 逃离虚拟化容器
*   **P40-41**: 实时事件流实验
*   **P48-49**: 逃脱的空间——在模板安全线之外涂鸦
*   **P68-69**: Heroku滥用操作——披着羊皮的狼
*   **P80-81**: 云的阴暗面——EMR安全控制缺失如何放大医疗数据泄露

核心概念例如**服务账户劫持**，在GCP中可能通过过宽的IAM策略实现，其权限提升路径可以简化为：`初始访问 -> 枚举服务账户权限 -> 利用高权限API执行恶意操作`。



### 硬件与固件安全 🔧

云安全的挑战在于配置与管理，而硬件安全则深入到计算设备的根基。本节我们将探讨处理器、TPM、基带等硬件组件的安全问题。

以下是相关的议题列表：
*   **P2-02**: 关于AMD平台安全处理器（PSP）你想知道的一切
*   **P10-10**: 针对TPM的远程时序攻击，又名TPM-Fail
*   **P15-15**: 非常规感知——利用新型硬件性能计数器检测漏洞利用
*   **P18-18**: Plundervolt——无需Rowhammer的软件级比特翻转
*   **P26-26**: 闪电击中三次之时——打破Thunderbolt 3安全
*   **P27-27**: 超越Root——为嵌入式移动芯片组定制固件
*   **P30-30**: 为安全测试模拟三星基带
*   **P35-36**: 逆向工程特斯拉电池管理系统以提升功率与续航
*   **P38-39**: 少一些推测，多一些行动——深入探索Fuchsia的安全架构
*   **P41-42**: 对安全内存的黑盒激光故障注入
*   **P49-50**: 打破三星的信任根——利用三星S10安全启动漏洞
*   **P66-67**: iOS内核指针验证码（PAC），一年之后

以**Plundervolt**为例，它是一种通过调节CPU电压引发计算错误的新型攻击。其核心原理可用以下伪代码描述：
```
underclock_voltage(CPU); // 恶意降低电压
trigger_sensitive_operation(); // 触发敏感操作（如签名）
// 电压不足导致计算错误，可能产生可利用的故障签名
```



### 移动与物联网安全 📱

从硬件抽象层向上，我们来到移动和物联网世界。这些设备数量庞大且深入生活，其安全性至关重要。

以下是相关的议题列表：
*   **P3-03**: IMP4GT——4G网络中的伪装攻击
*   **P11-11**: 后门十年——为所有人定制的中国Linux Rootkit
*   **P29-29**: Lamphone——利用灯泡发出的光实时被动重建语音
*   **P39-40**: Kr00k——影响数十亿Wi-Fi设备加密的严重漏洞
*   **P44-45**: 利用“梯云纵”漏洞链远程Root现代安卓设备
*   **P50-51**: IoT Skimmer——通过高功耗物联网僵尸网络操纵能源市场
*   **P55-56**: 深入探索Apple IO80211FamilyV2
*   **P58-59**: Spectra——打破无线芯片间的隔离
*   **P59-60**: 隐秘访问你的安卓手机——绕过蓝牙认证机制
*   **P62-63**: 随身携带的不安全感——植入式医疗设备的风险
*   **P65-66**: 实时检测伪4G基站
*   **P78-79**: 入侵供应链——Ripple20漏洞困扰数千万设备
*   **P85-86**: 通过逆向工程多个供应商的堆栈寻找新的蓝牙低功耗漏洞

以**Kr00k漏洞**为例，它影响了使用Broadcom和Cypress Wi-Fi芯片的设备。在断开连接时，芯片会使用全零的密钥来加密残留的数据帧，导致信息泄露。其过程可表示为：`连接断开 -> 密钥被重置为全零 -> 未清空的传输缓冲区使用弱密钥加密 -> 数据被窃听解密`。



### 操作系统与内核安全 💻

物联网设备运行着各类操作系统，而桌面和服务器操作系统更是攻击的主要目标。本节聚焦于系统核心——内核的安全。

以下是相关的议题列表：
*   **P6-06**: 揭秘现代Windows Rootkit
*   **P9-09**: macOS上的Office漏洞
*   **P12-12**: 关于定向模糊测试与释放后重用——如何发现复杂且隐蔽的漏洞
*   **P21-21**: NoJITsu——锁定JavaScript引擎
*   **P22-22**: 通过反取证技术隐藏进程内存
*   **P31-32**: 检测访问令牌操纵
*   **P43-44**: 通过攻击SecureKernel来打破VSM
*   **P52-53**: 通过驯服线程交错来利用内核竞争条件
*   **P53-54**: 通过Superfetch欺骗Windows
*   **P54-55**: 通过链接六个漏洞利用Safari危及macOS内核
*   **P57-58**: Demigod——模拟内核Rootkit的艺术
*   **P64-65**: 多方计算中的多个漏洞——打破加密货币最强大的防线

**释放后重用（UAF）** 是内核中常见的一类高危漏洞。其基本原理如下：
1.  对象A被分配在堆上。
2.  对象A的指针被释放，但某些地方仍保留着对它的引用（悬垂指针）。
3.  对象A的内存被重新分配给对象B。
4.  通过悬垂指针修改内存，实际上破坏了对象B的数据，可能导致权限提升。



### 网络与协议安全 🌐

操作系统之上是网络通信。本节探讨从以太网、TCP/IP到应用层协议（如HTTP、DNS）的各种安全问题。

以下是相关的议题列表：
*   **P14-14**: Routopsy——现代路由协议漏洞分析与利用
*   **P23-23**: EtherOops——探索利用以太网包中包漏洞的实用方法
*   **P25-25**: 工业协议网关分析
*   **P36-37**: 需要DoH——DNS正在进行的加密与中心化
*   **P56-57**: 2020年的HTTP请求走私——新变种、新防御与新挑战
*   **P67-68**: Web缓存纠缠——新型投毒途径
*   **P79-80**: 当TLS攻击你时

**HTTP请求走私**是一种利用前端服务器（如代理、CDN）和后端服务器解析HTTP请求差异的攻击。一个典型的`CL.TE`走私攻击请求可能如下：
```
POST / HTTP/1.1
Host: example.com
Content-Length: 13
Transfer-Encoding: chunked

0

SMUGGLED
```
前端服务器使用`Transfer-Encoding`，认为请求体已结束。后端服务器使用`Content-Length`，将`SMUGGLED`解析为下一个请求的开始。



### 应用安全与漏洞研究 🎯

网络协议最终服务于具体应用。本节关注各类应用软件、框架和特定平台（如PDF、Office）的安全漏洞。

以下是相关的议题列表：
*   **P5-05**: 黑客指南：利用深度学习减少侧信道攻击面
*   **P8-08**: 捕捉隐形蝾螈——具有攻击者控制输入的密码学（不）安全性
*   **P28-28**: 氪石驱动的超人——将对抗性攻击转化为你的防御
*   **P33-34**: 恶意统治星际争霸——利用AI驱动游戏系统的盲点
*   **P42-43**: 便携式文档缺陷101
*   **P45-46**: 我计算了Calc——利用Excel Online
*   **P46-47**: 逆向根源——识别在野外利用的0day漏洞
*   **P60-61**: 通往Root的未认证之旅——入侵你公司的企业软件
*   **P74-75**: 发现隐藏属性以攻击Node.js生态系统

在**对抗性攻击**中，攻击者通过向输入数据添加细微的、人眼难以察觉的扰动，使机器学习模型做出错误判断。其目标可以形式化为：找到一个扰动 `δ`，使得 `||δ||_p ≤ ε`，并且 `f(x + δ) ≠ f(x)`，其中 `f` 是目标模型，`ε` 是扰动上限。



### 社会工程与行业安全 🏥

技术漏洞之外，人的因素和特定行业（如医疗、金融、选举）的安全同样关键。这是安全攻防的最后一道也是第一道防线。

以下是相关的议题列表：
*   **P4-04**: 为选举供应商建立有效的漏洞披露计划
*   **P16-16**: 梅赛德斯-奔驰安全研究——从硬件到车辆控制
*   **P20-20**: 评估和修补网络安全中人为因素的框架
*   **P24-24**: 为撒哈拉以南非洲的新兴行业构建网络安全战略
*   **P37-38**: 有缺陷的网络风险模型的政策影响及修复方法
*   **P47-48**: 打破思维，解决问题——两年建立安全研究团队的经验教训
*   **P51-52**: 改进端到端加密通信的心智模型
*   **P61-62**: 你根本不知道谁发送了那封邮件——针对邮件发件人验证的18种攻击
*   **P63-64**: 我如何用AI创造我的克隆——下一代社会工程学
*   **P70-71**: 从印度到世界产生影响——通过建立和培育安全社区
*   **P71-72**: 工程化同理心——将软件工程原则和流程应用于安全团队
*   **P72-73**: Healthscare——医疗保健应用安全的内部剖析
*   **P73-74**: 与小医疗供应商一起阻止“蛇油”——解决安全挑战
*   **P76-77**: 网络安全生存的护理人员指南
*   **P77-78**: OTRazor——用于工业自动化漏洞发现的静态代码分析
*   **P81-82**: 星际间的低语——卫星窃听的实用视角
*   **P82-83**: FASTCash和INJX_Pure——威胁行为者如何利用公共标准进行金融攻击
*   **P83-84**: EdTech——终极APT
*   **P84-85**: 选举安全——保障美国的未来
*   **P86-87**: 黑客舆论
*   **P87-88**: 思维游戏——利用数据解决人为因素
*   **P88-89**: 压力测试民主——全球大流行期间的选举完整性
*   **P89-90**: 依赖项中的魔鬼——数据驱动的软件成分分析
*   **P90-91**: 我们去了爱荷华州，只得到了这些重罪逮捕记录

在**端到端加密**中，一个常见的误解是“消息无法被拦截”。更准确的心智模型是：消息在**发送设备**上加密，密文在传输过程中可能被截获但无法被解密，只有在**接收设备**上才能解密。攻击者可能通过攻击通信的任一端点（如入侵手机）来窃听，而不是破解加密算法本身。



## 总结

在本教程中，我们一起学习了BlackHat 2020安全会议的精华内容。我们从云安全的基础设施风险出发，深入探讨了硬件、固件的底层漏洞，遍历了移动物联网、操作系统内核、网络协议到具体应用层的各类攻击技术，最后扩展到社会工程和关键行业安全。

这些议题共同描绘了一幅现代网络安全的全景图：攻击面正在急剧扩张，从物理芯片延伸到云服务，从技术漏洞延伸到人性弱点。对于初学者而言，理解这些多样化的攻击向量和防御思路是构建安全知识体系的重要第一步。安全是一个持续学习和对抗的过程，希望本教程能为你提供一个坚实的起点。